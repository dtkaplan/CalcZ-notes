<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 15 h and derivatives | CalcZ Student Notes</title>
<meta name="author" content="Daniel Kaplan">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.2"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.5.3/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.5.3/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.4/tabs.js"></script><script src="libs/bs3compat-0.2.4/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script><script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script><link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="libs/datatables-binding-0.12/datatables.js"></script><link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script><link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet">
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="libs/plotly-binding-4.9.3/plotly.js"></script><script src="libs/typedarray-0.1/typedarray.min.js"></script><link href="libs/plotly-htmlwidgets-css-1.57.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="libs/plotly-main-1.57.1/plotly-latest.min.js"></script><script type="text/x-mathjax-config">
  const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
  for (let popover of popovers){
    const div = document.createElement('div');
    div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
    div.innerHTML = popover.getAttribute('data-content');
    
    // Will this work with TeX on its own line?
    var has_math = div.querySelector("span.math");
    if (has_math) {
      document.body.appendChild(div);
    	MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    	MathJax.Hub.Queue(function(){
        popover.setAttribute('data-content', div.innerHTML);
    	})
    }
  }
  </script><script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js"></script><!-- CSS --><link rel="stylesheet" href="css/CalcZ-style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">CalcZ Student Notes</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Welcome to calculus</a></li>
<li><a class="" href="calcz-project-development-plan.html">CalcZ Project Development Plan</a></li>
<li class="book-part">Block 1: Functions and quantity</li>
<li><a class="" href="outline-of-block-1.html">Outline of Block 1</a></li>
<li><a class="" href="change.html"><span class="header-section-number">1</span> Change</a></li>
<li><a class="" href="structure-of-a-function.html"><span class="header-section-number">2</span> Structure of a function</a></li>
<li><a class="" href="fun-describing.html"><span class="header-section-number">3</span> Describing functions</a></li>
<li><a class="" href="fun-notation.html"><span class="header-section-number">4</span> Notation for functions</a></li>
<li><a class="" href="graphs-and-graphics.html"><span class="header-section-number">5</span> Graphics &amp; function graphs</a></li>
<li><a class="" href="params-intro.html"><span class="header-section-number">6</span> Parameters for functions</a></li>
<li><a class="" href="process-of-modeling.html"><span class="header-section-number">7</span> Process of modeling</a></li>
<li><a class="" href="fun-slopes.html"><span class="header-section-number">8</span> Slope function</a></li>
<li><a class="" href="fun-assembling.html"><span class="header-section-number">9</span> Assembling functions</a></li>
<li><a class="" href="fun-multiple-inputs.html"><span class="header-section-number">10</span> Functions with multiple inputs</a></li>
<li><a class="" href="fun-piecewise.html"><span class="header-section-number">11</span> Piecewise functions</a></li>
<li><a class="" href="magnitudes.html"><span class="header-section-number">12</span> Magnitudes</a></li>
<li><a class="" href="dimensions.html"><span class="header-section-number">13</span> Dimensions</a></li>
<li class="book-part">Block 2: Differentiation</li>
<li><a class="" href="outline-of-block-2.html">Outline of Block 2</a></li>
<li><a class="" href="change-relationships.html"><span class="header-section-number">14</span> Change relationships</a></li>
<li><a class="active" href="h-and-derivatives.html"><span class="header-section-number">15</span> h and derivatives</a></li>
<li><a class="" href="optim-and-shape.html"><span class="header-section-number">16</span> Optimization</a></li>
<li><a class="" href="cont-and-smooth.html"><span class="header-section-number">17</span> Continuity and smoothness</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/dtkaplan/CalcZ-notes">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="h-and-derivatives" class="section level1">
<h1>
<span class="header-section-number">15</span> h and derivatives<a class="anchor" aria-label="anchor" href="#h-and-derivatives"><i class="fas fa-link"></i></a>
</h1>
<p>We already established, by numerical experiment, the result of differentiating the naked modelings functions. To summarize,</p>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th>name</th>
<th><span class="math inline">\(f(t)\)</span></th>
<th>
<span class="math inline">\({\cal D}_t f(t)\)</span> (for small <span class="math inline">\(h\)</span>)</th>
<th>name of <span class="math inline">\({\cal D_t}f(t)\)</span>
</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>constant fun</td>
<td><span class="math inline">\(f(t) = 1\)</span></td>
<td><span class="math inline">\({\cal D}_t f(t) = 0\)</span></td>
<td>zero function</td>
</tr>
<tr class="even">
<td>proportional</td>
<td><span class="math inline">\(f(x) = x\)</span></td>
<td><span class="math inline">\({\cal D}_t f(t) = 1\)</span></td>
<td>constant</td>
</tr>
<tr class="odd">
<td>exponential</td>
<td><span class="math inline">\(e^t\)</span></td>
<td><span class="math inline">\(e^t\)</span></td>
<td>exponential</td>
</tr>
<tr class="even">
<td>logarithm</td>
<td><span class="math inline">\(\ln(t)\)</span></td>
<td><span class="math inline">\(1/t\)</span></td>
<td>reciprocal (power-law <span class="math inline">\(t^{-1}\)</span>)</td>
</tr>
<tr class="odd">
<td>sinusoid</td>
<td><span class="math inline">\(\sin(t)\)</span></td>
<td><span class="math inline">\(\sin(x + \pi/2) = \cos(t)\)</span></td>
<td>shifted sinusoid</td>
</tr>
<tr class="even">
<td>power-law</td>
<td>
<span class="math inline">\(t^p\)</span> with <span class="math inline">\(p\neq 0\)</span>
</td>
<td><span class="math inline">\(p\,t^{p-1}\)</span></td>
<td>power-law</td>
</tr>
<tr class="odd">
<td>sigmoid</td>
<td><span class="math inline">\(\text{pnorm}(t)\)</span></td>
<td>$(t)</td>
<td>hump</td>
</tr>
</tbody>
</table></div>
<p>A mathematician might prefer to replace the word “established” in the first sentence of this table with a weaker word “motivated” or “proposed.” This is entirely fair. Indeed, let’s do another experiment that will cause us to wonder just how solid are the conclusions presented in the table above.</p>
<p>Recall that we can easily define the slope function for any <span class="math inline">\(f(x)\)</span>, for example the slope function of <span class="math inline">\(\sin(x)\)</span>:</p>
<div class="sourceCode" id="cb96"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">Dsin</span> <span class="op">&lt;-</span> <span class="fu">makeFun</span><span class="op">(</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Trig.html">sin</a></span><span class="op">(</span><span class="va">x</span><span class="op">+</span><span class="va">h</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/Trig.html">sin</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span><span class="op">/</span><span class="va">h</span>  <span class="op">~</span> <span class="va">x</span><span class="op">)</span></code></pre></div>
<p>In justifying the entry for <span class="math inline">\(\sin()\)</span> in the table, we plotted <code>Dsin()</code> using small <code>h</code>, for instance, <code>h=0.000001</code>. It would be comforting to continue the experiment with even smaller <code>h</code>. Doing so, we discover a problem.</p>
<div class="figure">
<span id="fig:Dsin-small-h"></span>
<img src="CalcZ-notes_files/figure-html/Dsin-small-h-1.png" alt="Graphing the slope function of $\sin(x)$ for small enough $h$ produces a result inconsistent with the table for the naked modeling functions. Instead of producing a $\cos(x)$, we get a ragged function." width="672"><p class="caption">
Figure 15.1: Graphing the slope function of <span class="math inline">\(\sin(x)\)</span> for small enough <span class="math inline">\(h\)</span> produces a result inconsistent with the table for the naked modeling functions. Instead of producing a <span class="math inline">\(\cos(x)\)</span>, we get a ragged function.
</p>
</div>
<p>Things get even worse for smaller <span class="math inline">\(h\)</span> still, as you can confirm for yourself using a computing sandbox.</p>
<p>It turns out that the reason for this behavior is the way in which computer arithmetic has been engineered. To demonstrate the non-mathematical behavior of computer arithmetic, consider what happens when we add and subtract using 1 and a number that is small compared to 1.</p>
<div class="sourceCode" id="cb97"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>digits<span class="op">=</span><span class="fl">20</span><span class="op">)</span>
<span class="fl">0.000000000000000000000001</span></code></pre></div>
<pre><code>## [1] 9.999999999999999237e-25</code></pre>
<div class="sourceCode" id="cb99"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">1</span> <span class="op">+</span> <span class="fl">0.000000000000000000000001</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb101"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">1</span> <span class="op">-</span> <span class="fl">0.000000000000000000000001</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb103"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">1</span> <span class="op">+</span> <span class="fl">0.000000000000000000000001</span> <span class="op">-</span> <span class="fl">1</span></code></pre></div>
<pre><code>## [1] 0</code></pre>
<p>Using technical computing successfully at a professional level requires some understanding of the ways in which computer arithmetic differs from mathematical arithmetic, And the R/mosaic <code><a href="https://rdrr.io/r/stats/deriv.html">D()</a></code> operator has been constructed with these considerations in mind. But our purpose here is not to push the computer beyond it’s arithmetic limits but to demonstrate that the differentiation table for the naked modeling functions is correct.</p>
<div id="the-h-framework" class="section level2">
<h2>
<span class="header-section-number">15.1</span> The <span class="math inline">\(h\)</span> framework<a class="anchor" aria-label="anchor" href="#the-h-framework"><i class="fas fa-link"></i></a>
</h2>
<p>In the end, all of the work we’re going to do with <span class="math inline">\(h\)</span> will have a simple result: confirming the facts presented in the differentiation table. In a court of law, that confirmation could be established by appeal to established authority. For instance, look in any calculus textbook and you’ll see the same facts as in the table. (And if you find an exception, you can be sure it’s a typographical error!)</p>
<p>For most people, mathematical proof is not much different from appealing to established authority. Not everyone is skilled at following the deductive steps of a proof and almost everyone has been tricked into accepting a step that is not logically valid. And everyone makes mistakes.</p>
<p>For the benefit of such people, rather than proving the facts in the differentiation table, we’re going to reconstruct, hopefully in a fun way, the framework developed by the mathematics community over roughly two centuries that enabled mathematicians to satisfy themselves that the methods used by the pioneers could be justified beyond doubt.</p>
<p>The basic problem, which everyone always agreed on, is that it’s not proper to set <span class="math inline">\(h\)</span> to zero. The dispute is about how to handle <span class="math inline">\(h\)</span> in such a way that it can be held non-zero and yet give results where <span class="math inline">\(h\)</span> has evaporated as if it were never there.</p>
<p>To illustrate how this can be done, consider the algebra of the slope function for <span class="math inline">\(g(x) \equiv x\)</span>:</p>
<p><span class="math display">\[{\cal D}_x g(x) \equiv \frac{g(x+h) - g(x)}{h} = \frac{(x+h) - x}{h} = \frac{h}{h} = 1\]</span>
The above steps are completely justified for any <span class="math inline">\(h\)</span> whatsoever, so long as <span class="math inline">\(h \neq 0\)</span>. So we have a formula <span class="math inline">\({\cal D}_x\, x = 1\)</span> which will be correct no matter whether <span class="math inline">\(h\)</span> is big or small.</p>
<p>In contrast, consider the slope function of <span class="math inline">\(f(x) \equiv x^2\)</span>:
<span class="math display">\[{\cal D}_x f(x) \equiv \frac{f(x+h) - f(x)}{h} = \frac{(x+h)^2 -x^2}{h} = \\
\ \\
= \frac{x^2 + 2hx + h^2 - x^2}{h} = \frac{2 h x + h^2}{h} = 2 x + h\]</span>
Again, we have a formula which is correct for any <span class="math inline">\(h\)</span> whatsoever, so long as <span class="math inline">\(h\)</span> is not zero. Unfortunately, <span class="math inline">\(h\)</span> is still present in the formula. In differentiating <span class="math inline">\(x^2\)</span> we want to make <span class="math inline">\(h\)</span> go away.</p>
<p>I like to think of <span class="math inline">\(h\)</span> as a kind of <em>tire iron</em>, a small tool used to stretch the bead of a bicycle tire in order to pull it over the wheel rim.</p>
<div class="figure" style="text-align: center">
<span id="fig:unnamed-chunk-108"></span>
<img src="www/tire-iron.png" alt="A tire iron in use" width="30%"><p class="caption">
Figure 15.2: A tire iron in use
</p>
</div>
<p>Once the tire iron has done its job, its removed and you would never know that it was ever there (except that the tire is now successfully mounted on the wheel).</p>
<p>But this is calculus, not bicycle mechanics. How do we know that removing the tire iron isn’t damaging the mathematical wheel?</p>
<p>Still in the spirit of having fun, let’s try a more serious metaphor… imagining <span class="math inline">\(h\)</span> is actually a central character in a calculus play. The character <span class="math inline">\(h\)</span> is in the middle of the story but <em>never appears in the play</em>, like the missing character Godot in the famous play <em><a href="https://en.wikipedia.org/wiki/Waiting_for_Godot#Godot">Waiting for Godot</a></em>.</p>
<p>We said that <span class="math inline">\(h\)</span> in the slope function <span class="math inline">\({\cal D}_x x^2 = 2 x + h\)</span>, so long as <span class="math inline">\(h\)</span> is small, plays both a central role and has hardly any effect. An economizing director re-writes the play to take <span class="math inline">\(h\)</span> out of it, setting <span class="math inline">\(h=0\)</span> in the formula <span class="math inline">\(2 x + h\)</span>: a non-speaking, offstage role.</p>
<p>We’ve already seen using legitimate algebra that <span class="math display">\[{\cal D}_x g(x) = 2 x + h\]</span> Re-writing by replacing <span class="math inline">\(h\)</span> with 0 streamlines the play, turning <span class="math inline">\({\cal D}_x x^2 = 2x +h\)</span> from a dialog involving both <span class="math inline">\(x\)</span> and <span class="math inline">\(h\)</span> into a monologue with <span class="math inline">\(h\)</span> absent: <span class="math display">\[\partial_x x^2 = 2 x\]</span> Simple.</p>
<p>And yet … the director gets a letter from the Bit Players Union.</p>
<blockquote>
<p><em>We observe that you have eliminated the role of <span class="math inline">\(h\)</span> in the final production version of <span class="math inline">\(\partial_x g(x)\)</span>. This is a violation of Union regulations. Recall that the basis for <span class="math inline">\(\partial_x g(x)\)</span> is the slope function <span class="math inline">\({\cal D}_x g(x)\)</span>. The slope function is defined as a ratio: <span class="math display">\[{\cal D}_x g(x) \equiv \frac{g(x+h) - g(x)}{h}\]</span> Eliminating <span class="math inline">\(h\)</span> entirely by replacing her with zero is a <strong>division by zero error</strong> forbidden by Article 3.16§B¶2 of the Unified Laws of Arithmetic. We ask that you comply with this Article by re-instating the role of <span class="math inline">\(h\)</span> in all evaluations of <span class="math inline">\({\cal D} g(x)\)</span>.</em></p>
</blockquote>
<p>Reading this, the director calls her lawyer. Is there a loophole for removing <span class="math inline">\(h\)</span> without breaking the mathematical prohibition on dividing by zero?</p>
<div class="forinstructor" latex-data="">
<p>In 1734, famous philosopher <a href="https://en.wikipedia.org/wiki/George_Berkeley">George Berkeley</a> (1685-1753) published a long-titled book: <em>The Analyst: A Discourse Addressed to an Infidel Mathematician: Wherein It Is Examined Whether the Object, Principles, and Inferences of the Modern Analysis Are More Distinctly Conceived, or More Evidently Deduced, Than Religious Mysteries and Points of Faith</em>. In <em>The Analyst</em>, Berkeley took issue with the arguments of that time that it is legitimate to divide by <span class="math inline">\(h\)</span> when, ultimately, <span class="math inline">\(h\)</span> will be replaced by zero. Calling <span class="math inline">\(h\)</span> an “evanescent increment,” he asked,</p>
<blockquote>
<p><em>“And what are these same evanescent Increments? They are neither finite Quantities nor Quantities infinitely small, nor yet nothing. May we not call them the ghosts of departed quantities?”</em></p>
</blockquote>
<p>Interesting, Berkeley believed that the ghost of <span class="math inline">\(h\)</span> yielded correct results. His objection was that the framers of calculus had made two, canceling errors.</p>
<blockquote>
<p><em>“[B]y virtue of a two fold mistake you arrive, though not at science, yet truth.”</em></p>
</blockquote>
<p>Berkeley was saying that calculus had not yet been put on a solid logical foundation. It was to be more than a century after Berkeley’s death until this work was accomplished. Once accomplished, the results that had been claimed true all along were confirmed.</p>
</div>
<p>The loophole involves a bit of legalistic cover, something like a corporation. As you may know, a corporation is a legal structure that makes if feasible for people to invest without being subject to unlimited liability. You bought stock in a company that later accidentally caused a catastrophe? The company will go out of business and your stock will be worthless. But you are legally obliged to fix the damage: you liability is limited. Such companies identify themselves as such with the legal suffix “Inc.” and they are beholden to the state in certain ways, such as the requirement to pay taxes on profits.</p>
<p>In calculus, the equivalent of “Inc” is <span class="math inline">\(\lim_{h \rightarrow 0}\)</span>. By prepending this to a calculation, you are allowed to carry out arithmetic operations such as dividing by <span class="math inline">\(h\)</span> without concern about liability for dividing by zero. You can perform any algebraic operations so long as they are legitimate when <span class="math inline">\(h \neq 0\)</span>. For instance, it is taken as entirely correct to say:</p>
<p><span class="math display">\[\lim_{h\rightarrow 0}\frac{h}{h} = 1\]</span>
Another privilege for the users of <span class="math inline">\(\lim_{h\rightarrow 0}\)</span> is that, at the end of the algebraic derivation, they are entitled to replace <span class="math inline">\(h\)</span> with zero so long as no divide by zero is required. The endpoint of the above is 1, where <span class="math inline">\(h\)</span> doesn’t even appear. But consider
<span class="math display">\[\lim_{h \rightarrow 0} \frac{(x + h)^2 - x^2}{h} = \\
\ \\
= \lim{h \rightarrow 0} 2 x + h\]</span></p>
<p>In the last step, an <span class="math inline">\(h\)</span> appears. But we are entitled to take the result of the derivation, <span class="math inline">\(2 x + h\)</span>, and replace the <span class="math inline">\(h\)</span> by zero. Doing so doesn’t entail any illegitimate operation such as dividing by zero.</p>
<p>At it’s most basic, you’re entitled to state <span class="math display">\[\lim_{h\rightarrow 0} h = 0\]</span> which, to be honest, looks like nothing more than common sense.</p>
</div>
<div id="approximations-to-naked-modeling-functions" class="section level2">
<h2>
<span class="header-section-number">15.2</span> Approximations to naked modeling functions<a class="anchor" aria-label="anchor" href="#approximations-to-naked-modeling-functions"><i class="fas fa-link"></i></a>
</h2>
<p>Let’s take a close look at two of our naked modeling functions: <span class="math inline">\(e^x\)</span> and <span class="math inline">\(\sin(x)\)</span>. By “close” I mean very near to <span class="math inline">\(x=0\)</span>. You already know that <span class="math inline">\(e^0 = 1\)</span> and <span class="math inline">\(\sin(0) = 0\)</span>. But consider “very small” <span class="math inline">\(x\)</span>, in the spirit of <span class="math inline">\(\lim_{x\rightarrow 0}\)</span>.</p>
<p>The fundamental approximations are these:</p>
<p><span class="math display">\[e^x \approx 1 + x\\
\ \\
\sin(x) \approx x\\
\ \\
\cos(x) \approx 1 - x^2\]</span></p>
<p>Figure @ref(fig:small-x-naked} shows the naked functions along with the approximations. We’re interested in “small” <span class="math inline">\(x\)</span>. The left panel shows the functions for <span class="math inline">\(-1 \leq x \leq 1\)</span> and the right panel zooms in for small <span class="math inline">\(x\)</span>, taking “small” in an arbitrary but everyday sense of, say, less than 0.01.</p>
<div class="figure">
<span id="fig:small-x-naked"></span>
<img src="CalcZ-notes_files/figure-html/small-x-naked-1.png" alt="Comparing the naked modeling functions exp(x), sin(x), and cos(x) to their simple approximations for small x. The functions are drawn as a broad gray line; the approximations are a thin blue line." width="50%"><img src="CalcZ-notes_files/figure-html/small-x-naked-2.png" alt="Comparing the naked modeling functions exp(x), sin(x), and cos(x) to their simple approximations for small x. The functions are drawn as a broad gray line; the approximations are a thin blue line." width="50%"><img src="CalcZ-notes_files/figure-html/small-x-naked-3.png" alt="Comparing the naked modeling functions exp(x), sin(x), and cos(x) to their simple approximations for small x. The functions are drawn as a broad gray line; the approximations are a thin blue line." width="50%"><img src="CalcZ-notes_files/figure-html/small-x-naked-4.png" alt="Comparing the naked modeling functions exp(x), sin(x), and cos(x) to their simple approximations for small x. The functions are drawn as a broad gray line; the approximations are a thin blue line." width="50%"><img src="CalcZ-notes_files/figure-html/small-x-naked-5.png" alt="Comparing the naked modeling functions exp(x), sin(x), and cos(x) to their simple approximations for small x. The functions are drawn as a broad gray line; the approximations are a thin blue line." width="50%"><img src="CalcZ-notes_files/figure-html/small-x-naked-6.png" alt="Comparing the naked modeling functions exp(x), sin(x), and cos(x) to their simple approximations for small x. The functions are drawn as a broad gray line; the approximations are a thin blue line." width="50%"><p class="caption">
Figure 15.3: Comparing the naked modeling functions exp(x), sin(x), and cos(x) to their simple approximations for small x. The functions are drawn as a broad gray line; the approximations are a thin blue line.
</p>
</div>
<p>Near <span class="math inline">\(x=0\)</span>, the graph of the approximation is dead on center of the corresponding naked modeling function.</p>
<p>The approximations will break down for very small <span class="math inline">\(x\)</span> because none of the approximations involve dividing by <span class="math inline">\(x\)</span>. And remember that the approximations are only good when <span class="math inline">\(x\)</span> is small!</p>
<p>Consider the result of differentiating <span class="math inline">\(e^x\)</span>. The slope function is</p>
<p><span class="math display">\[{\cal D}_x e^x \equiv \frac{e^{x+h} - e^x}{h} = e^x \left[\frac{e^h - 1}{h}\right]\]</span>
Let’s examine <span class="math inline">\(\frac{e^h - 1}{h}\)</span> for very small <span class="math inline">\(h\)</span>. This is where we will use the approximation for <span class="math inline">\(e^x\)</span>, but we’ll write it with <span class="math inline">\(h\)</span> as the argument: <span class="math inline">\(e^h \approx 1 + h\)</span>. Plugging this in to the bracketed quantity, we have <span class="math display">\[\lim_{h \rightarrow 0}\frac{e^h - 1}{h} = \lim_{h\rightarrow 0}\frac{1 + h - 1}{h} = 1\]</span> Overall, this means <span class="math display">\[\partial_x e^x = \lim_{h\rightarrow 0}{\cal D}_x e^x = e^x\]</span></p>
<p>Now to demonstrate that <span class="math inline">\(\partial_x \sin(x) = \cos(x)\)</span> a fact that is often used in calculus. Only calculus teachers need to know how to perform this demonstration, so the following is just FYI:.</p>
<p>The demonstration builds on a formula for the sine of the sum of two quantities:</p>
<p><span class="math display">\[\sin(x + h) = \sin(x)\cos(h) + \cos(x)\sin(h)\]</span></p>
<p>With this, we can simplify the slope function of <span class="math inline">\(\sin\)</span>:
<span class="math display">\[{\cal D}_x \sin(x) \equiv \frac{\sin(x+h) - \sin(x)}{h} =\\
\ \\
= \frac{1}{h} \left[\strut\sin(x)\cos(h) + \cos(x)\sin(h) - \sin(x) \right]\\
\ \\
= \frac{1}{h} \left[\strut \sin(x) \left[\cos(h) -1\right] + \cos(x)\sin(h)\right]\]</span>
Plugging in the approximations <span class="math inline">\(\sin(h) = h\)</span> and <span class="math inline">\(\cos(h) = 1 - h^2\)</span> we get
<span class="math display">\[{\cal D}_x \sin(x) = \frac{1}{h} \left[\strut\sin(x)(- h^2)  +\cos(x)h\right] = \\
\ \\
= \cos(x) - h \sin(x)\]</span>
With the division by <span class="math inline">\(h\)</span> safely removed, we cn now apply the limit:
<span class="math display">\[\partial_x \sin(x) = \lim_{h\rightarrow 0} \left[\strut \cos(x) - h \sin(x)\right] = \cos(x) - \sin(x) \left[\lim_{h\rightarrow 0}h\right] = \cos(x)\]</span></p>
<div class="takenote">
<p>We write the differentiation operator (with respect to input <span class="math inline">\(x\)</span>) as <span class="math inline">\(\partial_x\)</span>. We wrote the slope-function operator (again, with respect to <span class="math inline">\(x\)</span>) as <span class="math inline">\({\cal D}_x\)</span>.</p>
<p>The slope-function operator <span class="math inline">\({\cal D}_x\)</span> is only a stepping stone on the path toward the real destination: differentiation. We’re defining differentiation as a limit:</p>
<p><span class="math display">\[\partial_x\, f(x) \equiv \lim_{h\rightarrow 0} {\cal D}_x\, f(x)\]</span>
In practice, however, we perform differentiation whenever possible not with the limit definition, but with the <em>consequences</em> of the limit definition, such as <span class="math inline">\(\partial_x e^x = e^x\)</span> or <span class="math inline">\(\partial_x \sin(x) = \cos(x)\)</span>. Sometimes these consequences are called the <strong><em>rules of differentiation</em></strong>. These rules are important particularly for carrying out differentiation using paper and pencil, but if a computer is available, the rules have been mastered for you by software. Since such software is widely available, we’re going to step away from them for a bit. The next chapters present some of the uses for differentiation and contexts in which differentiation is used in constructing new modeling functions.</p>
</div>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="change-relationships.html"><span class="header-section-number">14</span> Change relationships</a></div>
<div class="next"><a href="optim-and-shape.html"><span class="header-section-number">16</span> Optimization</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#h-and-derivatives"><span class="header-section-number">15</span> h and derivatives</a></li>
<li><a class="nav-link" href="#the-h-framework"><span class="header-section-number">15.1</span> The \(h\) framework</a></li>
<li><a class="nav-link" href="#approximations-to-naked-modeling-functions"><span class="header-section-number">15.2</span> Approximations to naked modeling functions</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/dtkaplan/CalcZ-notes/blob/master/Diff-h-naked.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/dtkaplan/CalcZ-notes/edit/master/Diff-h-naked.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>CalcZ Student Notes</strong>" was written by Daniel Kaplan. It was last built on 2021-06-08.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>
</html>
