<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 5 Modeling with functions | CalcZ Student Notes</title>
<meta name="author" content="Daniel Kaplan">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.2"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.5.3/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.5.3/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.4/tabs.js"></script><script src="libs/bs3compat-0.2.4/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script><script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script><link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="libs/datatables-binding-0.12/datatables.js"></script><link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script><link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet">
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script><script src="libs/plotly-binding-4.9.3/plotly.js"></script><script src="libs/typedarray-0.1/typedarray.min.js"></script><link href="libs/plotly-htmlwidgets-css-1.57.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="libs/plotly-main-1.57.1/plotly-latest.min.js"></script><script type="text/x-mathjax-config">
  const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
  for (let popover of popovers){
    const div = document.createElement('div');
    div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
    div.innerHTML = popover.getAttribute('data-content');
    
    // Will this work with TeX on its own line?
    var has_math = div.querySelector("span.math");
    if (has_math) {
      document.body.appendChild(div);
    	MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    	MathJax.Hub.Queue(function(){
        popover.setAttribute('data-content', div.innerHTML);
    	})
    }
  }
  </script><script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js"></script><!-- CSS --><link rel="stylesheet" href="css/CalcZ-style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">CalcZ Student Notes</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Status</a></li>
<li class="book-part">Block 1: Functions and quantity</li>
<li><a class="" href="what-is-a-function.html"><span class="header-section-number">1</span> What is a function?</a></li>
<li><a class="" href="graphs-graphics.html"><span class="header-section-number">2</span> Graphs &amp; Graphics</a></li>
<li><a class="" href="notation-for-functions.html"><span class="header-section-number">3</span> Notation for functions</a></li>
<li><a class="" href="the-basic-modeling-functions.html"><span class="header-section-number">4</span> The Basic Modeling Functions</a></li>
<li><a class="active" href="modeling-with-functions.html"><span class="header-section-number">5</span> Modeling with functions</a></li>
<li class="book-part">Block 2: Differences and differentiation</li>
<li><a class="" href="functions-and-patterns.html"><span class="header-section-number">6</span> Functions and patterns</a></li>
<li><a class="" href="instantaneous-rate-of-change-1.html"><span class="header-section-number">7</span> Instantaneous rate of change</a></li>
<li><a class="" href="rate-of-change-relationships.html"><span class="header-section-number">8</span> Rate-of-change relationships</a></li>
<li><a class="" href="continuity-and-smoothness.html"><span class="header-section-number">9</span> Continuity and smoothness</a></li>
<li><a class="" href="derivatives-of-the-basic-modeling-functions.html"><span class="header-section-number">10</span> Derivatives of the basic modeling functions</a></li>
<li><a class="" href="evanescent-h.html"><span class="header-section-number">11</span> Evanescent \(h\)</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/dtkaplan/CalcZ-notes">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="modeling-with-functions" class="section level1">
<h1>
<span class="header-section-number">5</span> Modeling with functions<a class="anchor" aria-label="anchor" href="#modeling-with-functions"><i class="fas fa-link"></i></a>
</h1>
<p>A central task in solving problems with mathematical modeling is the construction of appropriate functions to capture important features of the real-world situation you are working with. You’ve seen the notation that we’re going to use to describe functions to either the computer or the mathematical reader, and learned some of the terminology: function name, inputs, output, arguments, argument names, parameters, default values for parameters, algorithm, <code>makeFun()</code>, tilde expressions, and so on.</p>
<p>The next step in developing modeling skills is to acquaint yourself with a set of <strong><em>basic modeling functions</em></strong> that provide important building blocks for the functions you will construct in your mathematical modeling work. Drawing on the collective experience of the mathematical modeling community, we have identified a small set of specific function families which address a large set of the most common modeling situations.</p>
<p>The next several sections are like the displays in a hardware store. The display consists of a large number of collections of bins. Each collection consists of a single type of hardware, for instance, a washer. There are many collections because there are many kinds of hardware: bolts, wood screws, metal screws, nuts, washers, gaskets, etc. Typically, each collection involves a large number of bins containing different sizes or materials of the hardware item.</p>
<div class="figure" style="text-align: center">
<span id="fig:Fun-2-intro-1"></span>
<img src="www/hardware-display.jpg" alt="[Source](https://www.mardens.com/what-we-sell/hardware/) Display racks of fasteners and other hardware." width="80%"><p class="caption">
Figure 5.1: <a href="https://www.mardens.com/what-we-sell/hardware/">Source</a> Display racks of fasteners and other hardware.
</p>
</div>
<p>The function families you will study correspond to different kinds of hardware. We’ll need just a few—nails, screws, bolts, washers, nuts—enough to get you started on the common tasks. We call them a families of functions because most of them involve parameters, analogous to the different size of the hardware item. Depending on what field you work in, you may find yourself needing specialized functions: a “nut” is not enough, you will need to distinguish between wing nuts, wire nuts, cap nuts, flange nuts, tee nuts. (If you’re interested to see what a hardward store for mathematical functions looks like, explore the <a href="https://dlmf.nist.gov/"><em>Digital Library of Mathematical Functions</em></a> maintained by the US National Institute of Standards and Technology.)</p>
<p>Here’s a list of what we are calling the basic modeling functions. Other authors might exclude one or two or include an alternate, but this list will serve you well.</p>
<ol style="list-style-type: decimal">
<li>Linear function</li>
<li>Exponential function</li>
<li>Power-law function</li>
<li>Logarithm</li>
<li>Sinusoid</li>
<li>Sigmoid</li>
<li>Hump</li>
</ol>
<p>For each function in this list, you’re going to see the traditional mathematical name (if there is one), the parameter(s) used in the functions, the graphical “shape” of the function, and one or more common settings where the function is used. When appropriate, we’ll also see how to choose values for the parameters in order to match data as closely as possible.</p>
<p>Each of these function takes a single input, which we’ll generally name <span class="math inline">\(x\)</span> or <span class="math inline">\(t\)</span>. We’ll use names for the parameters that are more or less standard in the literature</p>
<p>While we’re making the list, we’ll add two functions that appear in often in combination with the above but which are so modest that people don’t always notice them. By naming them, we’ll be able to point out the roles they play.</p>
<ol start="8" style="list-style-type: decimal">
<li>The constant function</li>
<li>The proportionality function</li>
</ol>
<div id="the-straight-line-family" class="section level2">
<h2>
<span class="header-section-number">5.1</span> The straight-line family<a class="anchor" aria-label="anchor" href="#the-straight-line-family"><i class="fas fa-link"></i></a>
</h2>
<pre><code>i. (Fun-1C-a) *Review (from previous math classes) the parameters of the straight-line function: y-intercept and slope.*
ii. (Fun-1C-b) *Use a straight-line function in a modeling context.*
iii. (Fun-1C-c) *Spot discrepancies of data from a straight-line model.*
iv. (Fun-1C-d) *Construct a hock-stick function by piecewise combination of a constant function and a straight-line function with non-zero slope.*</code></pre>
<p>We’ll start with a simple function that appears throughout calculus and mathematical modeling. You probably have heard this function called a “linear function,” but we prefer to call it a “straight-line” function since its graph is a straight line. (Aside for the mathematically experienced: Strictly speaking, what’s called the linear function does not have the technical property of <strong><em>linearity</em></strong>, which in mathematics means something subtly different than “straight line.” We’ll need the mathematical property of linearity later in CalcZ.)</p>
<p>Let’s define a function <span class="math inline">\(g()\)</span> which is a straight-line function: <span class="math display">\[g(x) \equiv m x + b\]</span> You likely have worked a lot with this kind of function in your previous math courses. If so, recall that there are two parameters, <span class="math inline">\(m\)</span> and <span class="math inline">\(b\)</span> called the <strong><em>slope</em></strong> and <strong><em>y-intercept</em></strong> respectively.</p>
<p>The straight-line function might be thought of as the <em>default</em> modeling function. If you want to describe a relationship between two quantities, using the straight-line function can often be just what’s required.</p>
<p>In using calculus, we’ll often be zooming in on a function over a tiny domain. Just about any function, when looked at over a tiny domain, is approximately a straight-line function.</p>
<p>To illustrate, consider the data plotted below recording monthly household natural gas use for the author’s family. This varies from month to month, and since gas is mainly used for heating the house, it’s reasonable to think that gas usage is related to the outdoor temperature. Each dot in the graph shows one month’s data, with temperature measured in degrees F and natural gas measured by volume: cubic feet appreviated ccf. A straight-line function has been <strong><em>fitted</em></strong> to the data.</p>
<div class="inline-figure"><img src="CalcZ-notes_files/figure-html/Fun-1C-abcd-1-1.png" width="672"></div>
<p>The graph has several features that are not unusual when using data to construct a mathematical model.</p>
<ol style="list-style-type: lower-roman">
<li><p>The function selected, which gives ccf versus outdoor temperature, is roughly centered on the cloud of data. That is, for a given input value, the function output goes through the vertical center of the data points near that input value.</p></li>
<li><p>For part of the domain, the function is a good match to the data.</p></li>
<li><p>For another part of the domain, temperatures above about 60 degrees, the function deviates systematically from the data. Indeed, the output of the function is <em>negative</em> when temperature is above the mid 60s. (Of course, the <em>amount</em> of natural gas used can hardly be negative!)</p></li>
<li><p>There are a few data points, near 40 and 60 deg. F that are far from the output of the model at those temperature. Such points are called <strong><em>outliers</em></strong>. One of the uses of mathematical models in interpreting data is to make it easier to spot data records that don’t fit an overall pattern. (From the graph itself, one can only speculate about what might be responsible for the outliers. Here it seems to be an error in transcribing the data.)</p></li>
</ol>
<p>The straight-line function has two parameters: the <strong><em>slope</em></strong> and the <strong><em>intercept</em></strong>. Since the domain of the graph includes 0, we can read the intercept directly from the graph: at an input of 0 the function output is roughly 300 ccf.</p>
<p>The slope is, famously, the “rise over run.” Mark off a convenient interval on the domain. We’ll use 0 to 64 degrees. Then find the vertical interval of the function output over that interval on the domain. We selected 0 to 64 for the domain since the function output is easy to read: about 300 ccf at 0 deg and 0 ccf at 64 degrees. The amount of “rise” is therefore <span class="math inline">\(0-300\)</span> ccf and the run is <span class="math inline">\(64 - 0\)</span> deg, so the slope is <span class="math display">\[\frac{0-300}{64-0} \frac{\text{ccf}}{\text{deg}} \approx -4.6 \frac{\text{ccf}}{\text{deg}}\]</span> The negative sign on the slope indicates that the function output falls as the input increases.</p>
<p>For a straight-line function, you will find the same slope whatever non-zero interval on the domain you choose for the run. Many other kinds of functions have a slope that differs for different inputs. One of the central ideas of calculus is that even for non-straight-line functions, a meaningful calculation of the <strong><em>slope at a single input</em></strong> can be constructed. We’ll examine that issue carefully later in the course.</p>
<p>In calculus, the slope of a function is a quantity of particular interest. Here, the slope tells us that a one degree increase in outdoor temperature (averaged over a month) corresponds to a 4.6 ccf <em>decrease</em> in natural gas use.</p>
<p>As you’ll see later in the course, the slope of a function is the <strong><em>sensitivity</em></strong> of the output to a change in the <strong><em>input</em></strong>.</p>
<p>It’s often the case that a given model <strong><em>accounts</em></strong> for only part of the pattern seen in data. There are many synonyms for “accounts”: “<em>captures</em> only part of the pattern,” “<em>matches</em> only part of the pattern,” and so on. The blue straight-line model in Figure <a href="#fig:Fun-1C-abcd-1"><strong>??</strong></a> doesn’t account for the leveling out of natural gas use for temperatures greater than about 60 degrees.</p>
<p>Modelers look for such discrepancies between a candidate model (here, the blue line) and the data. Sometimes such discrepancies indicate that the wrong kind of mathematical function has been selected for the model or that the model has not been fitted to the data properly. A skilled modeler will treat the discrepancies as an opportunity to learn more about the real-world system being modeled. With this additional knowledge, a better model can be constructed.</p>
<p>Those familiar with home heating will know that for temperatures about about 60 degrees F, <strong>no heating is necessary</strong> and fuel use for heating falls to zero. But there are other uses for fuel such as cooking and water heating. To judge from the data, those uses don’t depend in any strong or obvious way on outdoor temperature.</p>
<hr>
<p>Exercise: Compare the straight-line model fitted to <em>all</em> the ccf data to the model fitted to data where the temperature was less than 60 degrees. Implement as <code>heating_ccf(temp)</code></p>
<p>Exercise: Make a straight-line model for the energy used for cooking and heating. Implement as <code>other_ccf(temp)</code></p>
<p>Exercise: Piece together the two models to make a more comprehensive model of energy use. Show the computer implementation of this function.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">all_ccf</span> <span class="op">&lt;-</span> <span class="fu">makeFun</span><span class="op">(</span>
              <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">temp</span> <span class="op">&lt;</span> <span class="fl">60</span>, 
                     <span class="fu">heating_ccf</span><span class="op">(</span><span class="va">temp</span><span class="op">)</span> <span class="op">+</span> <span class="fu">other_ccf</span><span class="op">(</span><span class="va">temp</span><span class="op">)</span>,
                     <span class="fu">other_ccf</span><span class="op">(</span><span class="va">temp</span><span class="op">)</span><span class="op">)</span> <span class="op">~</span> <span class="va">temp</span><span class="op">)</span></code></pre></div>
</div>
<div id="the-exponential-family" class="section level2">
<h2>
<span class="header-section-number">5.2</span> The exponential family<a class="anchor" aria-label="anchor" href="#the-exponential-family"><i class="fas fa-link"></i></a>
</h2>
<p>Objective (Fun-2a) <em>Recognize the key characteristics of an exponential function’s graph, to include both increasing and decreasing exponential functions</em></p>
<p>Additional objective (not numbered) <em>Use correctly statements like, “the slope of the function <span class="math inline">\(g(x)\)</span> with respect to <span class="math inline">\(x\)</span> is a function of <span class="math inline">\(x\)</span>.”</em></p>
<p>An important concept in calculus is the <strong><em>change in output</em></strong> of a function for a given <strong><em>change in input</em></strong>. The experiment to measure a change in output is very simple:</p>
<ol style="list-style-type: decimal">
<li>Start with some fixed value for the input <span class="math inline">\(x_0\)</span> and record the function output <span class="math inline">\(f(x_0)\)</span>.</li>
<li>Change the input by an amount <span class="math inline">\(h\)</span> and record the function output <span class="math inline">\(f(x_0 + h)\)</span>.</li>
<li>The change in input is <span class="math inline">\(h\)</span>, the corresponding change in output is <span class="math inline">\(f(x_0 + h) - f(x_0)\)</span>.</li>
</ol>
<p>You can choose whatever value for the change in input <span class="math inline">\(h\)</span> is convenient. Often, the choice is “one <strong><em>unit</em></strong> of input.” Obviously, this depends on how you quantify the input. For instance, in Figure <a href="#fig:Fun-1C-abcd-1"><strong>??</strong></a>, where we looked at natural gas usage (ccf) as a function of average monthly temperature (deg. F), a unit of input is 1 degree F.</p>
<p>The change in output divided by the change in input is, as you know, the <strong><em>slope</em></strong> of the function. For a straight-line function in Figure <a href="#fig:Fun-1C-abcd-1"><strong>??</strong></a> the slope is <span class="math inline">\(-4.6 \frac{\text{ccf}}{\text{deg}}\)</span>. “Slope” is a nice physical metaphor, but talking about the “slope of gas use” is bound to be confusing. People who are familiar with calculus use the word “derivative,” as in “derivative of gas use with respect to temperature.” For a straight-line function, the “derivative” is constant, that is, it doesn’t change with <span class="math inline">\(x_0\)</span>.</p>
<p>The exponential function is our first basic modeling function family with a non-constant derivative. Figure <a href="#fig:Fun-2a-2"><strong>??</strong></a> shows the function <span class="math inline">\(f(x) \equiv e^{x}\)</span>.</p>
<div class="inline-figure"><img src="CalcZ-notes_files/figure-html/Fun-2a-2-1.png" width="672"></div>
<p>For use in modeling, we generally have to pick the right “shape” from the exponential family. We’ll generally write the exponential function with a parameter <span class="math inline">\(k\)</span> and the formula <span class="math inline">\(e^{kt}\)</span>.</p>
<p>Figure <a href="#fig:Fun-2a-3"><strong>??</strong></a> shows exponential functions with several different numerical values for the parameter <span class="math inline">\(k\)</span>.</p>
<p><img src="CalcZ-notes_files/figure-html/Fun-2a-3-1.png" width="672">
Some features of the members of the exponential family <span class="math inline">\(g(x) \equiv e^{kx}\)</span>:</p>
<ul>
<li>When <span class="math inline">\(k &gt; 0\)</span> the function output <em>increases</em> with <span class="math inline">\(x\)</span>. But when <span class="math inline">\(k &lt; 0\)</span> the function output <em>decreases</em> as <span class="math inline">\(x\)</span> gets bigger.</li>
<li>For any <span class="math inline">\(k\)</span>, the value of <span class="math inline">\(g(0) = 1\)</span>.</li>
<li>When <span class="math inline">\(k &gt; 0\)</span>, the value of <span class="math inline">\(g(x)\)</span> becomes very small when <span class="math inline">\(x\)</span> is negative but large (that is, to the left). When <span class="math inline">\(k &lt; 0\)</span>, the value <span class="math inline">\(g(x)\)</span> becomes very small when <span class="math inline">\(x\)</span> is positive and large. A way to say this in symbols is that, for negative <span class="math inline">\(k\)</span>, the limit as <span class="math inline">\(x \rightarrow \infty\)</span> is zero. Similarly, for positive <span class="math inline">\(k\)</span>, the limit <span class="math inline">\(x \rightarrow -\infty\)</span> is zero. We use the word <strong><em>asymptotic</em></strong> to denote such limits.</li>
</ul>
<p>Notice that as the value of <span class="math inline">\(g(x) \rightarrow 0\)</span> the function gets flatter. That is, as <span class="math inline">\(g(x) \rightarrow 0\)</span>, the slope of <span class="math inline">\(g(x)\)</span> also goes to zero. And when <span class="math inline">\(g(x)\)</span> is large, the slope is also large and either positive or negative depending on <span class="math inline">\(k\)</span>.</p>
<p>Objective (Fun-2b) <em>Know that exponential functions have the property that their slope (rate of change) at each input is proportional to the height of the function at that same input. And that the slopes approach zero in one of the directions</em></p>
<p>Look back at Figure <a href="#fig:Fun-2a-3"><strong>??</strong></a>.</p>
<p>Clearly the slope of each of the functions is different for different values of the input <span class="math inline">\(x\)</span>. Better to say this using function language: The slope of the exponential function <span class="math inline">\(f(x)\)</span> is itself a function of <span class="math inline">\(x\)</span>.</p>
<p>With this sort of language in mind, we can return to the description of the slope of a straight-line function and say any of these: “the slope of the straight line function <span class="math inline">\(g(x) \equiv m x + b\)</span> is <em>not</em> a function of <span class="math inline">\(x\)</span>” or “the slope of <span class="math inline">\(g(x)\)</span> is constant with respect to <span class="math inline">\(x\)</span>,” or “the slope of <span class="math inline">\(g(x)\)</span> is a <strong><em>constant function</em></strong> with respect to <span class="math inline">\(x\)</span>. A”constant function" is one whose output does not depend on the input, for instance <span class="math inline">\(\text{const}(x) = 7\)</span>. (In terms of an office building, a constant function is a building where the worker at every door gives exactly the same response, here 7.)</p>
<p>You can see from Figure <a href="#fig:Fun-2a-2"><strong>??</strong></a> that the slope of the exponential function is positive and gets bigger as <span class="math inline">\(x\)</span> gets bigger.</p>
<p>You could draw lots of functions whose slope is an <strong><em>increasing function</em></strong> of its input. But there’s something very special about the exponential function that gives it a high status among the basic modeling functions:</p>
<blockquote>
<p>The <em>slope</em> of the exponential function is alway proportional to the <em>value</em> of the exponential function.</p>
</blockquote>
<p>It’s worth unpacking that simple statement a bit. We have an exponential function <span class="math inline">\(g(x) \equiv e^x\)</span>. The slope of the exponential function is, as we have described, <span class="math display">\[\text{slope of}\ g(x)\ \mbox{is} \ \frac{e^{x + h} - e^x}{h} = \frac{e^x e^h - e^x
}{h} = e^x \frac{e^h - 1}{h}\]</span>
Look carefully at the term <span class="math inline">\((e^h - 1)/h\)</span>. Notice that there is no <span class="math inline">\(x\)</span> in it. Thus, the function <span class="math inline">\((e^h - 1)/h\)</span> is <em>constant with respect to <span class="math inline">\(x\)</span></em>. In other words <span class="math display">\[\text{slope of}\ g(x)\ \mbox{is} \ \mbox{constant} \times e^x\]</span>.</p>
<p>EXERCISE: Compute <span class="math inline">\((e^h - 1)/h\)</span> for <span class="math inline">\(h=2, 1, .1, .01, .001\)</span>. Describe what happens. (We might write, “As <span class="math inline">\(h \rightarrow 0\)</span>, the quantity <span class="math inline">\(\frac{e^h - 1}{h} \rightarrow 1\)</span>.”)</p>
<p>The exponential function is particularly useful when the quantity we want to model shows <strong><em>constant proportional increase</em></strong>. Many quantities in everyday life are this way. For instance, if you get an increase in salary you typically say something like “a 3% increase.” The population growth of a country is often presented as “percent per year.” Inflation in the price of goods is similarly described in percent per year. Interest on money in a bank savings account is also described as percent per year. But if you have the bad fortune to owe money to a loan shark, the proportional increase might be described as “percent per month” or “percent per week.”</p>
<p>EXERCISE: Go back to Figure <a href="#fig:Fun-2a-2"><strong>??</strong></a> and calculate the <strong><em>percent increase</em></strong> in the output of <span class="math inline">\(g(x)\)</span> when <span class="math inline">\(x\)</span> is increased by one unit. LEAD THEM THROUGH DOING THIS FROM x=0 to 1, and then for other starting points.</p>
<p>Objective (Fun-2c) <em>Know how changing the values of C and k affect the properties of the exponential model <span class="math inline">\(g(x) \equiv C e^{kt}\)</span> (table page 62)</em></p>
<p>Objective Revised (Fun-2c) <em>Understand that <span class="math inline">\(e^{kt}\)</span>, <span class="math inline">\(2^{k_2 t}\)</span>, and <span class="math inline">\(10^{k_{10} t}\)</span> are all the same function, when <span class="math inline">\(k = k_2 \ln(2) = k_{10} \ln(10)\)</span>. Relate <span class="math inline">\(k_2\)</span> to the doubling time and <span class="math inline">\(k_{10}\)</span> to the time to increase 10-fold.</em></p>
<div class="todo">
<p>Write CONTENT FOR Fun-2c</p>
</div>
</div>
<div id="power-law-family" class="section level2">
<h2>
<span class="header-section-number">5.3</span> Power-law family<a class="anchor" aria-label="anchor" href="#power-law-family"><i class="fas fa-link"></i></a>
</h2>
<p>Objectives:</p>
<ol>
<li>(Fun-2d) Distinguish between exponential functions and power-law functions.</li>
<li>(Fun-2e) Relate power-law functions to physical quantities.</li>
</ol>
<p>Exponential functions such as <span class="math inline">\(f(t) \equiv e^{kt}\)</span> or <span class="math inline">\(f_2(t) \equiv 2^{k_2 t}\)</span> and <span class="math inline">\(f_{10}(t) \equiv 10^{k_{10} t}\)</span> (all of which can be arranged to produce exactly the same output for corresponding values of <span class="math inline">\(k\)</span>, <span class="math inline">\(k_2\)</span>, and <span class="math inline">\(k_{10}\)</span>) can be remembered as such because the function <strong>input</strong> appears as an <em>exponent</em> in the function formula.</p>
<p>There is a very different kind of function, called a <strong><em>power-law function</em></strong>, which is different from an exponential, and has different uses, yet is very often confused. In a power-law function, the input is being raised to a power, for example, <span class="math inline">\(g(t) \equiv t^2\)</span>. The exponent is a parameter and the input is being raised to the indicated power, for instance 2 for <span class="math inline">\(g(t)\)</span>.</p>
<p>Figure <a href="#fig:Fun-2e-1"><strong>??</strong></a> shows a few members of the power-law family with different exponents, both positive and negative. For contrast, one exponential function is also drawn (in green).</p>
<div class="inline-figure"><img src="CalcZ-notes_files/figure-html/Fun-2e-1-1.png" width="672"></div>
<p>As you can see, the shapes of power-law functions can be very different depending on the value of the exponent parameter. For many values of the exponent parameter, the function domain is <span class="math inline">\(-\infty &lt; t &lt; \infty\)</span> while for others the domain is just the positive numbers: <span class="math inline">\(0 &lt; t &lt; \infty\)</span>. None of them resemble an exponential function.</p>
<p>What do all these differently shaped functions have in common that warrants them all being placed in the same family? Of course, they all involve raising the function input to a power: positive or negative, integer or otherwise (e.g. 1.5). The main thing they have in common is the settings they are used in.</p>
<p>You have been using power-law functions from early in your math and science education. Some examples:</p>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th>Setting</th>
<th>Function formula</th>
<th>exponent</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Circumference of a circle</td>
<td><span class="math inline">\(C(r) = 2 \pi r\)</span></td>
<td>1</td>
</tr>
<tr class="even">
<td>Area of a circle</td>
<td><span class="math inline">\(A(r) = \pi r^2\)</span></td>
<td>2</td>
</tr>
<tr class="odd">
<td>Volume of a sphere</td>
<td><span class="math inline">\(V(r) = \frac{4}{3} \pi r^3\)</span></td>
<td>3</td>
</tr>
<tr class="even">
<td>Distance traveled by a falling object</td>
<td><span class="math inline">\(d(t) = \frac{1}{2} g t^2\)</span></td>
<td>2</td>
</tr>
<tr class="odd">
<td>Gas pressure versus volume</td>
<td><span class="math inline">\(P(V) = \frac{n R T}{V}\)</span></td>
<td><span class="math inline">\(-1\)</span></td>
</tr>
<tr class="even">
<td>… perhaps less familiar …</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>Distance traveled by a diffusing gas</td>
<td><span class="math inline">\(X(t) = D \sqrt{ \strut t}\)</span></td>
<td><span class="math inline">\(1/2\)</span></td>
</tr>
<tr class="even">
<td>Animal lifespan (in the wild) versus body mass</td>
<td>$L(M) = a M^{0.25}</td>
<td>0.25</td>
</tr>
<tr class="odd">
<td>Blood flow versus body mass</td>
<td><span class="math inline">\(F(M) = b M^{0.75}\)</span></td>
<td>0.75</td>
</tr>
</tbody>
</table></div>
<p>The reason why power-law functions have their important role in science have to do with the logic of physical quantities such as length, mass, time, area, volume, force, power, and so on. We’ll discuss this at length later in the course and the principles will appear throughout calculus.</p>
<div class="todo">
<p>SHOW SOME ALLOMETRIC GRAPH</p>
</div>
</div>
<div id="logarithm-and-magnitude" class="section level2">
<h2>
<span class="header-section-number">5.4</span> Logarithm and magnitude<a class="anchor" aria-label="anchor" href="#logarithm-and-magnitude"><i class="fas fa-link"></i></a>
</h2>
<p>Objective (Fun-3a1) <em>Understand a logarithm (base-10) as signifying the magnitude of a number by the digit count. See <span class="math inline">\(\log_2()\)</span> and <span class="math inline">\(\log_{10}()\)</span> as counting digits in base-2 and -10 respectively.</em></p>
<p>Let’s talk about logs. For many students, logarithms are the breaking point in their mathematical studies. I’ve encountered well educated professionals who are evidently afraid of logarithms and take the word itself as a promise that what’s coming will be hard to understand. I suspect that some of this comes from being introduced to logarithms as a means of dealing algebraically with power-law and exponential functions.</p>
<p>If logarithms are a source of anxiety because of their association with algebra and concerns about what use they could otherwise be for, take a step back, close your eyes, and we’ll start over, but more gently.</p>
<p>Undoubtedly you are comfortable with the standard way of writing numbers, for instance 33 or 512 or 1051. Elementary school students master the comparison of such numbers to one another. Which is greater: 512 or 33? Which is less, 1051 or 512? You can answer such questions at a glance because the comparison here can be accomplished simply by counting the number of digits. 1051 has four digits, so it is larger than the three-digit number 512. There are two digits in 33, so it smaller than 512. When two numerals have the same number of digits—say, 337 and 512—you can’t answer the “greater than” question by simple counting. Instead, you proceed from left to write and compare the number in each place. So, for 512 and 337, you compare 5 to 3 and … since 5 is greater than 3, 512 is greater than 337. If the two leading digits are the same, go on to the next digit and so on for all the digits in turn.</p>
<p>Things were not always this simple. Our number system that uses <em>place</em> and <em>Arabic</em> numerals is a human invention. An example of an earlier number system is Roman numerals. Here, comparison is hard. For instance, which of these three numbers is bigger?</p>
<p><span class="math display">\[\mbox{MLI or CXII or XXXIII}\]</span>
The typographically shorter number is the largest, and vice versa. Even when two Roman numerals have the same length, it’s not trivial to compare them on a place-by-place basis. For instance, IC is about fifteen times bigger than VI, even though I is much smaller than V.</p>
<p>Digit counting provides an easy, fast way to perform many calculations, at least approximately. What is <span class="math inline">\(\sqrt{10000}\)</span>? There are five digits, and the square root of a number will have “half the number of digits.” So, <span class="math inline">\(\sqrt{10000} = 100\)</span>. What is <span class="math inline">\(10 \times 34\)</span>? Easy: 340. Just append the one zero from 10 to the end of 34. What is <span class="math inline">\(1000 \times 13\)</span>? Just as easy: 13,000. We even punctuate written numbers with commas and a period in order to facilitate counting digits.</p>
<p>Imagine having a digit counting function called digit(). It takes a number as input and produces a number as output. We don’t have a <strong><em>formula</em></strong> for digit(), but for some inputs the output can be calculated just be counting. For example:</p>
<ul>
<li>digit(10) <span class="math inline">\(\equiv\)</span> 1</li>
<li>digit(100) <span class="math inline">\(\equiv\)</span> 2</li>
<li>digit(1000) <span class="math inline">\(\equiv\)</span> 3</li>
<li>… and so on …</li>
<li>digit(1,000,000) <span class="math inline">\(\equiv\)</span> 6</li>
<li>… and on.</li>
</ul>
<p>The digit() function easily can be applied to the product of two numbers. For instance:</p>
<ul>
<li>digit(1000 <span class="math inline">\(\times\)</span> 100) = digit(1000) + digit(100) = 3 + 2 = 5.</li>
</ul>
<p>Similarly, applying digit() to a ratio gives the difference of the digits of the numerator and denominator, like this:</p>
<ul>
<li>digit(1,000,000 <span class="math inline">\(\div\)</span> 100) = digit(1,000,000) - digit(100) = 6 - 2 = 4</li>
</ul>
<p>For an input <span class="math inline">\(x\)</span> consisting of a 1 followed by zeros, any fool can calculate the output: just count the zeros. But for other numbers, it’s not so easy.</p>
<p>The people who originally proposed the crazy-sounding notion that digit() can be applied to numbers like 32 were wild innovators of the late 16th and early 17th centuries, but they had ideas about how to do the calculation. Some examples:</p>
<ul>
<li>32 <span class="math inline">\(\times\)</span> 32 1000.
<ul>
<li>So, digit(32 32) digit(1000) = 3$.</li>
<li>Applying the multiplication rule means digit(32) + digit(32) <span class="math inline">\(\approx\)</span> 3, so digit(32) <span class="math inline">\(\approx\)</span> 1.5.</li>
</ul>
</li>
<li>
<span class="math inline">\(32 = 2 \times 2 \times 2 \times 2 \times 2\)</span>
<ul>
<li>Since digit(32) <span class="math inline">\(\approx\)</span> 1.5, we know that 1.5 5 <span class="math inline">\(\times\)</span> digit(2) which tells us that digit(2) <span class="math inline">\(\approx\)</span> 0.3.</li>
</ul>
</li>
</ul>
<p>It’s hard to do such calculations in your head, but fortunately the arithmetic whizzes who invented digit() could handle it and made <strong><em>tables</em></strong> giving the output of digit(<span class="math inline">\(x\)</span>) for many different values of <span class="math inline">\(x\)</span>. Here’s part of the first page of the first widely published table, in 1617. The project was supervised by <a href="https://en.wikipedia.org/wiki/Henry_Briggs_(mathematician)">Henry Briggs</a>. (1561-1630)</p>
<div class="inline-figure"><img src="www/Briggs-starttable.png" width="100%" style="display: block; margin: auto;"></div>
<p>The table was called the <em>Chilias prima</em>, Latin for “First group of one thousand.” True to its name, the table gives the output of digits() for the inputs 1, 2, 3, …, 998, 999, 1000. For instance, as you can see from the top row of the right-most column, digits(67) = 1.82607480270082.</p>
<p>In everyday speech, 67 has two digits. The authors of <em>Chilias prima</em> sensibly didn’t use the name “digit()” for the function. They chose something more abstract: “logarithm()”. Nowadays, this function is named <span class="math inline">\(\log_{10}()\)</span>. In R, the function is called <code><a href="https://rdrr.io/r/base/Log.html">log10()</a></code>.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log10</a></span><span class="op">(</span><span class="fl">67</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 1.826075</code></pre>
<p>Our main use for <span class="math inline">\(\log_{10}()\)</span>/<code><a href="https://rdrr.io/r/base/Log.html">log10()</a></code> will be to count digits in order to quickly compare the magnitude of numbers. The difference digits(<span class="math inline">\(x\)</span>) - digits(<span class="math inline">\(y\)</span>) tells how many factors of 10 separate the magnitude of the <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span>.</p>
<p>Another important logarithmic/digit-counting function is <span class="math inline">\(\log_2()\)</span>, written <code><a href="https://rdrr.io/r/base/Log.html">log2()</a></code> in R. This counts how many *<strong>binary digits</strong> are in a number. For us, <span class="math inline">\(\log_2(x)\)</span> tells how many times we need to double, starting at 1, in order to reach <span class="math inline">\(x\)</span>. For instance, <span class="math inline">\(\log_2(67) = 6.06609\)</span>, which indicates that <span class="math inline">\(67 = 2\times 2 \times 2 \times 2 \times 2 \times 2 \times 2^{0.06609}\)</span></p>
<p><span class="math inline">\(\log_2(x)\)</span> and <span class="math inline">\(\log_{10}(x)\)</span> are proportional to one another. One way to think of this is that they both count “digits” but report the results in different units, much as you might report a temperature in either Celsius or Fahrenheit. For <span class="math inline">\(\log_2(x)\)</span> the units of output are in <strong><em>bits</em></strong>. For <span class="math inline">\(\log_{10}(x)\)</span> the output is in <strong><em>decades</em></strong>.</p>
<p>A third version of the logarithm function is called the <strong><em>natural logarithm</em></strong> and is denoted <span class="math inline">\(\ln()\)</span> in math notation and simply <code><a href="https://rdrr.io/r/base/Log.html">log()</a></code> in R. We’ll need additional calculus concepts before we can understand what justifies calling <span class="math inline">\(\ln()\)</span> “natural.”</p>
<p>EXERCISE: Compute <span class="math inline">\(10^y\)</span> to convert a “number of digits” into the number whose digits are being counted. For instance, <span class="math inline">\(10^2.5\)</span> is 316.228.</p>
<p>EXERCISE: How many binary digits in 64? in 127?</p>
<p>EXERCISE: <span class="math inline">\(\log_{10}(x)\)</span> and <span class="math inline">\(\log_2(x)\)</span> are proportional to one another. What’s the constant of proportionality?</p>
<p>POSSIBLE COMPUTATIONAL ENRICHMENT: AN EXAMPLE OF A FUNCTION DESCRIBED AS A COMBINATION OF A FORMULA AND A COMPUTER ALGORITHM</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">small_log</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span>
  <span class="kw">if</span> <span class="op">(</span><span class="va">x</span> <span class="op">&lt;</span> <span class="fl">.99</span> <span class="op">||</span> <span class="va">x</span> <span class="op">&gt;</span> <span class="fl">1.01</span><span class="op">)</span> <span class="kw"><a href="https://rdrr.io/r/base/stop.html">stop</a></span><span class="op">(</span><span class="st">"x must be in range 0.99 to 1.01."</span><span class="op">)</span>
  <span class="va">x</span> <span class="op">&lt;-</span> <span class="va">x</span> <span class="op">-</span> <span class="fl">1</span>
  <span class="op">(</span><span class="va">x</span> <span class="op">-</span> <span class="va">x</span><span class="op">^</span><span class="fl">2</span><span class="op">/</span><span class="fl">2</span> <span class="op">+</span> <span class="va">x</span><span class="op">^</span><span class="fl">3</span><span class="op">/</span><span class="fl">3</span> <span class="op">-</span> <span class="va">x</span><span class="op">^</span><span class="fl">4</span><span class="op">/</span><span class="fl">4</span> <span class="op">+</span> <span class="va">x</span><span class="op">^</span><span class="fl">5</span><span class="op">/</span><span class="fl">5</span> <span class="op">-</span> <span class="va">x</span><span class="op">^</span><span class="fl">6</span><span class="op">/</span><span class="fl">6</span> <span class="op">+</span> <span class="va">x</span><span class="op">^</span><span class="fl">7</span><span class="op">/</span><span class="fl">7</span><span class="op">)</span><span class="op">/</span><span class="fl">2.30258509299405</span>
<span class="op">}</span>

<span class="va">my_log</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span>
  <span class="kw">if</span> <span class="op">(</span><span class="va">x</span> <span class="op">&gt;=</span> <span class="fl">10</span><span class="op">)</span> <span class="fu">my_log</span><span class="op">(</span><span class="va">x</span><span class="op">/</span><span class="fl">10</span><span class="op">)</span> <span class="op">+</span> <span class="fl">1</span>
  <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span><span class="va">x</span> <span class="op">&lt;</span> <span class="fl">0.1</span><span class="op">)</span> <span class="fu">my_log</span><span class="op">(</span><span class="fl">10</span><span class="op">*</span><span class="va">x</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span>
  <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span><span class="va">x</span> <span class="op">&gt;</span> <span class="fl">0.99</span> <span class="op">&amp;&amp;</span> <span class="va">x</span> <span class="op">&lt;</span> <span class="fl">1.01</span><span class="op">)</span> <span class="fu">small_log</span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
  <span class="kw">else</span> <span class="fl">2</span><span class="op">*</span><span class="fu">my_log</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
</div>
<div id="sinusoid-family" class="section level2">
<h2>
<span class="header-section-number">5.5</span> Sinusoid family<a class="anchor" aria-label="anchor" href="#sinusoid-family"><i class="fas fa-link"></i></a>
</h2>
<p>Objective (Fun-3B-a) <em>Become familiar with the sinusoid functions and the period parameter. Be able to identify the period from the graph of a sinusoid-like function.</em></p>
<p>Onward to our next basic modeling function: the <strong><em>sinusoid</em></strong>. The word “sinusoid” may bring to mind your studies of trigonometry. As you know, “trigonometry” is the study and measurement of triangles, that is, polygons with three sides. Admittedly, the word “trigon” does not bring to mind a triangle as well as the words “pentagon,” “hexagon,” and “octagon” are associated with 5-, 6-, and 8-sided polygons.</p>
<p>Trigonometry is a standard part of the high-school mathematics curriculum, so I’m going to assume that you know the names of various trigonometric functions, e.g. <span class="math inline">\(\sin()\)</span>, <span class="math inline">\(\cos()\)</span>, <span class="math inline">\(\tan()\)</span>, and a host of others that have names that are easily confused or forgotten.</p>
<p>Trigonometry has always been an important mathematical topic because of its use in surveying (George Washington was a trained surveyor), navigation, building and design, and other trades. It is still well worthwhile for any technical worker to master the use of trigonometry. But this is not why it’s coming up here in CalcZ.</p>
<p>Including the sinusoid in our small set of basic modeling functions has nothing to do with triangles or the many practical applications of trigonometry. Instead, we need it as a standard model for a highly important phenomena: things that repeat themselves in a cycle, over and over again. We use the word “sinusoid” rather than, say “sine” because there are two closely related functions, <span class="math inline">\(\sin()\)</span> and <span class="math inline">\(\cos()\)</span> that are more or less interchangeable when it comes to modeling. For now, we could do with just one or the other. Later in CalcZ, however, it will be useful to have them both for the purposes of keeping track of some mathematical operations. Also, we will not generally have a use directly for a function <span class="math inline">\(\sin(t)\)</span>. Instead, we’ll work with a parameterized function <span class="math inline">\(\mbox{sinusoid}(t) \equiv \sin(2\pi t/P)\)</span>, where <span class="math inline">\(P\)</span> is called the “period” of the function. Figure <a href="#fig:Fun-3B-a"><strong>??</strong></a> shows the graph of a sinusoid with <span class="math inline">\(P=1\)</span> and another with <span class="math inline">\(P=0.3\)</span></p>
<p><img src="CalcZ-notes_files/figure-html/Fun-3B-a-1.png" width="768"><img src="CalcZ-notes_files/figure-html/Fun-3B-a-2.png" width="768"></p>
<p>The graphs show the same graphic domain: <span class="math inline">\(-2 &lt; t &lt; 2\)</span>. (The mathematical domain, that is, the set of valid inputs, is <span class="math inline">\(-\infty &lt; t &lt; \infty\)</span>. For the sinusoid of period <span class="math inline">\(P=1\)</span>, four <strong><em>cycles</em></strong> are fitting in to the graphic domain we selected. For the sinusoid of period <span class="math inline">\(P=0.3\)</span>, a little more than 12 cycles fit into the graphic domain. A cycle is the function over a part of the domain where the function starts at a particular value (say, sinusoid(t) = 0) and first returns back to its staring value <strong>and to its starting slope</strong>.</p>
<p>You can choose any starting value you like to define a cycle. For the purposes of measuring the period from a graph, I find it convenient to start at the peak, that is, somewhere that <span class="math inline">\(\mbox{sinusoid}(t) = 1\)</span> or the trough (that is, <span class="math inline">\(\mbox{sinusoid}(t) = 1\)</span>). No matter what you choose, you will get the same answer.</p>
<p>Examples of real-world phenomena that are roughly sinusoidal: the temperature at any location on Earth which has a period of 1 year; the brightness of the Moon which has a period of about 27.322 days; the position on a beach of the sort of bird that runs away from breaking waves and toward retreating waves (period: several seconds); any other kind of wave including radio wave. (The period of a radio wave depends on the “band,” for FM radio it’s roughly one one-hundred millionth of a second. For WIFI waves have a period of roughly a quarter of a billionth of a second, so about 40 times shorter than FM radio waves). Of course, the phenomena we model with sinusoids are not generally exactly periodic. The moon and the weather are pretty reliable, but breaking wave don’t always come in exact rhythm. A radio wave that is exactly periodic is called a “carrier,” but the transmission of information—sound, movies, documents, etc.—necessarily involves some deviation from exact periodicity. Still, a sinusoid is a pretty good place to start modeling even those phenomena that are not exactly periodic.</p>
<p>Notice that in the above we’re using <span class="math inline">\(t\)</span> for the name of the input to the sinusoid. Of course, we could use any name at all for the input. We’re prompted to use <span class="math inline">\(t\)</span> rather than our usual <span class="math inline">\(x\)</span> because one of the most important uses for sinusoids is in modeling functions that repeat in <em>time</em> over and over again. It’s entirely your choice how</p>
<p>The domain of <span class="math inline">\(\mbox{sinusoid}(t)\)</span> is the entire number line. The range is the interval from -1 to 1, and the ink in a sinusoid graph is balanced on either side of zero.</p>
<p>A more general parameterization of a sinusoid is <span class="math inline">\(\sin(2\pi(t-t_0)/P)\)</span>. <span class="math inline">\(P\)</span> is still the period and <span class="math inline">\(t_0\)</span> is a specific input at which the output is increasing from 0. Often, this richer parameterization is written somewhat differently: <span class="math inline">\(\sin(2\pi(t-t_0)/P) = \sin(2\pi t/P - 2\pi t_0/P) = \sin(\frac{2\pi t}{P} - \phi)\)</span>. The parameter <span class="math inline">\(\phi\)</span> is called the <strong><em>phase</em></strong>. For us in CalcZ, we will mostly be concerned with the period parameter and you won’t see the phase appearing often.</p>
</div>
<div id="humps-and-sigmoids" class="section level2">
<h2>
<span class="header-section-number">5.6</span> Humps and sigmoids<a class="anchor" aria-label="anchor" href="#humps-and-sigmoids"><i class="fas fa-link"></i></a>
</h2>
<p>Objectives</p>
<ol style="list-style-type: lower-roman">
<li>(Fun-3B-a) <em>Recognize general graphical features of sigmoidal functions and their associated hump functions</em>
</li>
<li>(Fun-3B-b) <em>Explain why the slope function of a sigmoidal function is a hump function</em>
</li>
<li>(Fun-3B-c) OPTIONAL <em>Be aware of different formulations for the hump sigmoidal functions.</em>
</li>
</ol>
<p>Our last two basic modeling functions express an important idea in modeling: <strong><em>localness</em></strong>. To put this in concrete terms, imagine creating a function to depict the elevation above sea level of a long road as a function of distance in miles, <span class="math inline">\(x\)</span>, from the start of the road. If the road were level at 1200 feet elevation, a sensible model would be <span class="math inline">\(\mbox{elevation}(x) = 1200 \text{ft}\)</span>. If the road were gently sloping, a better model would be <span class="math inline">\(\mbox{elevation}(x) = 1200 + 3 x\)</span>.</p>
<p>Now let’s add a bump to the road. A bump is a local feature, often only a few feet wide. Or, perhaps the road is crossing a mountain range. That’s also a local feature, but unlike a bump in the road a mountain range extends for many miles.</p>
<p>The basic modeling function suited to represent bumps in the road, or potholes, or mountain ranges is called a <strong><em>hump function</em></strong>.</p>
<p>A hump function has two parameters: the location of the hump, which we’ll call the <strong><em>center</em></strong> parameter, and the extent of the hump, which we’ll call the <strong><em>spread</em></strong>. Figure <a href="#fig:Fun-3C-1"><strong>??</strong></a> shows a few hump functions with different parameters.</p>
<p><img src="CalcZ-notes_files/figure-html/Fun-3C-1-1.png" width="576"><img src="CalcZ-notes_files/figure-html/Fun-3C-1-2.png" width="576"><img src="CalcZ-notes_files/figure-html/Fun-3C-1-3.png" width="576"></p>
<p>It’s easy to read off the <strong><em>center</em></strong> parameter from a graph of a hump. It’s the location of the top of the hump. (We mentioned before that a mathematical word for “the location of the top” is <strong><em>argmax</em></strong>; the value for the input of the function that produces the maximum output.)</p>
<p>The <strong><em>spread</em></strong> parameter is also pretty straightforward, but you first have to become familiar with an unusual feature of the hump function. The output of the hump function <em>far from the center</em> is practically zero. But it is not exactly zero. You can see from the graphs that the hump function has long flanks which approach zero output more or less in the manner of an exponential function. This means that we can’t measure the spread of the hump function by the distance between the zeros on either side of the peak. Instead, we need a <strong><em>convention</em></strong> that will allow us to be precise in quantifying what is admittedly a vague concept of width.</p>
<p>A simple convention is that the spread is the “half-width at half-height.” Come down half-way from the peak of the hump. Panel (c) of Figure <a href="#fig:Fun-3C-1"><strong>??</strong></a> marks that elevation with a thin, red, horizontal line. Along that line, measure the width of the hump, as marked by the thick red line in Panel (c). The <strong><em>spread</em></strong> parameter is half the width of the hump measured in this way.</p>
<p>If you have a keen eye, you’ll notice that the red line is not exactly half-way down from the peak. It’s down 39.35% from the peak. The official definition of width of a hump is not actually half-width at half-height, but that simple formulation will do for us for the present.</p>
<p>Another seeming oddity about the hump function is the value of the maximum. It would have seemed natural to define this as 1, so-called “unit height.” The way it actually works is different: the maximum height is set so that the <strong><em>area</em></strong> under the hump function is 1.</p>
<p>This business with the area will make more sense when you’ve learned some calculus tools, specifically “differentation” and “integration.” For now though …</p>
<p>Consider another road feature, a local <strong><em>change</em></strong> from one elevation to another as you might accomplish with a ramp. The basic modeling function corresponding to a <strong><em>local change</em></strong> from one level to another is the <strong><em>sigmoid</em></strong> function. Figure <a href="#fig:Fun-3C-2"><strong>??</strong></a> shows three sigmoid functions.</p>
<p><img src="CalcZ-notes_files/figure-html/Fun-3C-2-1.png" width="576"><img src="CalcZ-notes_files/figure-html/Fun-3C-2-2.png" width="576"><img src="CalcZ-notes_files/figure-html/Fun-3C-2-3.png" width="576">
The name “sigmoid” comes from vague resemblance of the graph to the letter S (which is “sigma” in Greek: ς).</p>
<p>The parameters of the sigmoid function are the same as for the hump function: <strong><em>center</em></strong> and <strong><em>width</em></strong>. The center is easy to estimate from a graph. It’s the value of the input that produces an output of 0.5, half-way between the max and min of the sigmoid. As with the hump function, the <strong><em>width</em></strong> is measured according to a convention. The width is the <strong><em>change in input</em></strong> needed to go from an output of 0.5 to an output of 0.8413. This use of 0.8413 must seem luny at first exposure, but there is a reason. We’ll need more calculus tools before it can make sense.</p>
<p>Hump functions and sigmoid functions with the same center and width parameters have a very close relationship. The <strong><em>slope</em></strong> of the sigmoid function is the corresponding <strong><em>hump</em></strong> function. Figures <a href="#fig:Fun-3C-1"><strong>??</strong></a> and <a href="#fig:Fun-3C-2"><strong>??</strong></a> show corresponding hump and sigmoid functions. To the very far left, the sigmoid function is effectively flat: a slope near zero. Moving toward the center the sigmoid has a gentle slope: a low number. In the center, the sigmoid is steepest: a higher number. Then the slope of the sigmoid becomes gentle again before gradually falling off to zero. Near zero, then low, then higher, then low again, then falling off to zero: that’s also the description of a hump function!</p>
<p>In R, the name of the sigmoid function is <code><a href="https://rdrr.io/r/stats/Normal.html">pnorm()</a></code>. The hump is <code><a href="https://rdrr.io/r/stats/Normal.html">dnorm()</a></code>. The parameters that specify center and spread are named <code>mean</code> and <code>sd</code>. The word “mean” accurately conveys the idea of “center.” It would be nice to be able to say that <code>sd</code> comes from <code>s</code>prea<code>d</code>, but in fact <code>sd</code> is short for “standard deviation.”</p>
<p>Unlike the celebrity functions like exponentials, logarithms, power-laws, and sinusoids, there is not universal agreement across technical fields what should be the precise definition of a hump or sigmoid function. Figure <a href="#fig:Fun-3C-3"><strong>??</strong></a> compares two widely used versions of the hump and sigmoidal functions.</p>
<p><img src="CalcZ-notes_files/figure-html/Fun-3C-3-1.png" width="50%"><img src="CalcZ-notes_files/figure-html/Fun-3C-3-2.png" width="50%"></p>
<p>The sigmoidal <strong><em>logistic function</em></strong> (drawn in red in Figure <a href="#fig:Fun-3C-3"><strong>??</strong></a>) is a favorite among mathematicians. Its formula is <span class="math display">\[\mbox{sigmoid}_\mbox{logistic}(x) \equiv  \frac{1}{1 + e^{-k(t-t_0)}}\]</span> The parameter <span class="math inline">\(t_0\)</span> is the <strong><em>center</em></strong>. The <strong><em>spread</em></strong> (as we defined it earlier along the lines of half-width at half-height) is roughly <span class="math inline">\(1.5/k\)</span>.</p>
<p>Since the hump function is the slope of the sigmoid function, the formula for <span class="math inline">\(\mbox{sigmoid}_\mbox{logistic}(x)\)</span> gives directly the hump’s formula:
<span class="math display">\[\mbox{hump}_\mbox{logistic}(x) \equiv \frac{k e^{-k(t-t_0)}}{(1 + e^{-k(t-t_0)})^2}\]</span>
The <strong><em>Gaussian function</em></strong> (drawn in blue) is much more widely used in science and statistics. It’s formula is
<span class="math display">\[\mbox{hump}_\mbox{gaussian}(x) \equiv {\small \frac{1}{\sqrt{2\pi \sigma^2}}} e^{\frac{(t - t_0)^2}{2 \sigma^2}}\]</span>
As you can see from Figure <a href="#fig:Fun-3C-3"><strong>??</strong></a>, the logistic and the gaussian formulations are very similar. For many modeling purposes, either one would do. The important features are that the functions are smooth with gentle curves, the sigmoid rises from 0 to 1 in output, and the area under the hump is 1.</p>
<p>An amazing bit of trivial is that there is no formula for <span class="math inline">\(\mbox{sigmoid}_\mbox{gaussian}()\)</span>.</p>
<p>You might ask, “If there is no formula, how can we use the function?” The answer is that even though there is no formula, there is an algorithm for calculating the value of <span class="math inline">\(\mbox{sigmoid}_\mbox{gaussian}(t)\)</span>. We’re now starting to get into the center of the realm of calculus, which provides us new concepts and notation for describing the correspondance between functions. We’ll need much of CalcZ to introduce and master these concepts and their notation. For now, we will let the notation make a cameo appearance, a premonition of what is to come.</p>
<p>To say, “the slope of the sigmoid function is the hump function,” we write <span class="math display">\[\partial_t \mbox{sigmoid}(t) = \mbox{hump}(t)\]</span></p>
<p>To describe an <em>algorithm</em> for computing the output of the sigmoid function, we need somehow to move the <span class="math inline">\(\partial_t\)</span> from the left side of the equation to the right side. This is a subtle operation and is conventionally written <span class="math display">\[\mbox{sigmoid}(t) = \int_{-\infty}^t \mbox{hump}(x) dx\]</span></p>
<p>If you haven’t studied calculus before, <span class="math inline">\(\partial_t\)</span> and <span class="math inline">\(\int\)</span> will be new to you. You can hardly be expected at this point to understand them. But now you’ve seen them and will hopefully come to be friends with them.</p>

</div>
</div>



  <div class="chapter-nav">
<div class="prev"><a href="the-basic-modeling-functions.html"><span class="header-section-number">4</span> The Basic Modeling Functions</a></div>
<div class="next"><a href="functions-and-patterns.html"><span class="header-section-number">6</span> Functions and patterns</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#modeling-with-functions"><span class="header-section-number">5</span> Modeling with functions</a></li>
<li><a class="nav-link" href="#the-straight-line-family"><span class="header-section-number">5.1</span> The straight-line family</a></li>
<li><a class="nav-link" href="#the-exponential-family"><span class="header-section-number">5.2</span> The exponential family</a></li>
<li><a class="nav-link" href="#power-law-family"><span class="header-section-number">5.3</span> Power-law family</a></li>
<li><a class="nav-link" href="#logarithm-and-magnitude"><span class="header-section-number">5.4</span> Logarithm and magnitude</a></li>
<li><a class="nav-link" href="#sinusoid-family"><span class="header-section-number">5.5</span> Sinusoid family</a></li>
<li><a class="nav-link" href="#humps-and-sigmoids"><span class="header-section-number">5.6</span> Humps and sigmoids</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/dtkaplan/CalcZ-notes/blob/master/Fun-Basic-Modeling-Functions.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/dtkaplan/CalcZ-notes/edit/master/Fun-Basic-Modeling-Functions.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>CalcZ Student Notes</strong>" was written by Daniel Kaplan. It was last built on 2021-05-14.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>
</html>
