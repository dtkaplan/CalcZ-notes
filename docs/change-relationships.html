<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 14 Change relationships | CalcZ Student Notes</title>
<meta name="author" content="Daniel Kaplan">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.2"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.5.3/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.5.3/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.4/tabs.js"></script><script src="libs/bs3compat-0.2.4/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script><script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script><link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="libs/datatables-binding-0.12/datatables.js"></script><link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script><link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet">
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="libs/plotly-binding-4.9.3/plotly.js"></script><script src="libs/typedarray-0.1/typedarray.min.js"></script><link href="libs/plotly-htmlwidgets-css-1.57.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="libs/plotly-main-1.57.1/plotly-latest.min.js"></script><script type="text/x-mathjax-config">
  const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
  for (let popover of popovers){
    const div = document.createElement('div');
    div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
    div.innerHTML = popover.getAttribute('data-content');
    
    // Will this work with TeX on its own line?
    var has_math = div.querySelector("span.math");
    if (has_math) {
      document.body.appendChild(div);
    	MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    	MathJax.Hub.Queue(function(){
        popover.setAttribute('data-content', div.innerHTML);
    	})
    }
  }
  </script><script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js"></script><!-- CSS --><link rel="stylesheet" href="css/CalcZ-style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">CalcZ Student Notes</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Welcome to calculus</a></li>
<li><a class="" href="calcz-project-development-plan.html">CalcZ Project Development Plan</a></li>
<li class="book-part">Block 1: Functions and quantity</li>
<li><a class="" href="outline-of-block-1.html">Outline of Block 1</a></li>
<li><a class="" href="change.html"><span class="header-section-number">1</span> Change</a></li>
<li><a class="" href="structure-of-a-function.html"><span class="header-section-number">2</span> Structure of a function</a></li>
<li><a class="" href="fun-describing.html"><span class="header-section-number">3</span> Describing functions</a></li>
<li><a class="" href="fun-notation.html"><span class="header-section-number">4</span> Notation for functions</a></li>
<li><a class="" href="graphs-and-graphics.html"><span class="header-section-number">5</span> Graphics &amp; function graphs</a></li>
<li><a class="" href="params-intro.html"><span class="header-section-number">6</span> Parameters for functions</a></li>
<li><a class="" href="process-of-modeling.html"><span class="header-section-number">7</span> Process of modeling</a></li>
<li><a class="" href="fun-slopes.html"><span class="header-section-number">8</span> Slope function</a></li>
<li><a class="" href="fun-assembling.html"><span class="header-section-number">9</span> Assembling functions</a></li>
<li><a class="" href="fun-multiple-inputs.html"><span class="header-section-number">10</span> Functions with multiple inputs</a></li>
<li><a class="" href="fun-piecewise.html"><span class="header-section-number">11</span> Piecewise functions</a></li>
<li><a class="" href="magnitudes.html"><span class="header-section-number">12</span> Magnitudes</a></li>
<li><a class="" href="dimensions.html"><span class="header-section-number">13</span> Dimensions</a></li>
<li class="book-part">Block 2: Differentiation</li>
<li><a class="" href="outline-of-block-2.html">Outline of Block 2</a></li>
<li><a class="active" href="change-relationships.html"><span class="header-section-number">14</span> Change relationships</a></li>
<li><a class="" href="h-and-derivatives.html"><span class="header-section-number">15</span> h and derivatives</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/dtkaplan/CalcZ-notes">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="change-relationships" class="section level1">
<h1>
<span class="header-section-number">14</span> Change relationships<a class="anchor" aria-label="anchor" href="#change-relationships"><i class="fas fa-link"></i></a>
</h1>
<p>The questions that started it all had to do with motion. There were words to describe speed: fast and slow. There were words to describe force: strong and weak, heavy and light. And there were words to describe location: far and near, long and short. But what were the relationships among these things? And how did time fit in, an intangible quantity that had aspects of location (long and short) and of speed (quick and slow)?</p>
<p>Galileo (1564-1642) started the ball rolling. As the son of a musician and music theorist, he had a sense of musical time, a steady beat of intervals. As a student of medicine in Pisa, he noted that swinging pendulums kept reliable time, regardless of the amplitude of their swing. After accidentally attending a lecture on geometry, he turned to mathematics and natural philosophy. Inventing the telescope, his observations put him on a collision course with the accepted classical truth about the nature of the planets. Seeking to understand gravity, he built an apparatus that enabled him to measure accurately the position in time of a ball rolling down a straight ramp. The belled gates he set up to mark the ball’s passage were spaced arithmetically in musical time: 1, 2, 3, 4, …. But the distance between the gates was geometric: 1, 4, 9, 16, …. Thus he established a mathematical relationship between increments in time and increments in position. Time advanced as 1, 1, 1, 1, … and position as 1, 3, 5, 7, …. He observed that the <strong><em>second</em></strong> increments of position, the increments of the increments 1, 3, 5, 7, …, were themselves evenly spaced: 2, 2, 2, ….</p>
<p>Putting these observations in tabular form, and adding columns for the</p>
<ul>
<li>first increment <span class="math inline">\(y(t) \equiv x(t+1) - x(t)\)</span> and the</li>
<li>second increment <span class="math inline">\(y(t+1) - y(t)\)</span>
</li>
</ul>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th><span class="math inline">\(t\)</span></th>
<th><span class="math inline">\(x(t)\)</span></th>
<th>first increment</th>
<th>second increment</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>0</td>
<td>0</td>
<td>1</td>
<td>2</td>
</tr>
<tr class="even">
<td>1</td>
<td>1</td>
<td>3</td>
<td>2</td>
</tr>
<tr class="odd">
<td>2</td>
<td>4</td>
<td>5</td>
<td>2</td>
</tr>
<tr class="even">
<td>3</td>
<td>9</td>
<td>7</td>
<td></td>
</tr>
<tr class="odd">
<td>4</td>
<td>16</td>
<td></td>
<td></td>
</tr>
</tbody>
</table></div>
<p>Galileo had neither the mathematics nor the equipment to measure motion continuously in time. So what might be obvious to us now, that position is a function of time <span class="math inline">\(x(t)\)</span>, would have had little practical significance to him. But we discover in his first increments of <span class="math inline">\(x\)</span> something very much like our <strong><em>slope function</em></strong>.</p>
<p><span class="math display">\[{\cal D}_t\, x(t) \equiv \frac{x(t + 1) - x(t)}{1}\]</span>
From his data, he observed that <span class="math inline">\({\cal D}_t\, x(t)\)</span> increases linearly in <span class="math inline">\(t\)</span>: <span class="math display">\[{\cal D}_t x(t) = 2 t + 1\]</span></p>
<p>Calculating the second increments of <span class="math inline">\(x\)</span> is done by the “slope function of the slope function,” which we can call <span class="math inline">\({\cal D}_{tt}\)</span>:
<span class="math display">\[{\cal D}_{tt} x \equiv {\cal D}_t \left[{\cal D}_t x(t)\right] = 2(t+1) + 1 - (2 t + 1) = 2\]</span></p>
<p>Newton considered the problem for continuous time rather than Galileo’s discrete time. He reframed the slope function from the big increments of the slope operator <span class="math inline">\({\cal D}_t\)</span> to imagined vanishingly small increments of a operator that we shall denote <span class="math inline">\(\partial_t\)</span> and call <strong><em>differentiation</em></strong>.</p>
<p>The kind of question for which Newton wanted to be able to calculate the answer was, “How to find the function <span class="math inline">\(x(t)\)</span> whose second increment, <span class="math inline">\(\partial_{tt} x(t) = 2\)</span>?” His approach, which he called the “method of fluxions,” became so important that its name became, simply, “Calculus.”</p>
<div id="slopes-and-increments." class="section level2">
<h2>
<span class="header-section-number">14.1</span> Slopes and increments.<a class="anchor" aria-label="anchor" href="#slopes-and-increments."><i class="fas fa-link"></i></a>
</h2>
<p>The mathematical tools of Newton’s day are the basis of today’s conventional high-school curriculum.<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;Perhaps this says something about how well education has kept up with technology.&lt;/p&gt;"><sup>15</sup></a> We have today completely different tools based on the ability to do arithmetic and function evaluation very quickly with computers. We’re going to use these new tools to explore the problem of relating the slope-function operator <span class="math inline">\({\cal D}_t\)</span> to the differential operator <span class="math inline">\(\partial_t\)</span>. We have the great advantage of being able to look backwards and so can focus on the functions that experience reveals have been the most widely useful: the basic modeling functions.</p>
<p>Our goal in this section is to discover what are the slope functions of our basic modeling functions. Recall that the slope-function operator can be written as a ratio of rise-over-run:
<span class="math display">\[{\cal D}_t x(t) \equiv \frac{x(t+h) - x(t)}{h}\]</span> where <span class="math inline">\(h\)</span> is the length of the “run.” We’ll start with two of the basic modeling functions that have considerable “personality”: the sinusoid (<code><a href="https://rdrr.io/r/base/Trig.html">sin()</a></code>) and the sigmoid (<code><a href="https://rdrr.io/r/stats/Normal.html">pnorm()</a></code>).</p>
<div class="figure">
<span id="fig:sign-sig"></span>
<img src="CalcZ-notes_files/figure-html/sign-sig-1.png" alt="The naked sinusoid and sigmoidal functions. A vertical blue line has been added to mark the input $t=0$" width="50%"><img src="CalcZ-notes_files/figure-html/sign-sig-2.png" alt="The naked sinusoid and sigmoidal functions. A vertical blue line has been added to mark the input $t=0$" width="50%"><p class="caption">
Figure 14.1: The naked sinusoid and sigmoidal functions. A vertical blue line has been added to mark the input <span class="math inline">\(t=0\)</span>
</p>
</div>
<p>We’ll use the computer to construct the slope functions for the sinusoid and sigmoid, which we’ll call <code>Dsin()</code> and <code>Dsigma()</code> respectively.</p>
<div class="sourceCode" id="cb81"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">Dsin</span>   <span class="op">&lt;-</span> <span class="fu">makeFun</span><span class="op">(</span><span class="op">(</span>  <span class="fu"><a href="https://rdrr.io/r/base/Trig.html">sin</a></span><span class="op">(</span><span class="va">t</span><span class="op">+</span><span class="va">h</span><span class="op">)</span> <span class="op">-</span>   <span class="fu"><a href="https://rdrr.io/r/base/Trig.html">sin</a></span><span class="op">(</span><span class="va">t</span><span class="op">)</span><span class="op">)</span><span class="op">/</span><span class="va">h</span> <span class="op">~</span> <span class="va">t</span>, h<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span>
<span class="va">Dsigma</span> <span class="op">&lt;-</span> <span class="fu">makeFun</span><span class="op">(</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">pnorm</a></span><span class="op">(</span><span class="va">t</span><span class="op">+</span><span class="va">h</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">pnorm</a></span><span class="op">(</span><span class="va">t</span><span class="op">)</span><span class="op">)</span><span class="op">/</span><span class="va">h</span> <span class="op">~</span> <span class="va">t</span>, h<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span></code></pre></div>
<p>In the tilde expression handed to <code>makeFun()</code>, we’ve identified <code>t</code> as the name of the input and given a “small” default value to the <code>h</code> parameter. But R recognizes that both <code>Dsin()</code> and <code>Dsigma()</code> are functions of two variables, <code>t</code> and <code>h</code>, as you can see in the parenthesized argument list for the functions.</p>
<div class="sourceCode" id="cb82"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">Dsin</span></code></pre></div>
<pre><code>## function (t, h = 0.1) 
## (sin(t + h) - sin(t))/h</code></pre>
<div class="sourceCode" id="cb84"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">Dsigma</span></code></pre></div>
<pre><code>## function (t, h = 0.1) 
## (pnorm(t + h) - pnorm(t))/h</code></pre>
<p>This is a nuisance, since when using the slope functions we will need always to think about <code>h</code>, a number that we’d like to describe simply as “small,” but for which we always need to provide a numerical value. Let’s look at <code>Dsin()</code> and <code>Dsigma()</code> for a range of values of <code>h</code>, as in Figure <a href="change-relationships.html#fig:sin-sig-many-h">14.2</a>.</p>
<div class="figure">
<span id="fig:sin-sig-many-h"></span>
<img src="CalcZ-notes_files/figure-html/sin-sig-many-h-1.png" alt="The slope functions of the sinusoid and sigmoid. Each curve shows the slope function for a particular numerical choice of `h`. Both panels show $h=2, 1, 0.5, 0.1, 0.01, 0.001, 0.0001, 0.00001, 0.000001$." width="50%"><img src="CalcZ-notes_files/figure-html/sin-sig-many-h-2.png" alt="The slope functions of the sinusoid and sigmoid. Each curve shows the slope function for a particular numerical choice of `h`. Both panels show $h=2, 1, 0.5, 0.1, 0.01, 0.001, 0.0001, 0.00001, 0.000001$." width="50%"><p class="caption">
Figure 14.2: The slope functions of the sinusoid and sigmoid. Each curve shows the slope function for a particular numerical choice of <code>h</code>. Both panels show <span class="math inline">\(h=2, 1, 0.5, 0.1, 0.01, 0.001, 0.0001, 0.00001, 0.000001\)</span>.
</p>
</div>
<p>Some observations from this numerical experiment:</p>
<ol style="list-style-type: decimal">
<li>
<p>As <span class="math inline">\(h\)</span> gets very small, the slope function doesn’t depend on the exact value of <span class="math inline">\(h\)</span>.</p>
<p>This will provide a way for us, eventually, to discard <span class="math inline">\(h\)</span> so that the slope function will not need an <span class="math inline">\(h\)</span> argument.</p>
</li>
<li><p>For small <span class="math inline">\(h\)</span>, we have <span class="math inline">\({\cal D}_t \sin(t) = \sin(t + \pi/2) = \cos(t)\)</span>. That is, taking the slope function of a sinusoid gives another sinusoid, shifted left by <span class="math inline">\(\pi/2\)</span> from the original. Or, in plain words, the cosine is the slope function of the sine.</p></li>
<li><p>For small <span class="math inline">\(h\)</span>, we have <span class="math inline">\({\cal D}_t \text{pnorm}(t) = \text{dnorm(t)}\)</span>. That is, the hump function is the slope function of the sigmoid function.</p></li>
</ol>
<p>You can confirm these last two statements by comparison with the original functions, especially the alignment of the peaks of the slope functions with respect to the peak of the sinusoid and the half-way point of the sigmoid.</p>
<p>Now consider the slope functions of the logarithm and exponential functions.</p>
<div class="figure">
<span id="fig:log-exp-many-h"></span>
<img src="CalcZ-notes_files/figure-html/log-exp-many-h-1.png" alt="The slope functions of the logarithm and exponential." width="50%"><img src="CalcZ-notes_files/figure-html/log-exp-many-h-2.png" alt="The slope functions of the logarithm and exponential." width="50%"><p class="caption">
Figure 14.3: The slope functions of the logarithm and exponential.
</p>
</div>
<p>These numerical experiments with the logarithm and exponential functions are more evidence that, as <span class="math inline">\(h\)</span> gets small, the slope function doesn’t depend on <span class="math inline">\(x\)</span>. And, we find that:</p>
<ul>
<li>For small <span class="math inline">\(h\)</span>, the slope function of the logarithm is a power-law function: <span class="math inline">\({\cal D}_t \ln(t) = \frac{1}{t}\)</span>.</li>
<li>For small <span class="math inline">\(h\)</span>, the slope function of the exponential is the exponential itself: <span class="math inline">\({\cal D}_t e^x = e^x\)</span>.</li>
</ul>
<p>You can confirm these by evaluating the slope function of the exponential at <span class="math inline">\(t=0\)</span> and <span class="math inline">\(t=1\)</span>, and the slope function of the logarithm at <span class="math inline">\(t= 2, 1, 1/2, 1/4, 1/8.\)</span></p>
<p>Such numerical experiments on the other naked modeling functions reveal a pattern: the slope function of the naked modeling functions tend to be similar to other naked modeling functions.</p>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th>name</th>
<th><span class="math inline">\(f(t)\)</span></th>
<th>
<span class="math inline">\({\cal D}_t f(t)\)</span> (for small <span class="math inline">\(h\)</span>)</th>
<th>name of <span class="math inline">\({\cal D_t}f(t)\)</span>
</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>constant fun</td>
<td><span class="math inline">\(f(t) = 1\)</span></td>
<td><span class="math inline">\({\cal D}_t f(t) = 0\)</span></td>
<td>zero function</td>
</tr>
<tr class="even">
<td>proportional</td>
<td><span class="math inline">\(f(x) = x\)</span></td>
<td><span class="math inline">\({\cal D}_t f(t) = 1\)</span></td>
<td>constant</td>
</tr>
<tr class="odd">
<td>exponential</td>
<td><span class="math inline">\(e^t\)</span></td>
<td><span class="math inline">\(e^t\)</span></td>
<td>exponential</td>
</tr>
<tr class="even">
<td>logarithm</td>
<td><span class="math inline">\(\ln(t)\)</span></td>
<td><span class="math inline">\(1/t\)</span></td>
<td>reciprocal (power-law <span class="math inline">\(t^{-1}\)</span>)</td>
</tr>
<tr class="odd">
<td>sinusoid</td>
<td><span class="math inline">\(\sin(t)\)</span></td>
<td><span class="math inline">\(\sin(x + \pi/2) = \cos(t)\)</span></td>
<td>shifted sinusoid</td>
</tr>
<tr class="even">
<td>power-law</td>
<td>
<span class="math inline">\(t^p\)</span> with <span class="math inline">\(p\neq 0\)</span>
</td>
<td><span class="math inline">\(p\,t^{p-1}\)</span></td>
<td>power-law</td>
</tr>
<tr class="odd">
<td>sigmoid</td>
<td><span class="math inline">\(\text{pnorm}(t)\)</span></td>
<td>$(t)</td>
<td>hump</td>
</tr>
</tbody>
</table></div>
<p>With this list of experimentally determined slope functions (for small <span class="math inline">\(h\)</span>) we’re ready to start using slope functions without having to use left-shift combinations like <span class="math inline">\(f(t+h) - f(t)\)</span>.</p>
</div>
<div id="slopes-and-motion" class="section level2">
<h2>
<span class="header-section-number">14.2</span> Slopes and motion<a class="anchor" aria-label="anchor" href="#slopes-and-motion"><i class="fas fa-link"></i></a>
</h2>
<p>Having worked out a theory of slope functions, Newton was ready to express the laws of motion in continuous time. He did this by expressing position as <span class="math inline">\(x(t)\)</span>, and then familiar concepts velocity and force in terms of slope functions of position and the “quantity of matter,” which we call “mass.”</p>
<ul>
<li>Velocity is the slope function of position: <span class="math inline">\(v(t) \equiv {\cal D}_t x(t)\)</span>.</li>
<li>Net force is the slope function of velocity times mass: <span class="math inline">\(F(t) \equiv m {\cal D}_t v(t)\)</span>
</li>
</ul>
<p>To take mass out of the formulation, we give a name specifically to the slope function of velocity; we call it <strong><em>acceleration</em></strong>.</p>
<ul>
<li>Acceleration is the slope function of velocity: <span class="math inline">\(a(t) \equiv {\cal D}_t v(t)\)</span>.</li>
</ul>
<p>With acceleration as a concept, we can define net force as mass times acceleration.</p>
<div class="why">
<p>We used <strong>net force</strong> as the quantity we related to mass and the slope function of velocity. There are different sources of forces which add up and can cancel out. Famously, Newton formulated the <strong><em>law of universal gravitation</em></strong> which ascribed the force between masses as proportional to the product of the two masses and inversely proportional to the square of the distance between them. But a mass on a table has no net force on it, since the table pushes back (push = force) on the mass to cancel out the force due to gravity. “Net force” takes such cancellation into account.</p>
</div>
</div>
<div id="differentiation" class="section level2">
<h2>
<span class="header-section-number">14.3</span> Differentiation<a class="anchor" aria-label="anchor" href="#differentiation"><i class="fas fa-link"></i></a>
</h2>
<p><strong><em>Differentiation</em></strong> is a process of transforming a function to produce another function. There are several traditional notations for differentiation of a function named <span class="math inline">\(f()\)</span>, for instance:</p>
<ul>
<li>Leibnitz: <span class="math inline">\(\frac{df}{dx}\)</span>
</li>
<li>Partial: <span class="math inline">\(\frac{\partial f}{\partial x}\)</span>
</li>
<li>One-line: <span class="math inline">\(\partial_x f\)</span>
</li>
<li>Newton: <span class="math inline">\(\dot{f}\)</span>
</li>
<li>Prime: <span class="math inline">\(f'\)</span>
</li>
</ul>
<p>In this book, we will mainly use the one-line notation, <span class="math inline">\(\partial_x f\)</span>, but it means exactly the same as the Leibnitz and Partial notations, which are much more widely used in textbooks.</p>
<p>If you’ve studied calculus before, you have likely seen the <span class="math inline">\(f'\)</span> notation. This is admirably concise but is only viable in a narrow circumstance: functions that take a single input. What <span class="math inline">\(f'\)</span> leaves out is a means to specify a crucial aspect of differentiation, the <strong>with-respect-to variable</strong>. The general situation for differentiation involves functions of one or more variables, for example, <span class="math inline">\(g(x, y, z)\)</span>. For such functions, you need to specify which is the with-respect-to variable. For instance, we can differentiate <span class="math inline">\(g()\)</span> three different ways, each way incrementing one or another of the three inputs:</p>
<p><span class="math display">\[\partial_z g(x, y, z) \equiv \frac{g(x, y, z+h) - g(x, y, z)}{h}\\ 
\ \\
\partial_x g(x, y, z) \equiv \frac{g(x+h, y, z) - g(x, y, z)}{h}\\ 
\ \\
\partial_y g(x, y, z) \equiv \frac{g(x, y+h, z) - g(x, y, z)}{h}\]</span></p>
<p>At this point in your studies, you haven’t seen why you might choose to differentiate a function with respect to one variable or another. That will come in time. But we want to set you up with notation that won’t narrow your options.</p>
<p>Both the Leibnitz and Partial notations are explicit in identifying the function and the with-respect-to-variable. For example, using the Partial differentiation notation, the three ways of differentiating our example function <span class="math inline">\(g(x, y, z)\)</span> are labeled :</p>
<p><span class="math display">\[\frac{\partial f}{\partial x},\ \ \ \frac{\partial f}{\partial y},\ \ \text{and}\ \ \frac{\partial f}{\partial z}\]</span></p>
<p>Our R/mosaic computer differentiation is longer but explicit:</p>
<div class="sourceCode" id="cb86"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/stats/deriv.html">D</a></span><span class="op">(</span><span class="fu">g</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, <span class="va">z</span><span class="op">)</span> <span class="op">~</span> <span class="va">x</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/stats/deriv.html">D</a></span><span class="op">(</span><span class="fu">g</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, <span class="va">z</span><span class="op">)</span> <span class="op">~</span> <span class="va">y</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/stats/deriv.html">D</a></span><span class="op">(</span><span class="fu">g</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, <span class="va">z</span><span class="op">)</span> <span class="op">~</span> <span class="va">z</span><span class="op">)</span></code></pre></div>
<p>Notice that the R/mosaic operator is named <code><a href="https://rdrr.io/r/stats/deriv.html">D()</a></code> and that it is a function. It follows the same pattern as <code>makeFun()</code> or <code>slice_plot()</code> or <code>contour_plot()</code>: the first argument is a tilde expression, for instance <code>g(x, y, z) ~ x</code>, which identifies the mathematical function to work with (<code>g()</code>) and the name of the with-respect-to input to that function. The R/mosaic notation makes it clear that differentiation is an <strong><em>operation</em></strong> on a function. The <code><a href="https://rdrr.io/r/stats/deriv.html">D()</a></code> operator takes a function as input and produces as output <strong>another function</strong>. We’ve seen similar behavior with, say, <code>slice_plot()</code>, which takes a function as input and produces graphics as output. Both <code><a href="https://rdrr.io/r/stats/deriv.html">D()</a></code> and <code>slice_plot()</code> need to know the identity of the with-respect-to variable as well as the function to work with. What’s why both pieces of input are packaged into a tilde expression.</p>
<div class="why">
<p>We’re calling <code><a href="https://rdrr.io/r/stats/deriv.html">D()</a></code> an <strong><em>operator</em></strong> rather than a <strong><em>function</em></strong>. The reason is purely for communication with other people. There are so many “functions” in a calculus course that we thought it would be helpful to distinguish between the kinds of functions that take quantities as input and produce a quantity as output, and the functions that take a <em>function</em> as input and produce a <em>function</em> as output. Both sorts are called “functions” in R terminology. But a sentence like, “Differentiation is a function that takes a function as input and produces a function as output,” true though it be, is dizzying.</p>
</div>
<div class="takenote">
<p>It is a fact of mathematical and scientific life that a variety of notations are used for differentiation. To some extent, this reflects historical precedence and, to be honest, nationalistic European politics of the 18th century. To make sense of mathematical writing in the many areas in which calculus is used, you have to recognize all of them for what they are. Your skill will be enhanced if you also memorize the names of the different styles. It’s not all that different from the pattern in English of having multiple words for the same sort of object, for instance: car, automobile, junker, ride, wheels, crate, jalopy, limo, motor car, horseless carriage.</p>
<p>In the days when carriages where pulled by horses, the phrase “horseless carriage” made a useful distinction. Today, when horses are rarely seen on the road, it make sense to trim down the notation to its essentials: ~<del>horseless</del>~ <strong>car</strong>~<del>iage</del>~. Think of <span class="math inline">\(\partial_x\)</span> as this sort of minification.<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;Yes, “minification” is a word!&lt;/p&gt;"><sup>16</sup></a></p>
</div>
</div>
<div id="using-h" class="section level2">
<h2>
<span class="header-section-number">14.4</span> Using h<a class="anchor" aria-label="anchor" href="#using-h"><i class="fas fa-link"></i></a>
</h2>
<p>In working with differentiation, we introduced a quantity <span class="math inline">\(h\)</span> and then ignored it, saying that it doesn’t really matter so long as it is “small.” A reasonable person might wonder what “small” really means, and why we needed to introduce <span class="math inline">\(h\)</span> in the first place if we were eventually going to ignore it.</p>
<p>One reason is that “small” and “zero,” although related, are different. For example, refering to the slope functions <code>Dsin()</code> and <code>Dsigma()</code> that we created in an early example in this chapter, we see that setting <span class="math inline">\(h\)</span> to zero does not get us where we need to be:</p>
<div class="sourceCode" id="cb87"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">Dsin</span><span class="op">(</span>t<span class="op">=</span><span class="fl">1</span>, h<span class="op">=</span><span class="fl">0</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] NaN</code></pre>
<div class="sourceCode" id="cb89"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">Dsigma</span><span class="op">(</span>t<span class="op">=</span><span class="fl">0</span>, h<span class="op">=</span><span class="fl">0</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] NaN</code></pre>
<p>In <code>NaN</code>, you can hear the echo of your fourth-grade teacher reminding you that it is illegal to divide by zero.</p>
<p>Think of <span class="math inline">\(h\)</span> as the solvent in paint. You don’t want the solvent once the paint is on the wall; wet paint is a nuisance. But getting the paint from the can to the wall absolutely needs the solvent.</p>
<p>We used the solvent <span class="math inline">\(h\)</span> earlier in the chapter in the numerical experiments that led us to the derivatives of the naked modeling functions, for instance <span class="math inline">\(\partial_x e^x = e^x\)</span> or <span class="math inline">\(\partial_x \sin(x) = \cos(x)\)</span>. Eventually, we’ll construct an <span class="math inline">\(h\)</span>-free theory of differentiation, reducing the process to a set of algebraic rules in which <span class="math inline">\(h\)</span> never appears. With this as our goal, let’s continue using <span class="math inline">\(h\)</span> for a while to find some additional useful facts about derivatives.</p>
<p><strong><em>Linear combination</em></strong> is one of the ways in which we make new functions from existing functions. As you recall, linear combination involves <strong><em>scaling</em></strong> a function and <strong><em>adding</em></strong> the scaled functions. We can easily use <span class="math inline">\(h\)</span> to show what is the result of differentiating a linear combination of functions. We’ll use <span class="math inline">\(f(x)\)</span> and <span class="math inline">\(g(x)\)</span> as the names that could stand for any function whatsoever. And we’ll let <span class="math inline">\(b\)</span> be the name of a scalar. First, let’s figure out what is <span class="math inline">\(\partial_x\, b f(x)\)</span>, Going back to writing <span class="math inline">\(\partial_x\)</span> in terms of a slope function:
<span class="math display">\[\partial_x\, b\,f(x) = \frac{b\, f(x + h) - b\,f(x)}{h}\\
\ \\
= b \frac{f(x+h) - f(x)}{h} = b\, \partial_x f(x)\]</span>
In other words, if we know the derivative <span class="math inline">\(\partial_x\, f(x)\)</span>, we can easily find the derivative of any scaled version of <span class="math inline">\(f()\)</span>.</p>
<p>Now consider the derivative of the sum of two functions, <span class="math inline">\(f(x)\)</span> and <span class="math inline">\(g(x)\)</span>:
<span class="math display">\[\partial_x\, \left[f(x) + g(x)\right] =\\
\ \\
=\frac{\left[f(x + h) + g(x + h)\right] - \left[f(x) + g(x)\right]}{h} = \\
\ \\
= \frac{\left[f(x+h) -f(x)\right] + \left[g(x+h) - g(x)\right]}{h}\\
\ \\
= \frac{\left[f(x+h) -f(x)\right]}{h} + \frac{\left[g(x+h) - g(x)\right]}{h}\\
\ \\
= \partial_x\, f(x) + \partial_x\, g(x)\]</span></p>
<p>Using these two rules together, we can differentiate any linear combination of functions in terms of the differentiated functions themselves:</p>
<p><span class="math display">\[\partial_x\ \left[\strut a_1 g_1(x) + a_2 g_2(x) + a_3 g_3(x) + \cdots\right] =\ \ \ \ \ \ \ \ \ \ \\
\ \\
\ \ \ \ \ \ \ \ \ a_1 \partial_x\, g_1(x) + a_2 \partial_x\, g_2(x) + a_3 \partial_x\, g_3(x) + \cdots\]</span></p>
<p>Because of the way that <span class="math inline">\(\partial_x\)</span> can be “passed through” a linear combination, mathematicians say that differentiation is a <strong><em>linear operator</em></strong>. Consider this new fact about differentiation as a down payment on what will eventually become a complete theory telling us how to differentiate a <strong><em>product of two functions</em></strong> or the <strong><em>composition of two functions</em></strong>.</p>
<p>EXERCISES: Simple drill on this</p>
</div>
<div id="functions-and-perception" class="section level2">
<h2>
<span class="header-section-number">14.5</span> Functions and perception<a class="anchor" aria-label="anchor" href="#functions-and-perception"><i class="fas fa-link"></i></a>
</h2>
<!--
As you know, a function takes one or more inputs and returns a value as output. The functions we examine in CalcZ take *quantities* as inputs and return a *quantity* as an output. 
The algorithm that forms the body of the function describes arithmetic and other calculations that can turn the inputs into the output. 

On the other hand, we can also use ***tables*** as functions. With a table, you specify the input, look up that input in one of the colums of the table which brings you to the right row. Then read out from that row the value in another column to be the output. The quantitative operation needed for table lookup is simple comparison. The floor/corridor/door metaphor describes table lookup as well as function evaluation. 

In the previous block, we constructed functions to represent the patterns seen in data. In one example, we constructed a function $g(t) = A + B e^{-k t}$ to represent the temperature of water cooling in a mug as a function of time. In another example, we summarized the pattern of rising and falling tides. 

It's common sense that data is stored in tables. But we could easily represent any smooth mathematical function, such as our basic modeling functions, as a table look-up problem. Indeed, in the era before computers, many mathematical functions were used in exactly this manner: a printed table in which a person could search for a match to the input and retrieve a value for the output.

::: {.todo}
[Picture of some nice old table.]
:::

In the computer era, we still routinely represent functions this way: data stored in computer files. For instance, an MP3 file is not much more than a sequence of numbers that record a complicated function of time: the air pressure variations of sound. Similarly, digital images record functions of $x$ and $y$ over a limited domain. Given $x$ and $y$ as input, you can look up the output by going to the right pixel.

-->
<p>We humans perceive the world using sight and sound and our other senses. Both sight and sound are highly complex biophysically, but the <em>process</em> can be broken down trivially into a relationship: <em>reality <span class="math inline">\(\longrightarrow\)</span> perception</em>.</p>
<p>Perception takes place in your mind and brain, extended by sensors such as the retina of the eye and cochlea of the ear. There is considerable scientific understanding of how the retina and cochlea work, but perception itself is still somewhat mysterious and involves the interaction of sensor input with our memory and other cognitive processes.</p>
<p>Still, for both hearing and sight, we can analyze the <em>reality <span class="math inline">\(\longrightarrow\)</span> perception</em> process by adding an intermediate layer:</p>
<ul>
<li>For sight: <em>reality <span class="math inline">\(\longrightarrow\)</span> image <span class="math inline">\(\longrightarrow\)</span> perception</em>
</li>
<li>For hearing: <em>reality <span class="math inline">\(\longrightarrow\)</span> sound <span class="math inline">\(\longrightarrow\)</span> perception</em>
</li>
</ul>
<p>We know a tremendous amount about sound and image. For instance, we can reliably and effectively create or synthesize realistic sounds and images. Indeed, we can study the <em>image <span class="math inline">\(\longrightarrow\)</span> perception</em> process in isolation. And, as so often happens in science, we study the process by creating a mathematical representation of it.</p>
<p>This starts with the mathematical representation of image and sound. Since this is a calculus course, you won’t be surprised when we propose that good mathematical representations are functions:</p>
<ul>
<li>Sound: a function of one variable, <span class="math inline">\(t\)</span> for time.</li>
<li>Image: a function of two variables: the <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> coordinates of an image.</li>
</ul>
<p>A sound or an image are often represented as multiple functions, for example the left and right channel of stereo sound, or the red, green, and blue planes of a digital image. But a single channel or plane is able to represent sounds or images with considerable fidelity. For simplicity, we’ll stick to that: sound(t) and image(x,y).</p>
<p>What about the 3rd dimension? The retina is effectively a two-dimensional sensor. The third dimension comes in through the <em>reality <span class="math inline">\(\longrightarrow\)</span> image</em> part of the overall process.</p>
<p>Consider the image in Figure @ref{fig:sand-1}. It is a picture of some indentations in a small area of sand, about two inches wide in the middle of a hiking trail. The dots are individual grains of sand.</p>
<div class="inline-figure"><img src="www/sand-furrows.png" width="50%" style="display: block; margin: auto;"></div>
<p>Can you see three almost parallel furrows? How about the small crater in the upper left?</p>
<p>You can see the individual grains of sand because they contrast sharply with their neighbors.</p>
<p>You can think of the surface of the sand as a function of <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span>. It’s lower in some places and higher in others. But, in fact, you can’t see the height of an individual point in the photograph. In the right light, you wouldn’t notice the furrows at all. But the way the picture is lighted, raking sunlight from the left, the <em>reality $image</em> process translates the surface into broad regions of brightness and shadow. In the light regions, the surface slants toward the sun. In the shadows, the surface slants away from the sun.</p>
<p>What you’re mainly seeing in the photo is the <strong><em>slant</em></strong> or <strong><em>slope</em></strong> of the surface. The raking light has transformed <em>elevation</em> as a function of <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> into <em>slant</em> as a function of <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> and then encoded the slant as brightness. Ironically, it would be much less effective to present the surface height directly as an image</p>
<p>The moral here is that sometimes the data in a function is not in the right form for us to extract useful information. But by transforming that data to represent contrast or difference or slope, the information can be revealed.</p>
<p>This Block is about transforming functions to show difference and slope. Such transformation, accomplished by mathematics rather than the raking light of the sun, can take a pattern that we’re presented with and turn it into another pattern that can tell us what we want to know.</p>
</div>
<div id="differencing" class="section level2">
<h2>
<span class="header-section-number">14.6</span> Differencing<a class="anchor" aria-label="anchor" href="#differencing"><i class="fas fa-link"></i></a>
</h2>
<p>Our basic tool for showing difference and slope is a remarkable simple operator that takes a function as input. For a function with one input, the operator <span class="math inline">\({\cal D}()\)</span> is defined as
<span class="math display">\[{\cal D}(f) \equiv \frac{f(x + 0.1) - f(x)}{0.1}\]</span>
Notice that the <span class="math inline">\({\cal D}()\)</span> operator returns a <strong>function</strong>. The output is a linear combination of the input function <span class="math inline">\(f()\)</span> and a shifted version of <span class="math inline">\(f()\)</span>.</p>
<p>For a function with two inputs, there are two versions of <span class="math inline">\({\cal D}\)</span>:
<span class="math display">\[{\cal D}_x(f) \equiv \frac{f(x+0.1, y) - f(x, y)}{0.1}\]</span></p>
<p><span class="math display">\[{\cal D}_y(f) \equiv \frac{f(x, y+0.1) - f(x, y)}{0.1}\]</span></p>
<div class="workedexample">
<p>Suppose that <span class="math inline">\(f(x)\equiv x^2\)</span>. What is the function <span class="math inline">\({\cal D}(f)\)</span>?</p>
<p><span class="math display">\[
{\cal D}(f) \equiv \frac{f(x+0.1) - f(x)}{0.1}\\ =
10\left((x+0.1)^2 - x^2\right)\\
=10 x^2 + 2x + 0.1 - 10x^2\\ = 2 x + 0.1\]</span></p>
</div>
<div class="workedexample">
<p>Suppose that <span class="math inline">\(f(x) \equiv 2 x + y\)</span>. Find the function <span class="math inline">\({\cal D(f)}\)</span>.</p>
<p>The linear combination will be
<span class="math display">\[\frac{1}{0.1}\left(\left[2 (x + 0.1) + y\right] - \left[2 x + y\right]\right) =\\ \\
20 x + 2 + 10y - \left[20 x - 10y\right] = 2\]</span></p>
</div>
<div class="sourceCode" id="cb91"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">f</span> <span class="op">&lt;-</span> <span class="fu">makeFun</span><span class="op">(</span><span class="fl">2</span> <span class="op">*</span><span class="va">x</span> <span class="op">*</span> <span class="va">y</span> <span class="op">~</span> <span class="va">x</span> <span class="op">+</span> <span class="va">y</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/stats/deriv.html">D</a></span><span class="op">(</span><span class="fu">f</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span> <span class="op">~</span> <span class="va">x</span><span class="op">)</span></code></pre></div>
<pre><code>## function (x, y) 
## 2 * (y)</code></pre>
</div>
<div id="slope-of-an-image" class="section level2">
<h2>
<span class="header-section-number">14.7</span> Slope of an image<a class="anchor" aria-label="anchor" href="#slope-of-an-image"><i class="fas fa-link"></i></a>
</h2>
<div class="sourceCode" id="cb93"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">137</span><span class="op">)</span>
<span class="va">diam</span> <span class="op">&lt;-</span> <span class="fl">8</span>
<span class="va">f</span> <span class="op">&lt;-</span> <span class="fu">rfun</span><span class="op">(</span><span class="op">~</span> <span class="va">x</span><span class="op">+</span> <span class="va">y</span><span class="op">)</span>
<span class="fu">contour_plot</span><span class="op">(</span><span class="fu">f</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span> <span class="op">~</span> <span class="va">x</span> <span class="op">+</span> <span class="va">y</span>, <span class="fu">domain</span><span class="op">(</span>x<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="va">diam</span>, <span class="va">diam</span><span class="op">)</span>, y<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="va">diam</span>,<span class="va">diam</span><span class="op">)</span><span class="op">)</span>, contours_at <span class="op">=</span> <span class="op">-</span><span class="fl">100</span>, fill_alpha<span class="op">=</span><span class="fl">1</span>, contour_color<span class="op">=</span><span class="cn">NA</span>, n_fill<span class="op">=</span><span class="fl">500</span>, fill_scale<span class="op">=</span><span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_grey.html">scale_fill_grey</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="CalcZ-notes_files/figure-html/unnamed-chunk-95-1.png" width="672"></div>
<div class="sourceCode" id="cb94"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">fx</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/deriv.html">D</a></span><span class="op">(</span><span class="fu">f</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span> <span class="op">~</span> <span class="va">x</span><span class="op">)</span>
<span class="fu">contour_plot</span><span class="op">(</span><span class="fu">fx</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span> <span class="op">~</span> <span class="va">x</span> <span class="op">+</span> <span class="va">y</span>, <span class="fu">domain</span><span class="op">(</span>x<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="va">diam</span>,<span class="va">diam</span><span class="op">)</span>, y<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="va">diam</span>, <span class="va">diam</span><span class="op">)</span><span class="op">)</span>, contours_at <span class="op">=</span> <span class="op">-</span><span class="fl">100</span>, fill_alpha<span class="op">=</span><span class="fl">1</span>, contour_color<span class="op">=</span><span class="cn">NA</span>, n_fill<span class="op">=</span><span class="fl">500</span>, fill_scale<span class="op">=</span><span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_grey.html">scale_fill_grey</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="CalcZ-notes_files/figure-html/unnamed-chunk-95-2.png" width="672"></div>
</div>
<div id="instantaneous-rate-of-change-1" class="section level2">
<h2>
<span class="header-section-number">14.8</span> Instantaneous rate of change<a class="anchor" aria-label="anchor" href="#instantaneous-rate-of-change-1"><i class="fas fa-link"></i></a>
</h2>
<div class="objectives" latex-data="">
<ol>
<li>
<strong>[Deriv-2b]</strong> <em>Distinguish the “average rate of change” from the “instantaneous rate of change”.</em>
</li>
</ol>
</div>
<p>Imagine a graph of the position of a car along a road as in Figure @ref{fig:stop-and-go2}.</p>
<div class="todo">
<p>This graph appears in an exercise in Fun-slopes</p>
</div>
<p>Over the course of an hour, the car travelled about 25 miles. In other words, the <strong><em>average</em></strong> speed is 25 miles/hour: the <em>slope</em> of the red line segment. Given the traffic, sometimes the car was stopped (time C), sometimes crawling (time D) and sometimes much faster than average (time B).</p>
<div class="inline-figure"><img src="CalcZ-notes_files/figure-html/stop-and-go2-1.png" width="672"></div>
<p>The car’s speedometer shows the speed at each moment—or <strong><em>instant</em></strong>—of the trip. As you can see in Figure @ref{fig:stop-and-go}, the speed varies and is sometimes less than the average speed, sometimes greater, and occasionally equal to the average speed over the trip. The general term for the kind of quantity presented by the speedometer is the <strong><em>instantaneous rate of change</em></strong> of the position function with respect to the input to that function.</p>
<p>Figure @ref{fig:instant-speed} shows the instantaneous rate of change of position with respect to time.</p>
<div class="inline-figure">
<img src="CalcZ-notes_files/figure-html/instant-speed-1.png" width="672">
The two graphs in Figures @ref{fig:stop-and-go} and @ref{fig:instant-speed} show exactly the same car trip. The presentation of the data in the different graphs makes it easy to see some things and hard to see others. For instance, figuring out when the car is at a stand-still is harder in the position-vs-time graph than in the speed-vs-time graph. This is very much in the spirit of the sand-furrows example at the start of this chapter: it’s much easier to perceive the furrows because the lighting highlights areas sloping toward the sun as bright and areas sloping away from the sun as dark. In Figure @ref{fig:instant-speed} we’re not using light-and-dark for the display. Instead, we’re showing the instantaneous speed using the vertical axis.</div>
<p>Recall that the interval between <span class="math inline">\(t_B\)</span> and <span class="math inline">\(t_C\)</span> had an <strong><em>average rate of change</em></strong> of about 39 miles-per-hour. Looking at the <strong><em>instantaneous rate of change</em></strong> tells the story differently: at time <span class="math inline">\(t_B\)</span> the car was accelerating to about 60 miles-per-hour. Then it gradually slowed, coming to a stop just before time <span class="math inline">\(t_C\)</span>.</p>
<p>Figure @ref{fig:stop-and-go} shows the function <span class="math inline">\(\mbox{position}(t)\)</span>. Figure @ref{fig:instant-speed} shows a different function, <span class="math inline">\(\mbox{speed}(t)\)</span>. Although the two functions are different, they are intimately related: <span class="math inline">\(\mbox{speed}(t)\)</span> is the <strong><em>instantaneous rate of change</em></strong> of <span class="math inline">\(\mbox{position}(t)\)</span>.</p>
<p>Two central operations in calculus are:</p>
<ol style="list-style-type: decimal">
<li>Given a function <span class="math inline">\(f(t)\)</span>, find the function <span class="math inline">\(g(t)\)</span> giving the instantaneous rate of change of <span class="math inline">\(f()\)</span>. This process of deriving <span class="math inline">\(g(t)\)</span> from <span class="math inline">\(f(t)\)</span> is called <strong><em>differentiation</em></strong>.</li>
<li>Given a function <span class="math inline">\(g(t)\)</span>, find the <span class="math inline">\(f(t)\)</span> of which <span class="math inline">\(g(t)\)</span> is the instantaneous rate of change. This process of finding <span class="math inline">\(f()\)</span> given <span class="math inline">\(g()\)</span> is called <strong><em>anti-differentiation</em></strong>.</li>
</ol>
<div class="workedexample" latex-data="">
<p>The context of the situation being modeled determines whether it’s appropriate to look at an average rate of change or an instantaneous rate of change. Figure @ref{fig:instant-tree} shows the instantaneous rate of change in the volume of wood.</p>
<p><img src="CalcZ-notes_files/figure-html/instant-tree-1.png" width="672">
It’s tempting to look to the year where the growth rate is highest as the optimal harvest year. This is a mistake. The volume of wood being harvested is the <strong><em>accumulated growth</em></strong> not the instantaneous growth. Even though the instantaneous growth is higher at year 23 than year 30, it’s still pretty high at year 30 and waiting until then (or later) accumates those years of higher-than-average growth. That’s why the <strong><em>average rate of growth</em></strong> is a better thing to look at to determine optimal harvest time. Still, is it the right thing to look at?</p>
<p>Between year 30 and 32, there is hardly any change in the value of the average-rate-of-change function. It’s increasing a little, but is it really worthwhile to wait? One argument is that at year 29 you already have a valuable resource: wood that could be money in the bank. If the money were in the bank, you could invest it and earn more money <em>and</em> at the same time get a new seedling in the ground to start its growth. You’re doing two things at once. Efficient!</p>
<p>To know what is the best year for harvest from this point of view, you want to calculate the effective “interest rate” on the present amount of wood that you earn in the form of new wood. That interest rate is the ratio of the <em>instantaneous</em> rate of growth of new wood divided by the amount of existing wood. Figure @ref{fig:tree-interest} shows this function:</p>
<div class="inline-figure">
<img src="CalcZ-notes_files/figure-html/tree-interest-1.png" width="672">
Early in the tree’s life, the growth is high compared to the volume of the tree. That’s because the tree is small. As the years pass, the tree gets bigger. Even though the rate of growth increases through year 23, the accumulated volume increases even faster, so there is a fall in the rate of return.</div>
<p>The best time to harvest is when the annual “interest rate” paid by the growing tree falls to the level of the next best available investment. Suppose that investment would pay 10% per year. Then harvest the tree at year 24. If the next best investment paid only 5% (blue horizontal line), the harvest should be made at about year 29.</p>
</div>

</div>
</div>

  <div class="chapter-nav">
<div class="prev"><a href="outline-of-block-2.html">Outline of Block 2</a></div>
<div class="next"><a href="h-and-derivatives.html"><span class="header-section-number">15</span> h and derivatives</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#change-relationships"><span class="header-section-number">14</span> Change relationships</a></li>
<li><a class="nav-link" href="#slopes-and-increments."><span class="header-section-number">14.1</span> Slopes and increments.</a></li>
<li><a class="nav-link" href="#slopes-and-motion"><span class="header-section-number">14.2</span> Slopes and motion</a></li>
<li><a class="nav-link" href="#differentiation"><span class="header-section-number">14.3</span> Differentiation</a></li>
<li><a class="nav-link" href="#using-h"><span class="header-section-number">14.4</span> Using h</a></li>
<li><a class="nav-link" href="#functions-and-perception"><span class="header-section-number">14.5</span> Functions and perception</a></li>
<li><a class="nav-link" href="#differencing"><span class="header-section-number">14.6</span> Differencing</a></li>
<li><a class="nav-link" href="#slope-of-an-image"><span class="header-section-number">14.7</span> Slope of an image</a></li>
<li><a class="nav-link" href="#instantaneous-rate-of-change-1"><span class="header-section-number">14.8</span> Instantaneous rate of change</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/dtkaplan/CalcZ-notes/blob/master/Diff-intro.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/dtkaplan/CalcZ-notes/edit/master/Diff-intro.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>CalcZ Student Notes</strong>" was written by Daniel Kaplan. It was last built on 2021-06-04.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>
</html>
