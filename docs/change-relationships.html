<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 14 Change relationships | CalcZ Student Notes</title>
  <meta name="description" content="Textbook for Math 141Z/142Z for 2021-2022" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 14 Change relationships | CalcZ Student Notes" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Textbook for Math 141Z/142Z for 2021-2022" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 14 Change relationships | CalcZ Student Notes" />
  
  <meta name="twitter:description" content="Textbook for Math 141Z/142Z for 2021-2022" />
  

<meta name="author" content="Daniel Kaplan" />


<meta name="date" content="2021-06-08" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="outline-of-block-2.html"/>
<link rel="next" href="h-and-derivatives.html"/>
<script src="libs/header-attrs-2.8/header-attrs.js"></script>
<script src="libs/jquery-3.5.1/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.18/datatables.js"></script>
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<script src="libs/plotly-binding-4.9.4/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.57.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.57.1/plotly-latest.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="css/CalcZ-style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">CalcZ</a></strong></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome to calculus</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#computing-and-apps"><i class="fa fa-check"></i>Computing and apps</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#exercises-and-feedback"><i class="fa fa-check"></i>Exercises and feedback</a></li>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#taken-out.-is-there-any-use-for-it"><i class="fa fa-check"></i><b>0.1</b> [[Taken out. Is there any use for it?]]</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="calcz-project-development-plan.html"><a href="calcz-project-development-plan.html"><i class="fa fa-check"></i>CalcZ Project Development Plan</a>
<ul>
<li class="chapter" data-level="" data-path="calcz-project-development-plan.html"><a href="calcz-project-development-plan.html#development-schedule"><i class="fa fa-check"></i>Development schedule</a></li>
<li class="chapter" data-level="" data-path="calcz-project-development-plan.html"><a href="calcz-project-development-plan.html#resources-from-ay-2020-2021"><i class="fa fa-check"></i>Resources from AY 2020-2021</a>
<ul>
<li class="chapter" data-level="" data-path="calcz-project-development-plan.html"><a href="calcz-project-development-plan.html#software"><i class="fa fa-check"></i>Software</a></li>
<li class="chapter" data-level="" data-path="calcz-project-development-plan.html"><a href="calcz-project-development-plan.html#exercises"><i class="fa fa-check"></i>Exercises</a></li>
<li class="chapter" data-level="" data-path="calcz-project-development-plan.html"><a href="calcz-project-development-plan.html#projects-from-ay-2020-2021"><i class="fa fa-check"></i>Projects from AY 2020-2021</a></li>
<li class="chapter" data-level="" data-path="calcz-project-development-plan.html"><a href="calcz-project-development-plan.html#apps"><i class="fa fa-check"></i>Apps</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>I Block 1: Functions and quantity</b></span></li>
<li class="chapter" data-level="" data-path="outline-of-block-1.html"><a href="outline-of-block-1.html"><i class="fa fa-check"></i>Outline of Block 1</a></li>
<li class="chapter" data-level="1" data-path="change.html"><a href="change.html"><i class="fa fa-check"></i><b>1</b> Change</a>
<ul>
<li class="chapter" data-level="1.1" data-path="change.html"><a href="change.html#quantity-vs-number"><i class="fa fa-check"></i><b>1.1</b> Quantity vs number</a></li>
<li class="chapter" data-level="1.2" data-path="change.html"><a href="change.html#functions"><i class="fa fa-check"></i><b>1.2</b> Functions</a></li>
<li class="chapter" data-level="1.3" data-path="change.html"><a href="change.html#naked-intro"><i class="fa fa-check"></i><b>1.3</b> The naked modeling functions</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="structure-of-a-function.html"><a href="structure-of-a-function.html"><i class="fa fa-check"></i><b>2</b> Structure of a function</a>
<ul>
<li class="chapter" data-level="2.1" data-path="structure-of-a-function.html"><a href="structure-of-a-function.html#domain-input-space"><i class="fa fa-check"></i><b>2.1</b> Domain: input space</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="fun-describing.html"><a href="fun-describing.html"><i class="fa fa-check"></i><b>3</b> Describing functions</a>
<ul>
<li class="chapter" data-level="3.1" data-path="fun-describing.html"><a href="fun-describing.html#computer-commands"><i class="fa fa-check"></i><b>3.1</b> Computer commands</a></li>
<li class="chapter" data-level="3.2" data-path="fun-describing.html"><a href="fun-describing.html#tables-of-inputs-and-outputs"><i class="fa fa-check"></i><b>3.2</b> Tables of inputs and outputs</a></li>
<li class="chapter" data-level="3.3" data-path="fun-describing.html"><a href="fun-describing.html#word-descriptions"><i class="fa fa-check"></i><b>3.3</b> Word descriptions</a></li>
<li class="chapter" data-level="3.4" data-path="fun-describing.html"><a href="fun-describing.html#computer-function-names"><i class="fa fa-check"></i><b>3.4</b> Computer function names</a></li>
<li class="chapter" data-level="3.5" data-path="fun-describing.html"><a href="fun-describing.html#mathematical-notation"><i class="fa fa-check"></i><b>3.5</b> Mathematical notation</a></li>
<li class="chapter" data-level="3.6" data-path="fun-describing.html"><a href="fun-describing.html#exercises-1"><i class="fa fa-check"></i><b>3.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="fun-notation.html"><a href="fun-notation.html"><i class="fa fa-check"></i><b>4</b> Notation for functions</a>
<ul>
<li class="chapter" data-level="4.1" data-path="fun-notation.html"><a href="fun-notation.html#a-notation-for-computing"><i class="fa fa-check"></i><b>4.1</b> A notation for computing</a></li>
<li class="chapter" data-level="4.2" data-path="fun-notation.html"><a href="fun-notation.html#objects-and-actions"><i class="fa fa-check"></i><b>4.2</b> Objects and actions</a></li>
<li class="chapter" data-level="4.3" data-path="fun-notation.html"><a href="fun-notation.html#algorithms"><i class="fa fa-check"></i><b>4.3</b> Formulas and algorithms</a></li>
<li class="chapter" data-level="4.4" data-path="fun-notation.html"><a href="fun-notation.html#algorithms-without-formulas"><i class="fa fa-check"></i><b>4.4</b> Algorithms without formulas</a></li>
<li class="chapter" data-level="4.5" data-path="fun-notation.html"><a href="fun-notation.html#computer-notation"><i class="fa fa-check"></i><b>4.5</b> Computer notation</a></li>
<li class="chapter" data-level="4.6" data-path="fun-notation.html"><a href="fun-notation.html#calcz-naming-conventions"><i class="fa fa-check"></i><b>4.6</b> CalcZ naming conventions</a></li>
<li class="chapter" data-level="4.7" data-path="fun-notation.html"><a href="fun-notation.html#functions-in-r"><i class="fa fa-check"></i><b>4.7</b> Functions in R</a></li>
<li class="chapter" data-level="4.8" data-path="fun-notation.html"><a href="fun-notation.html#foursigns"><i class="fa fa-check"></i><b>4.8</b> E unibus plurum: <span class="math inline">\(=\)</span>, <span class="math inline">\(\equiv\)</span>, <span class="math inline">\(\rightarrow\)</span>, <code>&lt;-</code></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="graphs-and-graphics.html"><a href="graphs-and-graphics.html"><i class="fa fa-check"></i><b>5</b> Graphics &amp; function graphs</a>
<ul>
<li class="chapter" data-level="5.1" data-path="graphs-and-graphics.html"><a href="graphs-and-graphics.html#the-graphics-frame"><i class="fa fa-check"></i><b>5.1</b> The graphics frame</a></li>
<li class="chapter" data-level="5.2" data-path="graphs-and-graphics.html"><a href="graphs-and-graphics.html#data-graphics-the-point-plot"><i class="fa fa-check"></i><b>5.2</b> Data graphics: the point plot</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="graphs-and-graphics.html"><a href="graphs-and-graphics.html#asymptotes-of-functions"><i class="fa fa-check"></i><b>5.2.1</b> Asymptotes of functions</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="graphs-and-graphics.html"><a href="graphs-and-graphics.html#function-shapes"><i class="fa fa-check"></i><b>5.3</b> Graphs of the basic functions</a></li>
<li class="chapter" data-level="5.4" data-path="graphs-and-graphics.html"><a href="graphs-and-graphics.html#exercises-in-draft"><i class="fa fa-check"></i><b>5.4</b> EXERCISES in draft</a></li>
<li class="chapter" data-level="5.5" data-path="graphs-and-graphics.html"><a href="graphs-and-graphics.html#inputs-to-output"><i class="fa fa-check"></i><b>5.5</b> Inputs to output</a></li>
<li class="chapter" data-level="5.6" data-path="graphs-and-graphics.html"><a href="graphs-and-graphics.html#outputs-to-inputs"><i class="fa fa-check"></i><b>5.6</b> Outputs to inputs</a></li>
<li class="chapter" data-level="5.7" data-path="graphs-and-graphics.html"><a href="graphs-and-graphics.html#graphs-of-functions-with-two-inputs"><i class="fa fa-check"></i><b>5.7</b> Graphs of functions with two inputs</a></li>
<li class="chapter" data-level="5.8" data-path="graphs-and-graphics.html"><a href="graphs-and-graphics.html#contour-plots"><i class="fa fa-check"></i><b>5.8</b> Contour plots</a></li>
<li class="chapter" data-level="5.9" data-path="graphs-and-graphics.html"><a href="graphs-and-graphics.html#slice-plots"><i class="fa fa-check"></i><b>5.9</b> Slice plots</a></li>
<li class="chapter" data-level="5.10" data-path="graphs-and-graphics.html"><a href="graphs-and-graphics.html#creating-graphics"><i class="fa fa-check"></i><b>5.10</b> Creating graphics</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="params-intro.html"><a href="params-intro.html"><i class="fa fa-check"></i><b>6</b> Parameters for functions</a>
<ul>
<li class="chapter" data-level="6.1" data-path="params-intro.html"><a href="params-intro.html#parallel-scales"><i class="fa fa-check"></i><b>6.1</b> Parallel scales</a></li>
<li class="chapter" data-level="6.2" data-path="params-intro.html"><a href="params-intro.html#scale-the-output"><i class="fa fa-check"></i><b>6.2</b> Scale the output</a></li>
<li class="chapter" data-level="" data-path="params-intro.html"><a href="params-intro.html#exercises-2"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="process-of-modeling.html"><a href="process-of-modeling.html"><i class="fa fa-check"></i><b>7</b> Process of modeling</a>
<ul>
<li class="chapter" data-level="7.1" data-path="process-of-modeling.html"><a href="process-of-modeling.html#variations-from-scaling"><i class="fa fa-check"></i><b>7.1</b> Variations from scaling</a></li>
<li class="chapter" data-level="7.2" data-path="process-of-modeling.html"><a href="process-of-modeling.html#curve-fitting-an-exponential-function"><i class="fa fa-check"></i><b>7.2</b> Curve fitting an exponential function</a></li>
<li class="chapter" data-level="7.3" data-path="process-of-modeling.html"><a href="process-of-modeling.html#curve-fitting-a-periodic-function"><i class="fa fa-check"></i><b>7.3</b> Curve fitting a periodic function</a></li>
<li class="chapter" data-level="7.4" data-path="process-of-modeling.html"><a href="process-of-modeling.html#modeling-periodicity"><i class="fa fa-check"></i><b>7.4</b> Modeling periodicity</a></li>
<li class="chapter" data-level="7.5" data-path="process-of-modeling.html"><a href="process-of-modeling.html#the-modeling-cycle"><i class="fa fa-check"></i><b>7.5</b> The modeling cycle</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="process-of-modeling.html"><a href="process-of-modeling.html#example-cooling-water"><i class="fa fa-check"></i><b>7.5.1</b> Example: Cooling water</a></li>
<li class="chapter" data-level="7.5.2" data-path="process-of-modeling.html"><a href="process-of-modeling.html#example-the-tides"><i class="fa fa-check"></i><b>7.5.2</b> Example: The tides</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="fun-slopes.html"><a href="fun-slopes.html"><i class="fa fa-check"></i><b>8</b> Slope function</a>
<ul>
<li class="chapter" data-level="8.1" data-path="fun-slopes.html"><a href="fun-slopes.html#change-and-slope"><i class="fa fa-check"></i><b>8.1</b> Change and slope</a></li>
<li class="chapter" data-level="8.2" data-path="fun-slopes.html"><a href="fun-slopes.html#continuous-change"><i class="fa fa-check"></i><b>8.2</b> Continuous change</a></li>
<li class="chapter" data-level="8.3" data-path="fun-slopes.html"><a href="fun-slopes.html#slope"><i class="fa fa-check"></i><b>8.3</b> Slope</a></li>
<li class="chapter" data-level="8.4" data-path="fun-slopes.html"><a href="fun-slopes.html#the-fitted-line"><i class="fa fa-check"></i><b>8.4</b> The fitted line</a></li>
<li class="chapter" data-level="8.5" data-path="fun-slopes.html"><a href="fun-slopes.html#average-rate-of-change"><i class="fa fa-check"></i><b>8.5</b> Average rate of change</a></li>
<li class="chapter" data-level="8.6" data-path="fun-slopes.html"><a href="fun-slopes.html#instantaneous-rate-of-change"><i class="fa fa-check"></i><b>8.6</b> Instantaneous rate of change</a></li>
<li class="chapter" data-level="8.7" data-path="fun-slopes.html"><a href="fun-slopes.html#the-slope-function"><i class="fa fa-check"></i><b>8.7</b> The slope function</a></li>
<li class="chapter" data-level="8.8" data-path="fun-slopes.html"><a href="fun-slopes.html#to-be-turned-into-exercises"><i class="fa fa-check"></i><b>8.8</b> To be turned into exercises</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="fun-assembling.html"><a href="fun-assembling.html"><i class="fa fa-check"></i><b>9</b> Assembling functions</a>
<ul>
<li class="chapter" data-level="9.1" data-path="fun-assembling.html"><a href="fun-assembling.html#linear-combination"><i class="fa fa-check"></i><b>9.1</b> Linear combination</a></li>
<li class="chapter" data-level="9.2" data-path="fun-assembling.html"><a href="fun-assembling.html#function-composition"><i class="fa fa-check"></i><b>9.2</b> Function composition</a></li>
<li class="chapter" data-level="9.3" data-path="fun-assembling.html"><a href="fun-assembling.html#modeling-polynomial-1"><i class="fa fa-check"></i><b>9.3</b> The modeling polynomial</a></li>
<li class="chapter" data-level="9.4" data-path="fun-assembling.html"><a href="fun-assembling.html#tukeys-ladder-optional"><i class="fa fa-check"></i><b>9.4</b> Tukey’s ladder (optional)</a></li>
<li class="chapter" data-level="9.5" data-path="fun-assembling.html"><a href="fun-assembling.html#function-multiplication"><i class="fa fa-check"></i><b>9.5</b> Function multiplication</a></li>
<li class="chapter" data-level="9.6" data-path="fun-assembling.html"><a href="fun-assembling.html#all-together-now"><i class="fa fa-check"></i><b>9.6</b> All together now!</a></li>
<li class="chapter" data-level="9.7" data-path="fun-assembling.html"><a href="fun-assembling.html#exercises-3"><i class="fa fa-check"></i><b>9.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="fun-multiple-inputs.html"><a href="fun-multiple-inputs.html"><i class="fa fa-check"></i><b>10</b> Functions with multiple inputs</a>
<ul>
<li class="chapter" data-level="10.1" data-path="fun-multiple-inputs.html"><a href="fun-multiple-inputs.html#fx-times-gt"><i class="fa fa-check"></i><b>10.1</b> f(x) times g(t)</a></li>
<li class="chapter" data-level="10.2" data-path="fun-multiple-inputs.html"><a href="fun-multiple-inputs.html#two-variable-modeling-polynomial"><i class="fa fa-check"></i><b>10.2</b> Two-variable modeling polynomial</a></li>
<li class="chapter" data-level="10.3" data-path="fun-multiple-inputs.html"><a href="fun-multiple-inputs.html#function-composition-not"><i class="fa fa-check"></i><b>10.3</b> Function composition (not!)</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="fun-piecewise.html"><a href="fun-piecewise.html"><i class="fa fa-check"></i><b>11</b> Piecewise functions</a>
<ul>
<li class="chapter" data-level="11.1" data-path="fun-piecewise.html"><a href="fun-piecewise.html#piecewise-functions"><i class="fa fa-check"></i><b>11.1</b> Piecewise functions</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="magnitudes.html"><a href="magnitudes.html"><i class="fa fa-check"></i><b>12</b> Magnitudes</a>
<ul>
<li class="chapter" data-level="12.1" data-path="magnitudes.html"><a href="magnitudes.html#counting-digits"><i class="fa fa-check"></i><b>12.1</b> Counting digits</a></li>
<li class="chapter" data-level="12.2" data-path="magnitudes.html"><a href="magnitudes.html#using-digit-to-understand-magnitude"><i class="fa fa-check"></i><b>12.2</b> Using digit() to understand magnitude</a></li>
<li class="chapter" data-level="12.3" data-path="magnitudes.html"><a href="magnitudes.html#composing-ln-with-exponential-and-power-law-functions"><i class="fa fa-check"></i><b>12.3</b> Composing <span class="math inline">\(\ln()\)</span> with exponential and power-law functions</a></li>
<li class="chapter" data-level="12.4" data-path="magnitudes.html"><a href="magnitudes.html#fractional-digits"><i class="fa fa-check"></i><b>12.4</b> Fractional digits (optional)</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="dimensions.html"><a href="dimensions.html"><i class="fa fa-check"></i><b>13</b> Dimensions</a></li>
<li class="part"><span><b>II Block 2: Differentiation</b></span></li>
<li class="chapter" data-level="" data-path="outline-of-block-2.html"><a href="outline-of-block-2.html"><i class="fa fa-check"></i>Outline of Block 2</a></li>
<li class="chapter" data-level="14" data-path="change-relationships.html"><a href="change-relationships.html"><i class="fa fa-check"></i><b>14</b> Change relationships</a>
<ul>
<li class="chapter" data-level="14.1" data-path="change-relationships.html"><a href="change-relationships.html#slopes-and-increments."><i class="fa fa-check"></i><b>14.1</b> Slopes and increments.</a></li>
<li class="chapter" data-level="14.2" data-path="change-relationships.html"><a href="change-relationships.html#slopes-and-motion"><i class="fa fa-check"></i><b>14.2</b> Slopes and motion</a></li>
<li class="chapter" data-level="14.3" data-path="change-relationships.html"><a href="change-relationships.html#differentiation"><i class="fa fa-check"></i><b>14.3</b> Differentiation</a></li>
<li class="chapter" data-level="14.4" data-path="change-relationships.html"><a href="change-relationships.html#dimension-of-derivatives"><i class="fa fa-check"></i><b>14.4</b> Dimension of derivatives</a></li>
<li class="chapter" data-level="14.5" data-path="change-relationships.html"><a href="change-relationships.html#using-h"><i class="fa fa-check"></i><b>14.5</b> Using h</a></li>
<li class="chapter" data-level="14.6" data-path="change-relationships.html"><a href="change-relationships.html#differencing"><i class="fa fa-check"></i><b>14.6</b> Differencing</a></li>
<li class="chapter" data-level="14.7" data-path="change-relationships.html"><a href="change-relationships.html#instantaneous-rate-of-change-1"><i class="fa fa-check"></i><b>14.7</b> Instantaneous rate of change</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="h-and-derivatives.html"><a href="h-and-derivatives.html"><i class="fa fa-check"></i><b>15</b> h and derivatives</a>
<ul>
<li class="chapter" data-level="15.1" data-path="h-and-derivatives.html"><a href="h-and-derivatives.html#the-h-framework"><i class="fa fa-check"></i><b>15.1</b> The <span class="math inline">\(h\)</span> framework</a></li>
<li class="chapter" data-level="15.2" data-path="h-and-derivatives.html"><a href="h-and-derivatives.html#approximations-to-naked-modeling-functions"><i class="fa fa-check"></i><b>15.2</b> Approximations to naked modeling functions</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="optim-and-shape.html"><a href="optim-and-shape.html"><i class="fa fa-check"></i><b>16</b> Optimization</a>
<ul>
<li class="chapter" data-level="16.1" data-path="optim-and-shape.html"><a href="optim-and-shape.html#structure-of-the-problem"><i class="fa fa-check"></i><b>16.1</b> Structure of the problem</a></li>
<li class="chapter" data-level="16.2" data-path="optim-and-shape.html"><a href="optim-and-shape.html#interpreting-the-argmax"><i class="fa fa-check"></i><b>16.2</b> Interpreting the argmax</a></li>
<li class="chapter" data-level="16.3" data-path="optim-and-shape.html"><a href="optim-and-shape.html#derivative-and-optimization"><i class="fa fa-check"></i><b>16.3</b> Derivative and optimization</a></li>
<li class="chapter" data-level="16.4" data-path="optim-and-shape.html"><a href="optim-and-shape.html#approximations-around-xstar"><i class="fa fa-check"></i><b>16.4</b> Approximations around <span class="math inline">\(x^\star\)</span></a></li>
<li class="chapter" data-level="16.5" data-path="optim-and-shape.html"><a href="optim-and-shape.html#solving-computationally"><i class="fa fa-check"></i><b>16.5</b> Solving computationally</a></li>
<li class="chapter" data-level="16.6" data-path="optim-and-shape.html"><a href="optim-and-shape.html#use-case-risk-of-earthquakes"><i class="fa fa-check"></i><b>16.6</b> Use case: Risk of earthquakes</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="cont-and-smooth.html"><a href="cont-and-smooth.html"><i class="fa fa-check"></i><b>17</b> Continuity and smoothness</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">CalcZ Student Notes</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="change-relationships" class="section level1" number="14">
<h1><span class="header-section-number">Chapter 14</span> Change relationships</h1>
<p>The questions that started it all had to do with motion. There were words to describe speed: fast and slow. There were words to describe force: strong and weak, heavy and light. And there were words to describe location: far and near, long and short. But what were the relationships among these things? And how did time fit in, an intangible quantity that had aspects of location (long and short) and of speed (quick and slow)?</p>
<p>Galileo (1564-1642) started the ball rolling. As the son of a musician and music theorist, he had a sense of musical time, a steady beat of intervals. As a student of medicine in Pisa, he noted that swinging pendulums kept reliable time, regardless of the amplitude of their swing. After accidentally attending a lecture on geometry, he turned to mathematics and natural philosophy. Inventing the telescope, his observations put him on a collision course with the accepted classical truth about the nature of the planets. Seeking to understand gravity, he built an apparatus that enabled him to measure accurately the position in time of a ball rolling down a straight ramp. The belled gates he set up to mark the ball’s passage were spaced arithmetically in musical time: 1, 2, 3, 4, …. But the distance between the gates was geometric: 1, 4, 9, 16, …. Thus he established a mathematical relationship between increments in time and increments in position. Time advanced as 1, 1, 1, 1, … and position as 1, 3, 5, 7, …. He observed that the <strong><em>second</em></strong> increments of position, the increments of the increments 1, 3, 5, 7, …, were themselves evenly spaced: 2, 2, 2, ….</p>
<p>Putting these observations in tabular form, and adding columns for the</p>
<ul>
<li>first increment <span class="math inline">\(y(t) \equiv x(t+1) - x(t)\)</span> and the</li>
<li>second increment <span class="math inline">\(y(t+1) - y(t)\)</span></li>
</ul>
<table>
<thead>
<tr class="header">
<th><span class="math inline">\(t\)</span></th>
<th><span class="math inline">\(x(t)\)</span></th>
<th>first increment</th>
<th>second increment</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>0</td>
<td>0</td>
<td>1</td>
<td>2</td>
</tr>
<tr class="even">
<td>1</td>
<td>1</td>
<td>3</td>
<td>2</td>
</tr>
<tr class="odd">
<td>2</td>
<td>4</td>
<td>5</td>
<td>2</td>
</tr>
<tr class="even">
<td>3</td>
<td>9</td>
<td>7</td>
<td></td>
</tr>
<tr class="odd">
<td>4</td>
<td>16</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>Galileo had neither the mathematics nor the equipment to measure motion continuously in time. So what might be obvious to us now, that position is a function of time <span class="math inline">\(x(t)\)</span>, would have had little practical significance to him. But we discover in his first increments of <span class="math inline">\(x\)</span> something very much like our <strong><em>slope function</em></strong>.</p>
<p><span class="math display">\[{\cal D}_t\, x(t) \equiv \frac{x(t + 1) - x(t)}{1}\]</span>
From his data, he observed that <span class="math inline">\({\cal D}_t\, x(t)\)</span> increases linearly in <span class="math inline">\(t\)</span>: <span class="math display">\[{\cal D}_t x(t) = 2 t + 1\]</span></p>
<p>Calculating the second increments of <span class="math inline">\(x\)</span> is done by the “slope function of the slope function,” which we can call <span class="math inline">\({\cal D}_{tt}\)</span>:
<span class="math display">\[{\cal D}_{tt} x \equiv {\cal D}_t \left[{\cal D}_t x(t)\right] = 2(t+1) + 1 - (2 t + 1) = 2\]</span></p>
<p>Newton considered the problem for continuous time rather than Galileo’s discrete time. He reframed the slope function from the big increments of the slope operator <span class="math inline">\({\cal D}_t\)</span> to imagined vanishingly small increments of a operator that we shall denote <span class="math inline">\(\partial_t\)</span> and call <strong><em>differentiation</em></strong>.</p>
<p>The kind of question for which Newton wanted to be able to calculate the answer was, “How to find the function <span class="math inline">\(x(t)\)</span> whose second increment, <span class="math inline">\(\partial_{tt} x(t) = 2\)</span>?” His approach, which he called the “method of fluxions,” became so important that its name became, simply, “Calculus.”</p>
<div id="slopes-and-increments." class="section level2" number="14.1">
<h2><span class="header-section-number">14.1</span> Slopes and increments.</h2>
<p>The mathematical tools of Newton’s day are the basis of today’s conventional high-school curriculum.<a href="#fn14" class="footnote-ref" id="fnref14"><sup>14</sup></a> We have today completely different tools based on the ability to do arithmetic and function evaluation very quickly with computers. We’re going to use these new tools to explore the problem of relating the slope-function operator <span class="math inline">\({\cal D}_t\)</span> to the differential operator <span class="math inline">\(\partial_t\)</span>. We have the great advantage of being able to look backwards and so can focus on the functions that experience reveals have been the most widely useful: the basic modeling functions.</p>
<p>Our goal in this section is to discover what are the slope functions of our basic modeling functions. Recall that the slope-function operator can be written as a ratio of rise-over-run:
<span class="math display">\[{\cal D}_t x(t) \equiv \frac{x(t+h) - x(t)}{h}\]</span> where <span class="math inline">\(h\)</span> is the length of the “run.” We’ll start with two of the basic modeling functions that have considerable “personality”: the sinusoid (<code>sin()</code>) and the sigmoid (<code>pnorm()</code>).</p>
<div class="figure"><span id="fig:sign-sig"></span>
<img src="CalcZ-notes_files/figure-html/sign-sig-1.png" alt="The naked sinusoid and sigmoidal functions. A vertical blue line has been added to mark the input $t=0$" width="50%" /><img src="CalcZ-notes_files/figure-html/sign-sig-2.png" alt="The naked sinusoid and sigmoidal functions. A vertical blue line has been added to mark the input $t=0$" width="50%" />
<p class="caption">
Figure 14.1: The naked sinusoid and sigmoidal functions. A vertical blue line has been added to mark the input <span class="math inline">\(t=0\)</span>
</p>
</div>
<p>We’ll use the computer to construct the slope functions for the sinusoid and sigmoid, which we’ll call <code>Dsin()</code> and <code>Dsigma()</code> respectively.</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="change-relationships.html#cb83-1" aria-hidden="true" tabindex="-1"></a>Dsin   <span class="ot">&lt;-</span> <span class="fu">makeFun</span>((  <span class="fu">sin</span>(t<span class="sc">+</span>h) <span class="sc">-</span>   <span class="fu">sin</span>(t))<span class="sc">/</span>h <span class="sc">~</span> t, <span class="at">h=</span><span class="fl">0.1</span>)</span>
<span id="cb83-2"><a href="change-relationships.html#cb83-2" aria-hidden="true" tabindex="-1"></a>Dsigma <span class="ot">&lt;-</span> <span class="fu">makeFun</span>((<span class="fu">pnorm</span>(t<span class="sc">+</span>h) <span class="sc">-</span> <span class="fu">pnorm</span>(t))<span class="sc">/</span>h <span class="sc">~</span> t, <span class="at">h=</span><span class="fl">0.1</span>)</span></code></pre></div>
<p>In the tilde expression handed to <code>makeFun()</code>, we’ve identified <code>t</code> as the name of the input and given a “small” default value to the <code>h</code> parameter. But R recognizes that both <code>Dsin()</code> and <code>Dsigma()</code> are functions of two variables, <code>t</code> and <code>h</code>, as you can see in the parenthesized argument list for the functions.</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="change-relationships.html#cb84-1" aria-hidden="true" tabindex="-1"></a>Dsin</span></code></pre></div>
<pre><code>## function (t, h = 0.1) 
## (sin(t + h) - sin(t))/h</code></pre>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="change-relationships.html#cb86-1" aria-hidden="true" tabindex="-1"></a>Dsigma</span></code></pre></div>
<pre><code>## function (t, h = 0.1) 
## (pnorm(t + h) - pnorm(t))/h</code></pre>
<p>This is a nuisance, since when using the slope functions we will need always to think about <code>h</code>, a number that we’d like to describe simply as “small,” but for which we always need to provide a numerical value. Let’s look at <code>Dsin()</code> and <code>Dsigma()</code> for a range of values of <code>h</code>, as in Figure <a href="change-relationships.html#fig:sin-sig-many-h">14.2</a>.</p>
<div class="figure"><span id="fig:sin-sig-many-h"></span>
<img src="CalcZ-notes_files/figure-html/sin-sig-many-h-1.png" alt="The slope functions of the sinusoid and sigmoid. Each curve shows the slope function for a particular numerical choice of `h`. Both panels show $h=2, 1, 0.5, 0.1, 0.01, 0.001, 0.0001, 0.00001, 0.000001$." width="50%" /><img src="CalcZ-notes_files/figure-html/sin-sig-many-h-2.png" alt="The slope functions of the sinusoid and sigmoid. Each curve shows the slope function for a particular numerical choice of `h`. Both panels show $h=2, 1, 0.5, 0.1, 0.01, 0.001, 0.0001, 0.00001, 0.000001$." width="50%" />
<p class="caption">
Figure 14.2: The slope functions of the sinusoid and sigmoid. Each curve shows the slope function for a particular numerical choice of <code>h</code>. Both panels show <span class="math inline">\(h=2, 1, 0.5, 0.1, 0.01, 0.001, 0.0001, 0.00001, 0.000001\)</span>.
</p>
</div>
<p>Some observations from this numerical experiment:</p>
<ol style="list-style-type: decimal">
<li><p>As <span class="math inline">\(h\)</span> gets very small, the slope function doesn’t depend on the exact value of <span class="math inline">\(h\)</span>.</p>
<p>This will provide a way for us, eventually, to discard <span class="math inline">\(h\)</span> so that the slope function will not need an <span class="math inline">\(h\)</span> argument.</p></li>
<li><p>For small <span class="math inline">\(h\)</span>, we have <span class="math inline">\({\cal D}_t \sin(t) = \sin(t + \pi/2) = \cos(t)\)</span>. That is, taking the slope function of a sinusoid gives another sinusoid, shifted left by <span class="math inline">\(\pi/2\)</span> from the original. Or, in plain words, the cosine is the slope function of the sine.</p></li>
<li><p>For small <span class="math inline">\(h\)</span>, we have <span class="math inline">\({\cal D}_t \text{pnorm}(t) = \text{dnorm(t)}\)</span>. That is, the hump function is the slope function of the sigmoid function.</p></li>
</ol>
<p>You can confirm these last two statements by comparison with the original functions, especially the alignment of the peaks of the slope functions with respect to the peak of the sinusoid and the half-way point of the sigmoid.</p>
<p>Now consider the slope functions of the logarithm and exponential functions.</p>
<div class="figure"><span id="fig:log-exp-many-h"></span>
<img src="CalcZ-notes_files/figure-html/log-exp-many-h-1.png" alt="The slope functions of the logarithm and exponential." width="50%" /><img src="CalcZ-notes_files/figure-html/log-exp-many-h-2.png" alt="The slope functions of the logarithm and exponential." width="50%" />
<p class="caption">
Figure 14.3: The slope functions of the logarithm and exponential.
</p>
</div>
<p>These numerical experiments with the logarithm and exponential functions are more evidence that, as <span class="math inline">\(h\)</span> gets small, the slope function doesn’t depend on <span class="math inline">\(x\)</span>. And, we find that:</p>
<ul>
<li>For small <span class="math inline">\(h\)</span>, the slope function of the logarithm is a power-law function: <span class="math inline">\({\cal D}_t \ln(t) = \frac{1}{t}\)</span>.</li>
<li>For small <span class="math inline">\(h\)</span>, the slope function of the exponential is the exponential itself: <span class="math inline">\({\cal D}_t e^x = e^x\)</span>.</li>
</ul>
<p>You can confirm these by evaluating the slope function of the exponential at <span class="math inline">\(t=0\)</span> and <span class="math inline">\(t=1\)</span>, and the slope function of the logarithm at <span class="math inline">\(t= 2, 1, 1/2, 1/4, 1/8.\)</span></p>
<p>Such numerical experiments on the other naked modeling functions reveal a pattern: the slope function of the naked modeling functions tend to be similar to other naked modeling functions.</p>
<table>
<thead>
<tr class="header">
<th>name</th>
<th><span class="math inline">\(f(t)\)</span></th>
<th><span class="math inline">\({\cal D}_t f(t)\)</span> (for small <span class="math inline">\(h\)</span>)</th>
<th>name of <span class="math inline">\({\cal D_t}f(t)\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>constant fun</td>
<td><span class="math inline">\(f(t) = 1\)</span></td>
<td><span class="math inline">\({\cal D}_t f(t) = 0\)</span></td>
<td>zero function</td>
</tr>
<tr class="even">
<td>proportional</td>
<td><span class="math inline">\(f(x) = x\)</span></td>
<td><span class="math inline">\({\cal D}_t f(t) = 1\)</span></td>
<td>constant</td>
</tr>
<tr class="odd">
<td>exponential</td>
<td><span class="math inline">\(e^t\)</span></td>
<td><span class="math inline">\(e^t\)</span></td>
<td>exponential</td>
</tr>
<tr class="even">
<td>logarithm</td>
<td><span class="math inline">\(\ln(t)\)</span></td>
<td><span class="math inline">\(1/t\)</span></td>
<td>reciprocal (power-law <span class="math inline">\(t^{-1}\)</span>)</td>
</tr>
<tr class="odd">
<td>sinusoid</td>
<td><span class="math inline">\(\sin(t)\)</span></td>
<td><span class="math inline">\(\sin(x + \pi/2) = \cos(t)\)</span></td>
<td>shifted sinusoid</td>
</tr>
<tr class="even">
<td>power-law</td>
<td><span class="math inline">\(t^p\)</span> with <span class="math inline">\(p\neq 0\)</span></td>
<td><span class="math inline">\(p\,t^{p-1}\)</span></td>
<td>power-law</td>
</tr>
<tr class="odd">
<td>sigmoid</td>
<td><span class="math inline">\(\text{pnorm}(t)\)</span></td>
<td>$(t)</td>
<td>hump</td>
</tr>
</tbody>
</table>
<p>With this list of experimentally determined slope functions (for small <span class="math inline">\(h\)</span>) we’re ready to start using slope functions without having to use left-shift combinations like <span class="math inline">\(f(t+h) - f(t)\)</span>.</p>

<div class="exercise">
<span id="exr:unnamed-chunk-98" class="exercise"><strong>Exercise 14.1  (lion-find-bowl)  </strong></span>
</div>
<details>
<p>For each exercise, you are given a series of intervals that get smaller and smaller. Your job is to calculate the <em>average rate of change</em> of the function <span class="math inline">\(f(x) \equiv x^2\)</span> for each of the intervals. As the width of the intervals approach zero, our <em>average</em> rates of change become better approximations of the <em>instantaneous</em> rates of change. You should use the results you calculate to make an informed <em>estimate</em> of the <strong>instantaneous rate of change</strong>.</p>
<div class="scaffolding">
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="change-relationships.html#cb88-1" aria-hidden="true" tabindex="-1"></a>interval <span class="ot">&lt;-</span> <span class="fu">c</span>(__start__ , __end__ )</span>
<span id="cb88-2"><a href="change-relationships.html#cb88-2" aria-hidden="true" tabindex="-1"></a>f <span class="ot">&lt;-</span> <span class="fu">makeFun</span>(x<span class="sc">^</span><span class="dv">2</span> <span class="sc">~</span> x)</span>
<span id="cb88-3"><a href="change-relationships.html#cb88-3" aria-hidden="true" tabindex="-1"></a><span class="fu">diff</span>(<span class="fu">f</span>(interval)) <span class="sc">/</span> <span class="fu">diff</span>(interval)</span></code></pre></div>
</div>
<p>A. Use these three intervals to estimate the instantaneous rate of change <span class="math inline">\(\partial_x f(x=3)\)</span>
- [3, 3.1]
- [3, 3.01]
- [3, 3.001]</p>
<p>B. Use these three intervals to estimate the instantaneous rate of change <span class="math inline">\(\partial_x f(x=5)\)</span>
- [4.9, 5]
- [4.99, 5]
- [4.999, 5]</p>
<p>C. Use these three intervals to estimate the instantaneous rate of change <span class="math inline">\(\partial_x f(x=-2)\)</span>
- [-2, -1.9]
- [-2, -1.99]
- [-2, -1.999]</p>
</details>
</div>
<div id="slopes-and-motion" class="section level2" number="14.2">
<h2><span class="header-section-number">14.2</span> Slopes and motion</h2>
<p>Having worked out a theory of slope functions, Newton was ready to express the laws of motion in continuous time. He did this by expressing position as <span class="math inline">\(x(t)\)</span>, and then familiar concepts velocity and force in terms of slope functions of position and the “quantity of matter,” which we call “mass.”</p>
<ul>
<li>Velocity is the slope function of position: <span class="math inline">\(v(t) \equiv {\cal D}_t x(t)\)</span>.</li>
<li>Net force is the slope function of velocity times mass: <span class="math inline">\(F(t) \equiv m {\cal D}_t v(t)\)</span></li>
</ul>
<p>To take mass out of the formulation, we give a name specifically to the slope function of velocity; we call it <strong><em>acceleration</em></strong>.</p>
<ul>
<li>Acceleration is the slope function of velocity: <span class="math inline">\(a(t) \equiv {\cal D}_t v(t)\)</span>.</li>
</ul>
<p>With acceleration as a concept, we can define net force as mass times acceleration.</p>
<div class="why">
<p>We used <strong>net force</strong> as the quantity we related to mass and the slope function of velocity. There are different sources of forces which add up and can cancel out. Famously, Newton formulated the <strong><em>law of universal gravitation</em></strong> which ascribed the force between masses as proportional to the product of the two masses and inversely proportional to the square of the distance between them. But a mass on a table has no net force on it, since the table pushes back (push = force) on the mass to cancel out the force due to gravity. “Net force” takes such cancellation into account.</p>
</div>
</div>
<div id="differentiation" class="section level2" number="14.3">
<h2><span class="header-section-number">14.3</span> Differentiation</h2>
<p><strong><em>Differentiation</em></strong> is a process of transforming a function to produce another function. There are several traditional notations for differentiation of a function named <span class="math inline">\(f()\)</span>, for instance:</p>
<ul>
<li>Leibnitz: <span class="math inline">\(\frac{df}{dx}\)</span></li>
<li>Partial: <span class="math inline">\(\frac{\partial f}{\partial x}\)</span></li>
<li>One-line: <span class="math inline">\(\partial_x f\)</span></li>
<li>Newton: <span class="math inline">\(\dot{f}\)</span></li>
<li>Prime: <span class="math inline">\(f&#39;\)</span></li>
</ul>
<p>In this book, we will mainly use the one-line notation, <span class="math inline">\(\partial_x f\)</span>, but it means exactly the same as the Leibnitz and Partial notations, which are much more widely used in textbooks.</p>
<p>If you’ve studied calculus before, you have likely seen the <span class="math inline">\(f&#39;\)</span> notation. This is admirably concise but is only viable in a narrow circumstance: functions that take a single input. What <span class="math inline">\(f&#39;\)</span> leaves out is a means to specify a crucial aspect of differentiation, the <strong>with-respect-to variable</strong>. The general situation for differentiation involves functions of one or more variables, for example, <span class="math inline">\(g(x, y, z)\)</span>. For such functions, you need to specify which is the with-respect-to variable. For instance, we can differentiate <span class="math inline">\(g()\)</span> three different ways, each way incrementing one or another of the three inputs:</p>
<p><span class="math display">\[\partial_z g(x, y, z) \equiv \frac{g(x, y, z+h) - g(x, y, z)}{h}\\ 
\ \\
\partial_x g(x, y, z) \equiv \frac{g(x+h, y, z) - g(x, y, z)}{h}\\ 
\ \\
\partial_y g(x, y, z) \equiv \frac{g(x, y+h, z) - g(x, y, z)}{h}\]</span></p>
<p>At this point in your studies, you haven’t seen why you might choose to differentiate a function with respect to one variable or another. That will come in time. But we want to set you up with notation that won’t narrow your options.</p>
<p>Both the Leibnitz and Partial notations are explicit in identifying the function and the with-respect-to-variable. For example, using the Partial differentiation notation, the three ways of differentiating our example function <span class="math inline">\(g(x, y, z)\)</span> are labeled :</p>
<p><span class="math display">\[\frac{\partial f}{\partial x},\ \ \ \frac{\partial f}{\partial y},\ \ \text{and}\ \ \frac{\partial f}{\partial z}\]</span></p>
<p>Our R/mosaic computer differentiation is longer but explicit:</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="change-relationships.html#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="fu">D</span>(<span class="fu">g</span>(x, y, z) <span class="sc">~</span> x)</span>
<span id="cb89-2"><a href="change-relationships.html#cb89-2" aria-hidden="true" tabindex="-1"></a><span class="fu">D</span>(<span class="fu">g</span>(x, y, z) <span class="sc">~</span> y)</span>
<span id="cb89-3"><a href="change-relationships.html#cb89-3" aria-hidden="true" tabindex="-1"></a><span class="fu">D</span>(<span class="fu">g</span>(x, y, z) <span class="sc">~</span> z)</span></code></pre></div>
<p>Notice that the R/mosaic operator is named <code>D()</code> and that it is a function. It follows the same pattern as <code>makeFun()</code> or <code>slice_plot()</code> or <code>contour_plot()</code>: the first argument is a tilde expression, for instance <code>g(x, y, z) ~ x</code>, which identifies the mathematical function to work with (<code>g()</code>) and the name of the with-respect-to input to that function. The R/mosaic notation makes it clear that differentiation is an <strong><em>operation</em></strong> on a function. The <code>D()</code> operator takes a function as input and produces as output <strong>another function</strong>. We’ve seen similar behavior with, say, <code>slice_plot()</code>, which takes a function as input and produces graphics as output. Both <code>D()</code> and <code>slice_plot()</code> need to know the identity of the with-respect-to variable as well as the function to work with. What’s why both pieces of input are packaged into a tilde expression.</p>
<div class="why">
<p>We’re calling <code>D()</code> an <strong><em>operator</em></strong> rather than a <strong><em>function</em></strong>. The reason is purely for communication with other people. There are so many “functions” in a calculus course that we thought it would be helpful to distinguish between the kinds of functions that take quantities as input and produce a quantity as output, and the functions that take a <em>function</em> as input and produce a <em>function</em> as output. Both sorts are called “functions” in R terminology. But a sentence like, “Differentiation is a function that takes a function as input and produces a function as output,” true though it be, is dizzying.</p>
</div>
<div class="takenote">
<p>It is a fact of mathematical and scientific life that a variety of notations are used for differentiation. To some extent, this reflects historical precedence and, to be honest, nationalistic European politics of the 18th century. To make sense of mathematical writing in the many areas in which calculus is used, you have to recognize all of them for what they are. Your skill will be enhanced if you also memorize the names of the different styles. It’s not all that different from the pattern in English of having multiple words for the same sort of object, for instance: car, automobile, junker, ride, wheels, crate, jalopy, limo, motor car, horseless carriage.</p>
<p>In the days when carriages where pulled by horses, the phrase “horseless carriage” made a useful distinction. Today, when horses are rarely seen on the road, it make sense to trim down the notation to its essentials: ~<del>horseless</del>~ <strong>car</strong>~<del>iage</del>~. Think of <span class="math inline">\(\partial_x\)</span> as this sort of minification.<a href="#fn15" class="footnote-ref" id="fnref15"><sup>15</sup></a></p>
</div>
</div>
<div id="dimension-of-derivatives" class="section level2" number="14.4">
<h2><span class="header-section-number">14.4</span> Dimension of derivatives</h2>
<p>Recall that the differencing operator takes as input a function and returns as output another function that takes the same kind of input, but produces a different kind of output.</p>
<p>For instance, suppose the function <code>pressure()</code> takes an altitude as input (in km) and returns a pressure (kPA–air pressure at sea level is about 100 kiloPascal).</p>
<p>The derivative function, let’s call it <code>d_pressure()</code>, also takes an input in km, but produces an output in kPA per km: a rate.</p>
<p>You can see this by examining the differencing operator itself:</p>
<p><span class="math display">\[{\cal D}_x f(x) \equiv \frac{f(x+h) - f(x)}{h}\]</span></p>
<p>Remember the notation for dimensions. A quantity <span class="math inline">\(x\)</span> has dimensions denoted as <span class="math inline">\([x]\)</span>. (This is nothing more than saying, “Pronounce ‘<span class="math inline">\([x]\)</span>’ as ‘the dimensions of <span class="math inline">\(x\)</span>.’”)
The input to <span class="math inline">\(f()\)</span> has dimension <span class="math inline">\([x]\)</span>. The output from <span class="math inline">\(f()\)</span> has dimension <span class="math inline">\([f(x)]\)</span>.</p>
<p>What is the dimension of <span class="math inline">\(h\)</span>? (We could write this question more simply, "What is <span class="math inline">\([h]\)</span>?) Since the operator adds <span class="math inline">\(x + h\)</span>, it must be that <span class="math inline">\([h] = [x]\)</span>.</p>
<p>What is the dimension of <span class="math inline">\(f(x + h) - f(x)\)</span>? (Again, we could ask this more simply, “What is <span class="math inline">\([f(x+h) - f(x)]\)</span>?”) Since we’re subtracting two quantities, the two quantities must have the same dimension and the result is also that dimension. So <span class="math inline">\([f(x+h) - f(x)] = [f(x)]\)</span>.</p>
<p>The output of the function <span class="math inline">\(df(x)\)</span> produced by <span class="math inline">\(\mbox{Diff}(f)\)</span> therefore has dimension <span class="math inline">\([f(x)] / [x]\)</span>.</p>

<div class="exercise">
<span id="exr:unnamed-chunk-99" class="exercise"><strong>Exercise 14.2  (kitten-put-kayak)  </strong></span>
</div>
<details>
<p>A. The given function is <span class="math inline">\(N(y)\)</span>, the population of the Netherlands in year <span class="math inline">\(y\)</span>.</p>
<ol style="list-style-type: lower-roman">
<li>Dimension of input to <span class="math inline">\(N(y)\)</span>?</li>
<li>Dimension of output from <span class="math inline">\(N(y)\)</span>?</li>
<li>Dimension of input to <span class="math inline">\(\partial_y N(y)\)</span>?</li>
<li>Dimension of output from <span class="math inline">\(\partial_y N(y)\)</span>?</li>
</ol>
<p>B. The given function is <span class="math inline">\(p(u)\)</span>, the net profit from a manufactured good as a function of the number of units manufactured.</p>
<ol style="list-style-type: lower-roman">
<li>Dimension of input to <span class="math inline">\(p(u)\)</span>?</li>
<li>Dimension of output from <span class="math inline">\(p(u)\)</span>?</li>
<li>Dimension of input to <span class="math inline">\(\partial_u p(u)\)</span>?</li>
<li>Dimension of output from <span class="math inline">\(\partial_u p(u)\)</span>?</li>
</ol>
<p>C. The given function is <span class="math inline">\(w(t)\)</span>, the amount of water in a leaky bucket at any time after the bucket was filled.</p>
<ol style="list-style-type: lower-roman">
<li>Dimension of input to <span class="math inline">\(w(t)\)</span>?</li>
<li>Dimension of output from <span class="math inline">\(w(t)\)</span>?</li>
<li>Dimension of input to <span class="math inline">\(\partial_t w(t)\)</span>?</li>
<li>Dimension of output from <span class="math inline">\(\partial_t w(t)\)</span>?</li>
</ol>
</details>
</div>
<div id="using-h" class="section level2" number="14.5">
<h2><span class="header-section-number">14.5</span> Using h</h2>
<p>In working with differentiation, we introduced a quantity <span class="math inline">\(h\)</span> and then ignored it, saying that it doesn’t really matter so long as it is “small.” A reasonable person might wonder what “small” really means, and why we needed to introduce <span class="math inline">\(h\)</span> in the first place if we were eventually going to ignore it.</p>
<p>One reason is that “small” and “zero,” although related, are different. For example, refering to the slope functions <code>Dsin()</code> and <code>Dsigma()</code> that we created in an early example in this chapter, we see that setting <span class="math inline">\(h\)</span> to zero does not get us where we need to be:</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="change-relationships.html#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Dsin</span>(<span class="at">t=</span><span class="dv">1</span>, <span class="at">h=</span><span class="dv">0</span>)</span></code></pre></div>
<pre><code>## [1] NaN</code></pre>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="change-relationships.html#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Dsigma</span>(<span class="at">t=</span><span class="dv">0</span>, <span class="at">h=</span><span class="dv">0</span>)</span></code></pre></div>
<pre><code>## [1] NaN</code></pre>
<p>In <code>NaN</code>, you can hear the echo of your fourth-grade teacher reminding you that it is illegal to divide by zero.</p>
<p>Think of <span class="math inline">\(h\)</span> as the solvent in paint. You don’t want the solvent once the paint is on the wall; wet paint is a nuisance. But getting the paint from the can to the wall absolutely needs the solvent.</p>
<p>We used the solvent <span class="math inline">\(h\)</span> earlier in the chapter in the numerical experiments that led us to the derivatives of the naked modeling functions, for instance <span class="math inline">\(\partial_x e^x = e^x\)</span> or <span class="math inline">\(\partial_x \sin(x) = \cos(x)\)</span>. Eventually, we’ll construct an <span class="math inline">\(h\)</span>-free theory of differentiation, reducing the process to a set of algebraic rules in which <span class="math inline">\(h\)</span> never appears. With this as our goal, let’s continue using <span class="math inline">\(h\)</span> for a while to find some additional useful facts about derivatives.</p>
<p><strong><em>Linear combination</em></strong> is one of the ways in which we make new functions from existing functions. As you recall, linear combination involves <strong><em>scaling</em></strong> a function and <strong><em>adding</em></strong> the scaled functions. We can easily use <span class="math inline">\(h\)</span> to show what is the result of differentiating a linear combination of functions. We’ll use <span class="math inline">\(f(x)\)</span> and <span class="math inline">\(g(x)\)</span> as the names that could stand for any function whatsoever. And we’ll let <span class="math inline">\(b\)</span> be the name of a scalar. First, let’s figure out what is <span class="math inline">\(\partial_x\, b f(x)\)</span>, Going back to writing <span class="math inline">\(\partial_x\)</span> in terms of a slope function:
<span class="math display">\[\partial_x\, b\,f(x) = \frac{b\, f(x + h) - b\,f(x)}{h}\\
\ \\
= b \frac{f(x+h) - f(x)}{h} = b\, \partial_x f(x)\]</span>
In other words, if we know the derivative <span class="math inline">\(\partial_x\, f(x)\)</span>, we can easily find the derivative of any scaled version of <span class="math inline">\(f()\)</span>.</p>
<p>Now consider the derivative of the sum of two functions, <span class="math inline">\(f(x)\)</span> and <span class="math inline">\(g(x)\)</span>:
<span class="math display">\[\partial_x\, \left[f(x) + g(x)\right] =\\
\ \\
=\frac{\left[f(x + h) + g(x + h)\right] - \left[f(x) + g(x)\right]}{h} = \\
\ \\
= \frac{\left[f(x+h) -f(x)\right] + \left[g(x+h) - g(x)\right]}{h}\\
\ \\
= \frac{\left[f(x+h) -f(x)\right]}{h} + \frac{\left[g(x+h) - g(x)\right]}{h}\\
\ \\
= \partial_x\, f(x) + \partial_x\, g(x)\]</span></p>
<p>Using these two rules together, we can differentiate any linear combination of functions in terms of the differentiated functions themselves:</p>
<p><span class="math display">\[\partial_x\ \left[\strut a_1 g_1(x) + a_2 g_2(x) + a_3 g_3(x) + \cdots\right] =\ \ \ \ \ \ \ \ \ \ \\
\ \\
\ \ \ \ \ \ \ \ \ a_1 \partial_x\, g_1(x) + a_2 \partial_x\, g_2(x) + a_3 \partial_x\, g_3(x) + \cdots\]</span></p>
<p>Because of the way that <span class="math inline">\(\partial_x\)</span> can be “passed through” a linear combination, mathematicians say that differentiation is a <strong><em>linear operator</em></strong>. Consider this new fact about differentiation as a down payment on what will eventually become a complete theory telling us how to differentiate a <strong><em>product of two functions</em></strong> or the <strong><em>composition of two functions</em></strong>.</p>
<p>EXERCISES: Simple drill on this</p>
</div>
<div id="differencing" class="section level2" number="14.6">
<h2><span class="header-section-number">14.6</span> Differencing</h2>
<p>Our basic tool for showing difference and slope is a remarkably simple operator that takes a function as input. For a function with one input, the operator <span class="math inline">\({\cal D}()\)</span> is defined as
<span class="math display">\[{\cal D}(f) \equiv \frac{f(x + 0.1) - f(x)}{0.1}\]</span>
Notice that the <span class="math inline">\({\cal D}()\)</span> operator returns a <strong>function</strong>. The output is a linear combination of the input function <span class="math inline">\(f()\)</span> and a shifted version of <span class="math inline">\(f()\)</span>.</p>
<p>For a function with two inputs, there are two versions of <span class="math inline">\({\cal D}\)</span>:
<span class="math display">\[{\cal D}_x(f) \equiv \frac{f(x+0.1, y) - f(x, y)}{0.1}\]</span></p>
<p><span class="math display">\[{\cal D}_y(f) \equiv \frac{f(x, y+0.1) - f(x, y)}{0.1}\]</span></p>
<div class="workedexample">
<p>Suppose that <span class="math inline">\(f(x)\equiv x^2\)</span>. What is the function <span class="math inline">\({\cal D}(f)\)</span>?</p>
<p><span class="math display">\[
{\cal D}(f) \equiv \frac{f(x+0.1) - f(x)}{0.1}\\ =
10\left((x+0.1)^2 - x^2\right)\\
=10 x^2 + 2x + 0.1 - 10x^2\\ = 2 x + 0.1\]</span></p>
</div>
<div class="workedexample">
<p>Suppose that <span class="math inline">\(f(x) \equiv 2 x + y\)</span>. Find the function <span class="math inline">\({\cal D_x(f)}\)</span>.</p>
<p>The linear combination will be
<span class="math display">\[\frac{1}{0.1}\left(\left[2 (x + 0.1) + y\right] - \left[2 x + y\right]\right) =\\ \\
20 x + 2 + 10y - \left[20 x - 10y\right] = 2\]</span></p>
</div>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="change-relationships.html#cb94-1" aria-hidden="true" tabindex="-1"></a>f <span class="ot">&lt;-</span> <span class="fu">makeFun</span>(<span class="dv">2</span> <span class="sc">*</span>x <span class="sc">*</span> y <span class="sc">~</span> x <span class="sc">+</span> y)</span>
<span id="cb94-2"><a href="change-relationships.html#cb94-2" aria-hidden="true" tabindex="-1"></a><span class="fu">D</span>(<span class="fu">f</span>(x, y) <span class="sc">~</span> x)</span></code></pre></div>
<pre><code>## function (x, y) 
## 2 * (y)</code></pre>
</div>
<div id="instantaneous-rate-of-change-1" class="section level2" number="14.7">
<h2><span class="header-section-number">14.7</span> Instantaneous rate of change</h2>
<div class="objectives" latex-data="">
<ol>
<li><strong>[Deriv-2b]</strong> <em>Distinguish the “average rate of change” from the “instantaneous rate of change.”</em></li>
</ol>
</div>
<p>Imagine a graph of the position of a car along a road as in Figure @ref{fig:stop-and-go2}.</p>
<div class="todo">
<p>This graph appears in an exercise in Fun-slopes. What did I intend to prompt with this note. Perhaps a link to Fun-slopes.</p>
</div>
<p>Over the course of an hour, the car travelled about 25 miles. In other words, the <strong><em>average</em></strong> speed is 25 miles/hour: the <em>slope</em> of the red line segment. Given the traffic, sometimes the car was stopped (time C), sometimes crawling (time D) and sometimes much faster than average (time B).</p>
<p><img src="CalcZ-notes_files/figure-html/stop-and-go2-1.png" width="672" /></p>
<p>The car’s speedometer shows the speed at each moment—or <strong><em>instant</em></strong>—of the trip. As you can see in Figure @ref{fig:stop-and-go}, the speed varies and is sometimes less than the average speed, sometimes greater, and occasionally equal to the average speed over the trip. The general term for the kind of quantity presented by the speedometer is the <strong><em>instantaneous rate of change</em></strong> of the position function with respect to the input to that function.</p>
<p>Figure @ref{fig:instant-speed} shows the instantaneous rate of change of position with respect to time.</p>
<p><img src="CalcZ-notes_files/figure-html/instant-speed-1.png" width="672" />
The two graphs in Figures @ref{fig:stop-and-go} and @ref{fig:instant-speed} show exactly the same car trip. The presentation of the data in the different graphs makes it easy to see some things and hard to see others. For instance, figuring out when the car is at a stand-still is harder in the position-vs-time graph than in the speed-vs-time graph. This is very much in the spirit of the sand-furrows example at the start of this chapter: it’s much easier to perceive the furrows because the lighting highlights areas sloping toward the sun as bright and areas sloping away from the sun as dark. In Figure @ref{fig:instant-speed} we’re not using light-and-dark for the display. Instead, we’re showing the instantaneous speed using the vertical axis.</p>
<p>Recall that the interval between <span class="math inline">\(t_B\)</span> and <span class="math inline">\(t_C\)</span> had an <strong><em>average rate of change</em></strong> of about 39 miles-per-hour. Looking at the <strong><em>instantaneous rate of change</em></strong> tells the story differently: at time <span class="math inline">\(t_B\)</span> the car was accelerating to about 60 miles-per-hour. Then it gradually slowed, coming to a stop just before time <span class="math inline">\(t_C\)</span>.</p>
<p>Figure @ref{fig:stop-and-go} shows the function <span class="math inline">\(\mbox{position}(t)\)</span>. Figure @ref{fig:instant-speed} shows a different function, <span class="math inline">\(\mbox{speed}(t)\)</span>. Although the two functions are different, they are intimately related: <span class="math inline">\(\mbox{speed}(t)\)</span> is the <strong><em>instantaneous rate of change</em></strong> of <span class="math inline">\(\mbox{position}(t)\)</span>.</p>
<p>Two central operations in calculus are:</p>
<ol style="list-style-type: decimal">
<li>Given a function <span class="math inline">\(f(t)\)</span>, find the function <span class="math inline">\(g(t)\)</span> giving the instantaneous rate of change of <span class="math inline">\(f()\)</span>. This process of deriving <span class="math inline">\(g(t)\)</span> from <span class="math inline">\(f(t)\)</span> is called <strong><em>differentiation</em></strong>.</li>
<li>Given a function <span class="math inline">\(g(t)\)</span>, find the <span class="math inline">\(f(t)\)</span> of which <span class="math inline">\(g(t)\)</span> is the instantaneous rate of change. This process of finding <span class="math inline">\(f()\)</span> given <span class="math inline">\(g()\)</span> is called <strong><em>anti-differentiation</em></strong>.</li>
</ol>
<div class="workedexample" latex-data="">
<p>The context of the situation being modeled determines whether it’s appropriate to look at an average rate of change or an instantaneous rate of change. Figure @ref{fig:instant-tree} shows the instantaneous rate of change in the volume of wood.</p>
<p><img src="CalcZ-notes_files/figure-html/instant-tree-1.png" width="672" />
It’s tempting to look to the year where the growth rate is highest as the optimal harvest year. This is a mistake. The volume of wood being harvested is the <strong><em>accumulated growth</em></strong> not the instantaneous growth. Even though the instantaneous growth is higher at year 23 than year 30, it’s still pretty high at year 30 and waiting until then (or later) accumates those years of higher-than-average growth. That’s why the <strong><em>average rate of growth</em></strong> is a better thing to look at to determine optimal harvest time. Still, is it the right thing to look at?</p>
<p>Between year 30 and 32, there is hardly any change in the value of the average-rate-of-change function. It’s increasing a little, but is it really worthwhile to wait? One argument is that at year 29 you already have a valuable resource: wood that could be money in the bank. If the money were in the bank, you could invest it and earn more money <em>and</em> at the same time get a new seedling in the ground to start its growth. You’re doing two things at once. Efficient!</p>
<p>To know what is the best year for harvest from this point of view, you want to calculate the effective “interest rate” on the present amount of wood that you earn in the form of new wood. That interest rate is the ratio of the <em>instantaneous</em> rate of growth of new wood divided by the amount of existing wood. Figure @ref{fig:tree-interest} shows this function:</p>
<p><img src="CalcZ-notes_files/figure-html/tree-interest-1.png" width="672" />
Early in the tree’s life, the growth is high compared to the volume of the tree. That’s because the tree is small. As the years pass, the tree gets bigger. Even though the rate of growth increases through year 23, the accumulated volume increases even faster, so there is a fall in the rate of return.</p>
<p>The best time to harvest is when the annual “interest rate” paid by the growing tree falls to the level of the next best available investment. Suppose that investment would pay 10% per year. Then harvest the tree at year 24. If the next best investment paid only 5% (blue horizontal line), the harvest should be made at about year 29.</p>
</div>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="14">
<li id="fn14"><p>Perhaps this says something about how well education has kept up with technology.<a href="change-relationships.html#fnref14" class="footnote-back">↩︎</a></p></li>
<li id="fn15"><p>Yes, “minification” is a word!<a href="change-relationships.html#fnref15" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="outline-of-block-2.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="h-and-derivatives.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/dtkaplan/CalcZ-notes/edit/main/Diff-intro.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
