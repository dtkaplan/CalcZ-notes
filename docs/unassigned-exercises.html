<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 1 Unassigned exercises | CalcZ Student Notes</title>
<meta name="author" content="Daniel Kaplan">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.2"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.5.3/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.5.3/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.4/tabs.js"></script><script src="libs/bs3compat-0.2.4/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script><script type="text/x-mathjax-config">
  const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
  for (let popover of popovers){
    const div = document.createElement('div');
    div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
    div.innerHTML = popover.getAttribute('data-content');
    
    // Will this work with TeX on its own line?
    var has_math = div.querySelector("span.math");
    if (has_math) {
      document.body.appendChild(div);
    	MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    	MathJax.Hub.Queue(function(){
        popover.setAttribute('data-content', div.innerHTML);
    	})
    }
  }
  </script><script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js"></script><!-- CSS --><link rel="stylesheet" href="css/CalcZ-style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">CalcZ Student Notes</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Welcome to calculus</a></li>
<li><a class="" href="calcz-project-development-plan.html">CalcZ Project Development Plan</a></li>
<li><a class="active" href="unassigned-exercises.html"><span class="header-section-number">1</span> Unassigned exercises</a></li>
<li class="book-part">Block 2: Differentiation</li>
<li><a class="" href="NA.html">Outline of Block 2</a></li>
<li><a class="" href="cont-and-smooth.html"><span class="header-section-number">2</span> Continuity and smoothness</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/dtkaplan/CalcZ-notes">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="unassigned-exercises" class="section level1">
<h1>
<span class="header-section-number">1</span> Unassigned exercises<a class="anchor" aria-label="anchor" href="#unassigned-exercises"><i class="fas fa-link"></i></a>
</h1>
<div id="combining-functions" class="section level2">
<h2>
<span class="header-section-number">1.1</span> Combining functions<a class="anchor" aria-label="anchor" href="#combining-functions"><i class="fas fa-link"></i></a>
</h2>

<div class="exercise">
<span id="exr:unnamed-chunk-7" class="exercise"><strong>Exercise 1.1  (arith-with-funs)  </strong></span>
</div>

<details><p>Each simple function such as a hump, a sigmoid, a straight-line function, or a sinusoid can be likened to a character in a story. For instance, a sinusoid with a period of 10 seconds and an amplitude of 5 feet might be all we need to say about the shaking encountered in an earthquake. A sigmoid might be a good description of the uptake of a social media platform such as Facebook.</p>
<p>Many stories require more than one character. For instance, the initial rise in popularity of social media platform might be exponential, then turning into a sigmoid, then an eventual exponential decay as popularity wanes as with Yik Yak.</p>
<p>Being able to add or multiply functions can enable us to tell a more complicated story. For example, the graph shows a simple model of the hourly temperature in from June through September</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">temp</span> <span class="op">&lt;-</span> <span class="fu">makeFun</span><span class="op">(</span><span class="fl">20</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/Trig.html">cos</a></span><span class="op">(</span><span class="fl">2</span><span class="op">*</span><span class="va">pi</span><span class="op">*</span><span class="op">(</span><span class="va">t</span><span class="op">-</span><span class="fl">120</span><span class="op">)</span><span class="op">/</span><span class="fl">365</span><span class="op">)</span> <span class="op">+</span> 
                  <span class="fl">10</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/Trig.html">sin</a></span><span class="op">(</span><span class="fl">2</span><span class="op">*</span><span class="va">pi</span><span class="op">*</span><span class="va">t</span><span class="op">/</span><span class="fl">1</span><span class="op">)</span> <span class="op">+</span> <span class="fl">50</span> <span class="op">~</span> <span class="va">t</span><span class="op">)</span>
<span class="fu">slice_plot</span><span class="op">(</span><span class="fu">temp</span><span class="op">(</span><span class="va">day</span><span class="op">)</span> <span class="op">~</span> <span class="va">day</span>, <span class="fu">domain</span><span class="op">(</span>day<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">90</span>, <span class="fl">180</span><span class="op">)</span><span class="op">)</span>,  npt<span class="op">=</span><span class="fl">1000</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">gf_labs</span><span class="op">(</span>y <span class="op">=</span> <span class="st">"Temperature  (F)"</span>, x <span class="op">=</span> <span class="st">"Day of year"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="CalcZ-notes_files/figure-html/unnamed-chunk-47-1.png" width="672"></div>
<p>You can see in the graph the slow seasonal change in temperature represented by a sine function with a period of 365 days, as well as the relatively rapid hour-by-hour variation over the course of 24 hours. There are two different mechanisms at work, 1) the annual orbit of the Earth around the Sun which creates the seasons, 2) the daily rotation of the Earth around its axis. Each mechanism is approximated by a simple function. The overall pattern can be represented by a sum of functions.</p>
<p>We are going to use this strategy of modeling complex phenomena as a sum of two or more simple functions.</p>
<p><strong>Problem 1</strong> Epidemics are often modeled as a series of “waves.” Each wave involves different people. Let’s imagine two epidemic waves, one passing through the “blue” population and a smaller one through the “red” population, like this:</p>
<div class="inline-figure"><img src="CalcZ-notes_files/figure-html/unnamed-chunk-48-1.png" width="672"></div>
<div class="etude-question">
<p><strong>Q-2</strong>: Assuming that there were no way to distinguish between red and blue cases, the epidemic would look like just one curve. Which of the following curves would the overall epidemic look like? (The colors are just to help you distinguish the different functions)</p>
<ol>
<li><p>A [The cumulative number of cases can’t possibly go down!]</p></li>
<li><p>B [The cumulative number of cases can’t possibly go down!]</p></li>
<li><p>C [You can’t see the separate waves in (C) even though the rise in the blue wave is clearly distinct in time from the rise in the red wave. ]</p></li>
<li><p>D (+) [Yes. Each wave adds another layer to the cumulative number of cases]</p></li>
</ol>
</div>
<div class="inline-figure"><img src="CalcZ-notes_files/figure-html/unnamed-chunk-49-1.png" width="672"></div>
<p>Each of the functions shown in the above graph is a “linear combination” of the red function and the blue function. The real total cumulative cases is “wave1(t)” plus “wave2(t)”. The other functions are made up and are irrelevant to the real epidemic. Still, we can ask what arithmetic combination of “wave1(t)” and “wave2(t)” was used to create the made-up function.</p>
<div class="etude-question">
<p><strong>Q-3</strong>: For made-up function (A) in the graph, what was the linear combination?</p>
<ol>
<li><p>1000 - wave1(t) + wave2(t) (+) []</p></li>
<li><p>2<em>wave1(t) - 3</em>wave2(t) [When t=0, both wave1(t) and wave2(t) are zero, so the sum would also be zero. That’s not true in function (A)]</p></li>
<li><p>1000 + wave1(t) - wave2(t) [This linear combination would rise from 1000 to 2000 (at time t=100) and then fall off to 1500 as the negative wave2(t) comes into play.]</p></li>
</ol>
<div class="&lt;/details&gt;">

<div class="exercise">
<span id="exr:unnamed-chunk-8" class="exercise"><strong>Exercise 1.2  (multiplying-functions)  </strong></span>
</div>
<details><p>It’s very common in communications systems to have a signal that is a sine-wave <em>carrier</em> that is <em>modulated</em> by another function. That is, the carrier is <em>multiplied</em> by the other function: <code>waveform(t) = modulator(t)</code> <span class="math inline">\(\times\)</span> <code>carrier(t)</code>.</p>
<p>Here are four examples in each of which a sine with a period of about 2 units is modulated by another function, one of the modeling functions we have studied.</p>
<div class="inline-figure"><img src="CalcZ-notes_files/figure-html/unnamed-chunk-51-1.png" width="672"></div>
<div class="etude-question">
<p><strong>Q-4</strong>: (A) Of what sort is the function that is modulating the carrier?</p>
<ol>
<li><p>exponential (+) []</p></li>
<li><p>hump []</p></li>
<li><p>sigmoid []</p></li>
<li><p>sine []</p></li>
</ol>
</div>
<div class="inline-figure">
<img src="CalcZ-notes_files/figure-html/unnamed-chunk-52-1.png" width="672">
::: {.etude-question}</div>
<p><strong>Q-5</strong>: (B) Of what sort is the function that is modulating the carrier?</p>
<ol>
<li><p>exponential []</p></li>
<li><p>hump (+) []</p></li>
<li><p>sigmoid []</p></li>
<li><p>sine []</p></li>
</ol>
<p>:::</p>
<div class="inline-figure"><img src="CalcZ-notes_files/figure-html/unnamed-chunk-53-1.png" width="672"></div>
<div class="etude-question">
<p><strong>Q-6</strong>: (C) Of what sort is the function that is modulating the carrier?</p>
<ol>
<li><p>exponential []</p></li>
<li><p>hump []</p></li>
<li><p>sigmoid (+) []</p></li>
<li><p>sine []</p></li>
</ol>
</div>
<div class="inline-figure">
<img src="CalcZ-notes_files/figure-html/unnamed-chunk-54-1.png" width="672">
::: {.etude-question}</div>
<p><strong>Q-7</strong>: (D) Of what sort is the function that is modulating the carrier?</p>
<ol>
<li><p>exponential []</p></li>
<li><p>hump []</p></li>
<li><p>sigmoid []</p></li>
<li><p>sine (+) []</p></li>
</ol>
:::
</details><div class="exercise">
<span id="exr:unnamed-chunk-9" class="exercise"><strong>Exercise 1.3  (available-health-care)  </strong></span>
</div>
<details><p>One common measure of quality of life is “life expectancy at birth.” A measure of the availability of health care is the number of physicians per 1000 people.</p>
<p>The question we are going to examine is whether life expectancy is a function of the availability of health care and, if so, what kind of function it is.</p>
<p>The data frame <code>LifeExpectancyPhysicians</code> contains the official 2010 figures from many countries for life expectancy and the number of physicians per 1000 population.</p>
<p>Graph <code>LifeExpectancy</code> versus <code>Physicians</code>. Use linear axes, semi-log axes, or log-log axes to determine a reasonable functional form. (Recall that giving <code>scale_y_log10()</code> as an argument to <code>gf_refine()</code> will set the y axis on a log scale, and similarly for the x axis.)</p>
<div class="scaffolding">
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">gf_point</span><span class="op">(</span><span class="va">LifeExpectancy</span> <span class="op">~</span> <span class="va">Physicians</span>,
         data <span class="op">=</span> <span class="va">LifeExpectancyPhysicians</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">gf_refine</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="CalcZ-notes_files/figure-html/unnamed-chunk-56-1.png" width="672"></div>
</div>
<p>Using <code>fitModel()</code>, your instructor found the following model of life-expectancy (which we’ll call L, in years) as a function of physicians-per-1000 people. (We’ll call this “doctor-density” for short, so D.)</p>
<p>The instructor’s model is:</p>
<p><span class="math display">\[L(D) \equiv 70.9 \times D^{0.0683}\]</span>
Define this function in R and graph it over your data. Confirm that it is a reasonable match to the data. (If not, you’ve copied the parameters wrong.)</p>
<div class="etude-question">
<p><strong>Q-8</strong>: What kind of function is the instructor’s proposed model?</p>
<ol>
<li><p>linear [Is it a straight line on linear axes?]</p></li>
<li><p>exponential [Is it a straight line on semi-log axes?]</p></li>
<li><p>power-law (+) [C is a consonant, Chub]</p></li>
<li><p>sigmoidal [Is it S-shaped]</p></li>
</ol>
</div>
<div class="etude-question">
<p><strong>Q-9</strong>: According to the instructor’s model, what’s the life expectancy when there are no physicians at all?</p>
<ol>
<li><p>0 years (+) [Not very believable, since there were (living) people before there were physicians. The power-law functional form always forces zero input to be zero output. So maybe not to be taken so seriously.]</p></li>
<li><p>35 years []</p></li>
<li><p>50 years []</p></li>
<li><p>70 years []</p></li>
<li><p>100 years []</p></li>
<li><p>115 years []</p></li>
</ol>
</div>
<div class="etude-question">
<p><strong>Q-10</strong>: According to the instructor’s model, would be the life expectancy if every person in the world were a physician? (Hint: Translate this into physicians/1000-people.)</p>
<ol>
<li><p>0 years []</p></li>
<li><p>35 years []</p></li>
<li><p>50 years []</p></li>
<li><p>70 years []</p></li>
<li><p>100 years []</p></li>
<li><p>110 years+ (+) [But probably we would all starve to death if everybody was a physician! This also is an unreasonable extrapolation.]</p></li>
</ol>
</div>
<p>It could be argued that the doctor-density should be a function of life expectancy rather than the other way around. (All those seniors consume a lot of medical care.)</p>
<div class="etude-question">
<p><strong>Q-11</strong>: Which of these models agrees reasonably well with the data? (Hint: You can plot the model over the data.)</p>
<ol>
<li><p><span class="math inline">\(D(L) \equiv 7.24\times 10^{-19} \times L^9.8\)</span> (+) []</p></li>
<li><p><span class="math inline">\(D(L) \equiv 3.19 \times L^{3.1}\)</span> []</p></li>
<li><p><span class="math inline">\(D(L) \equiv 8.64 \times L^{6.3}\)</span> []</p></li>
<li><p><span class="math inline">\(D(L) \equiv 5.50 \times L^{2.4}\)</span> []</p></li>
</ol>
</div>
<p>The question now is whether the function <span class="math inline">\(D(L)\)</span> (from the previous question) which is a good match to the data, is equivalent to the function <span class="math inline">\(L(D)\)</span> which the instructor first proposed.</p>
<p>In order to compare them, we have to make both of them functions of the same input. Let’s say we take <span class="math inline">\(D(L)\)</span> and algebraically find the inverse which we’ll call <span class="math inline">\(D^{inv}(D)\)</span>. That inverse function takes an input in the form D and produces an output in the form L.</p>
<p>Using algebra, confirm that</p>
<p><span class="math display">\[D^{inv}(D) \equiv  70.9 \times D^{1/9.8}\]</span>
In the sandbox, plot both the instructor’s proposed model <span class="math inline">\(L(D)\)</span> and the model <span class="math inline">\(D^{inv}(D)\)</span> on the same axes, along with the data. (You’ll have to decide which variable to put on the horizontal axis, but the notation <span class="math inline">\(L(D)\)</span> and <span class="math inline">\(D^{inv}(D)\)</span> should give you a good clue.)</p>
<div class="etude-question">
<p><strong>Q-12</strong>: Which model, <span class="math inline">\(L(D)\)</span> or <span class="math inline">\(D^{inv}(D)\)</span> is a better match to the data when <span class="math inline">\(D &lt; 1\)</span>?</p>
<ol>
<li><p><span class="math inline">\(L(D)\)</span> (+) []</p></li>
<li><p><span class="math inline">\(D^{inv}(D)\)</span> []</p></li>
<li><p>They are the same function. []</p></li>
</ol>
</div>
<p>Complex social phenomena, like life expectancy, are … well, complex. Life expectancy depends on many factors other than health care: nutrition, war, automobile safety, etc.</p>
<p>Notice from the data that the countries with the highest life expectancies are those where <span class="math inline">\(D \approx 3\)</span>. And yet, there are many countries with <span class="math inline">\(D \approx 3\)</span> that have relatively low life expectancy. One reason for this is inequality. In many countries, urbanites live at a high standard and people in the countryside have very little access to health care or reliably good nutrition, civil order, and so on.</p>
</details><!-----------------------

## Hump & sigmoid functions


\BeginKnitrBlock{exercise}\iffalse{-91-104-117-109-112-45-105-110-116-114-111-93-}\fi{}<div class="exercise"><span class="exercise" id="exr:unnamed-chunk-10"><strong>(\#exr:unnamed-chunk-10)  \iffalse (hump-intro) \fi{} </strong></span></div>\EndKnitrBlock{exercise}
<details>







The hump function that we mainly use in CalcZ is implemented in R with `dnorm(x, mean, sd)`.  The input called `mean` corresponds to the *center* of the hump. The input called `sd` gives the *width* of the hump.

::: {.scaffolding}
In a sandbox, make a slice plot of `dnorm(x, mean=0, sd=1)`. By varying the value of `width`, figure out how you could read that value directly from the graph. 

```r
slice_plot(dnorm(x, mean=0, sd=1) ~ x,
           domain(x = c(-4, 4)))
```
:::


In the plot below, one of the double-headed arrows represents the `width` parameter. The others are misleading. 

<img src="CalcZ-notes_files/figure-html/unnamed-chunk-61-1.png" width="672" />


::: {.etude-question}

**Q-13**: Which arrow shows correctly the `width` parameter of the hump function in the graph with arrows?


#. top  (+) []

#. middle []

#. bottom []

#. none of them []

:::

::: {.etude-question}

**Q-14**: What is the value of `center` in the graph with arrows?


#. -2 [The `center` parameter is the argmax of the function.]

#. -1 [The `center` parameter is the argmax of the function.]

#. -0.5 [The `center` parameter is the argmax of the function.]

#. 0 [The `center` parameter is the argmax of the function.]

#. 0.5  (+) []

#. 1 [message]

#. 2 [The `center` parameter is the argmax of the function.]

:::</details>



\BeginKnitrBlock{exercise}\iffalse{-91-115-105-103-109-111-105-100-45-105-110-116-114-111-93-}\fi{}<div class="exercise"><span class="exercise" id="exr:unnamed-chunk-11"><strong>(\#exr:unnamed-chunk-11)  \iffalse (sigmoid-intro) \fi{} </strong></span></div>\EndKnitrBlock{exercise}
<details>







Hump functions and sigmoidal functions come in pairs. For  every possible sigmoid, there is a corresponding hump that gives, for each value of the input, the slope of the sigmoid.

Each of the following graphs shows a sigmoid and a hump function. The two might or might not correspond to one another. That is, the output of the hump might be the slope of the sigmoid, or the hump might correspond to  some other sigmoid. Remember, you're comparing the *output* of the hump to the *slope* of the sigmoid.

For each graph, say whether the hump and the sigmoid correspond to one another. If not, choose one of the reasons why not.

<img src="CalcZ-notes_files/figure-html/unnamed-chunk-63-1.png" width="672" />

::: {.etude-question}

**Q-15**: Graph (A)


#. The hump and sigmoid correspond.  (+) []

#. The peak of the hump does not occur at the same value of $x$ at which the sigmoid is steepest. [For what $x$ is the sigmoid the steepest? For what $x$ is the hump the highest?]

#. The numerical value of the output of the hump function is, for all $x$, much larger than the numerical value  of the *slope*  of the sigmoid. [Did you  calculate the numerical value  of  the slope of the sigmoid?]

:::


<img src="CalcZ-notes_files/figure-html/unnamed-chunk-64-1.png" width="672" />

::: {.etude-question}

**Q-16**: Graph (B)


#. The hump and sigmoid correspond. []

#. The peak of the hump does not occur at the same value of $x$ at which the sigmoid is steepest.  (+) [The hump peaks at about $x=2$ while the steepest part of the sigmoid is at about $x=4$]

#. The numerical value of the output of the hump function is much larger than the numerical value  of the *slope*  of the sigmoid. [Did you  calculate the numerical value  of  the slope of the sigmoid?]

:::

<img src="CalcZ-notes_files/figure-html/unnamed-chunk-65-1.png" width="672" />


::: {.etude-question}

**Q-17**: Graph (C)


#. The hump and sigmoid correspond.  (+) []

#. The peak of the hump does not occur at the same value of $x$ at which the sigmoid is steepest. [For what $x$ is the sigmoid the steepest? For what $x$ is the hump the highest?]

#. The numerical value of the output of the hump function is, for all $x$, much larger than the numerical value  of the *slope*  of the sigmoid. [Did you  calculate the numerical value  of  the slope of the sigmoid?]

:::

In the  graph *D*, there are several hump functions shown, only one of which corresponds to the sigmoid.

<img src="CalcZ-notes_files/figure-html/unnamed-chunk-66-1.png" width="672" />

::: {.etude-question}

**Q-18**: Which hump corresponds to  the sigmoid?


#. A [The value of the hump output is much larger than the slope of the sigmoid.]

#. B  (+) [Right! The hump is centered on the steepest part of the sigmoid and falls to zero where the sigmoid levels out.]

#. C [The hump is too narrow.]

#. D [The hump is too broad and shifted to the left.]

:::</details>

\BeginKnitrBlock{exercise}\iffalse{-91-115-105-103-109-111-105-100-45-98-97-116-104-93-}\fi{}<div class="exercise"><span class="exercise" id="exr:unnamed-chunk-12"><strong>(\#exr:unnamed-chunk-12)  \iffalse (sigmoid-bath) \fi{} </strong></span></div>\EndKnitrBlock{exercise}
<details>








Have in mind a hump function and a sigmoid function that form a corresponding pair.

<img src="CalcZ-notes_files/figure-html/unnamed-chunk-68-1.png" width="50%" style="display: block; margin: auto;" />


::: {.etude-question}

**Q-19**: Which of these stories is consistent with the relationship between a hump and its corresponding sigmoid?


#. The hump is the amount of water in a bathtub while the sigmoid is the time you spend in the bath. []

#. The hump is the amount of water in the bathtub while the sigmoid is the rate at which water flows from the tap. [You turn the tap on and off after a while. That's not what the sigmoid looks like.]

#. The hump is the rate at which water flows from the tap and the sigmoid is the amount of water in the bathtub.  (+) []

#. The hump indicates the amount the drain is open and the sigmoid is the amount of water in the bathtub. [Shouldn't the amount of water go down when the drain is open?]

:::
</details>

\BeginKnitrBlock{exercise}\iffalse{-91-101-98-111-108-97-45-115-105-103-109-111-105-100-93-}\fi{}<div class="exercise"><span class="exercise" id="exr:unnamed-chunk-13"><strong>(\#exr:unnamed-chunk-13)  \iffalse (ebola-sigmoid) \fi{} </strong></span></div>\EndKnitrBlock{exercise}
<details>







A data frame named `EbolaSierraLeone`^[From the `{MMAC}` R package] records the cumulative number of Ebola cases in  Sierra Leone from May 1, 2014 to December 16, 2015.

Let's find how well a sigmoidal function models the data.



```r
gf_point(Cases ~ Day, data = MMAC::EbolaSierraLeone)
```

<img src="CalcZ-notes_files/figure-html/unnamed-chunk-70-1.png" width="672" />

It's straightforward to estimate the values of the parameters from data that have a sigmoidal form. To walk you through the process, the next plot shows simulated data from a genuine sigmoid function.

<img src="CalcZ-notes_files/figure-html/unnamed-chunk-71-1.png" width="672" />

1. Sketch in a S-shaped curve that smoothly follows the data.

2. Find the top plateau of the S-curve. This is indicated by the red line in the graph above. The parameter `A` is simply the height of the plateau, in this case $y \approx 15$.

3. Come down half way from the  plateau. Here, that's 15/2 or 7.5, indicated by the horizontal blue line segment.  Find the inverse of the S-curve from that half-way point onto the horizontal-axis. Here, that gives $t \approx 5$. The  parameter `center` is that value.

4. From the center of the S-shaped curve, follow the curve upward about 2/3 of the way to the  plateau. In the diagram, that point is marked with a green line at $t \approx 7$. The `width` is the distance along the horizontal axis from the blue centerline to the green line. Here, that's $7 - 5$ giving 2 as the `width`.

5. You might also want  to trace the S-curve *downward* from the centerline about 2/3 of the way to zero. That's indicated by the  left green line.  In the standard sigmoid, the two green lines will be equally spaced around the centerline. Of course the data may not be in the shape of the standard sigmoid, so you might find the two green lines are not equally spaced from the center.

-------

*Put aside for the moment that the Ebola data doesn't look exactly like the standard sigmoid function. Follow the above procedure, nevertheless.*

::: {.etude-question}

**Q-20**: Where is the top plateau?


#. About Day 600. [Measure the height of the plateau, not where it starts horizontally.]

#. About 14,000 cases  (+) []

#. About 20,000 cases [Read the vertical axis markings more carefully.]

#. None of the above [One of the above answers is pretty good.]

:::

::: {.etude-question}

**Q-21**: Where is the centerline?


#. Near Day 200  (+) []

#. Near Day 300 [That's the center of the vertical scale, not the day at which the curve reaches half-way to the eventual plateau.]

#. At about 7000 cases [That's half-way up to the plateau, but the answer you  want is the day at which the curve reaches that point.]

:::

::: {.etude-question}

**Q-22**: Now to find the `width` parameter. The curve looks more classically sigmoidal to the left of the centerline than to the right, so follow the curve *downward* as in Step 4 of the algorithm to find the parameters. What's a good estimate for `width`?


#. About 50 days  (+) []

#. About 100 days [Too wide!]

#. About 10 days [Too small]

#. About 2500 cases [The width is measured along the horizontal axis, not the vertical]

:::

Open a sandbox and use the following commands to plot the Ebola data along with the sigmoid that you matched to the data by eye. The commands also generate and plot a more "refined" estimate found with `fitModel()` starting with  your by-eye parameters. (Note: You'll need to fill in the blanks at the start of the scaffolding with your by-eye parameters before running the code.)


::: {.scaffolding}

```r
A_estimate <-  _____
center_estimate <- _____
width_estimate <- ______

guessed_fun <- makeFun(A* pnorm(Day, center, width) ~ Day,
                       A = A_estimate,
                       center = center_estimate,
                       width = width_estimate)


refined_fun <- fitModel(Cases ~ A * pnorm(Day, center, width),
                 data = EbolaSierraLeone,
                 start = list(A=A_estimate, 
                              center=center_estimate,
                              width=width_estimate))

gf_point(Cases  ~ Day, data = MMAC::EbolaSierraLeone)  %>%
  slice_plot(guessed_fun(Day) ~ Day, color="red") %>%
  slice_plot(refined_fun(Day) ~ Day, color="blue")
```
:::


I can't predict what you see in your graph, since it depends on what starting estimates you used for `A`, `center` and `width`.

::: {.etude-question}

**Essay question Q-23**: Write down the estimates you  made by eye for `A`, `center` and `width`. Then  explain in words any major systematic deviations of the 'refined' model from the data.

:::

This idea of fitting a sigmoidal curve *globally* to data that are only roughly sigmoidal might be forgiven since it's just a textbook exercise. But if this were a real-world problem, there are three rookie mistakes in the approach, despite its technical sophistication.

1. A model is built for a  purpose. There's no statement in  the exercise about  what the purpose is.
2. The data themselves are a  good enough representation  of the historical pattern. There's no need to adorn  them with a fitted  curve.
3. The mathematical processes that would justify the expectation  that a sigmoid curve could be useful are based on the idea that the  underlying mechanism for the phenomenon is unchanging. For an epidemic, that mechanism is contagion. By saying the "mechanism is unchanging," we mean that person-to-person transmission of the Ebola virus happens in the same way at the beginning of the epidemic as it does in the middle and in  the end. But strong public health interventions were introduced to control the epidemic. That's a change in  mechanism.
</details>





## Sinusoids

\BeginKnitrBlock{exercise}\iffalse{-91-115-117-110-115-101-116-45-105-110-45-76-65-93-}\fi{}<div class="exercise"><span class="exercise" id="exr:unnamed-chunk-14"><strong>(\#exr:unnamed-chunk-14)  \iffalse (sunset-in-LA) \fi{} </strong></span></div>\EndKnitrBlock{exercise}
<details>`rr knitr::knit_child("Exercises/Fun/sunset-in-LA.Rmd")`</details>

\BeginKnitrBlock{exercise}\iffalse{-91-108-97-109-98-45-116-97-108-107-45-103-108-111-118-101-115-93-}\fi{}<div class="exercise"><span class="exercise" id="exr:unnamed-chunk-15"><strong>(\#exr:unnamed-chunk-15)  \iffalse (lamb-talk-gloves) \fi{} </strong></span></div>\EndKnitrBlock{exercise}
<details>`rr knitr::knit_child("Exercises/Fun/lamb-talk-gloves.Rmd")`</details>

\BeginKnitrBlock{exercise}\iffalse{-91-115-112-105-114-111-109-101-116-101-114-93-}\fi{}<div class="exercise"><span class="exercise" id="exr:unnamed-chunk-16"><strong>(\#exr:unnamed-chunk-16)  \iffalse (spirometer) \fi{} </strong></span></div>\EndKnitrBlock{exercise}
<details>`rr knitr::knit_child("Exercises/Fun/spirometer.Rmd")`</details>

## Shapes of graphs

\BeginKnitrBlock{exercise}\iffalse{-91-83-104-97-112-101-115-32-111-102-32-102-117-110-99-116-105-111-110-115-93-}\fi{}<div class="exercise"><span class="exercise" id="exr:concavity"><strong>(\#exr:concavity)  \iffalse (Shapes of functions) \fi{} </strong></span></div>\EndKnitrBlock{exercise}
<details>`rr knitr::knit_child(exercise_file("02", "concavity.Rmd"))`</details>

\BeginKnitrBlock{exercise}\iffalse{-91-108-101-110-103-116-104-45-111-102-45-100-97-121-93-}\fi{}<div class="exercise"><span class="exercise" id="exr:daylength"><strong>(\#exr:daylength)  \iffalse (length-of-day) \fi{} </strong></span></div>\EndKnitrBlock{exercise}
<details>`rr knitr::knit_child("Exercises/Fun/length-of-day.Rmd")`</details>



## Exponential functions

\BeginKnitrBlock{exercise}\iffalse{-91-101-120-112-111-110-101-110-116-105-97-108-45-98-97-115-101-115-46-82-109-100-93-}\fi{}<div class="exercise"><span class="exercise" id="exr:exponential-bases"><strong>(\#exr:exponential-bases)  \iffalse (exponential-bases.Rmd) \fi{} </strong></span></div>\EndKnitrBlock{exercise}
<details>`rr knitr::knit_child(exercise_file("04", "exponential-bases.Rmd"))`</details>


\BeginKnitrBlock{exercise}<div class="exercise"><span class="exercise" id="exr:unnamed-chunk-17"><strong>(\#exr:unnamed-chunk-17) </strong></span></div>\EndKnitrBlock{exercise}
<details>`rr knitr::knit_child(exercise_file("05", "cow-type-kayak-new.Rmd"))`</details>

\BeginKnitrBlock{exercise}<div class="exercise"><span class="exercise" id="exr:unnamed-chunk-18"><strong>(\#exr:unnamed-chunk-18) </strong></span></div>\EndKnitrBlock{exercise}
<details>`rr knitr::knit_child(exercise_file("05", "chicken-choose-vase.Rmd"))`</details>


## Log scales

\BeginKnitrBlock{exercise}\iffalse{-91-101-110-103-105-110-101-45-109-97-103-110-105-116-117-100-101-45-110-101-119-46-82-109-100-93-}\fi{}<div class="exercise"><span class="exercise" id="exr:engine-magnitude-new"><strong>(\#exr:engine-magnitude-new)  \iffalse (engine-magnitude-new.Rmd) \fi{} </strong></span></div>\EndKnitrBlock{exercise}
<details>`rr knitr::knit_child(exercise_file("04", "engine-magnitude-new.Rmd"))`</details>



\BeginKnitrBlock{exercise}\iffalse{-91-66-111-121-108-101-115-45-100-97-116-97-46-82-109-100-93-}\fi{}<div class="exercise"><span class="exercise" id="exr:unnamed-chunk-19"><strong>(\#exr:unnamed-chunk-19)  \iffalse (Boyles-data.Rmd) \fi{} </strong></span></div>\EndKnitrBlock{exercise}
<details>`rr knitr::knit_child(exercise_file("06", "Boyles-data.Rmd"))`</details>

\BeginKnitrBlock{exercise}\iffalse{-91-69-120-101-114-99-105-115-101-32-105-115-32-98-97-100-32-102-111-114-32-121-111-117-114-32-104-101-97-108-116-104-46-93-}\fi{}<div class="exercise"><span class="exercise" id="exr:unnamed-chunk-20"><strong>(\#exr:unnamed-chunk-20)  \iffalse (Exercise is bad for your health.) \fi{} </strong></span></div>\EndKnitrBlock{exercise}
<details>`rr knitr::knit_child(exercise_file("06", "tiger-have-fork.Rmd"))`</details>


\BeginKnitrBlock{exercise}\iffalse{-91-109-97-112-108-101-45-104-105-116-45-115-97-117-99-101-114-93-}\fi{}<div class="exercise"><span class="exercise" id="exr:unnamed-chunk-21"><strong>(\#exr:unnamed-chunk-21)  \iffalse (maple-hit-saucer) \fi{} </strong></span></div>\EndKnitrBlock{exercise}
<details>`rr knitr::knit_child("Exercises/Fun/maple-hit-saucer.Rmd")`</details>

\BeginKnitrBlock{exercise}\iffalse{-91-48-53-47-108-111-103-45-97-120-105-115-46-82-109-100-93-}\fi{}<div class="exercise"><span class="exercise" id="exr:unnamed-chunk-22"><strong>(\#exr:unnamed-chunk-22)  \iffalse (05/log-axis.Rmd) \fi{} </strong></span></div>\EndKnitrBlock{exercise}
<details>`rr knitr::knit_child(exercise_file("05", "log-axis.Rmd"))`</details>

## Power-law functions

\BeginKnitrBlock{exercise}\iffalse{-91-99-97-116-45-108-101-110-100-45-102-117-116-111-110-93-}\fi{}<div class="exercise"><span class="exercise" id="exr:unnamed-chunk-23"><strong>(\#exr:unnamed-chunk-23)  \iffalse (cat-lend-futon) \fi{} </strong></span></div>\EndKnitrBlock{exercise}
<details>`rr knitr::knit_child("Exercises/Fun/cat-lend-futon.Rmd")`</details>

=========================================--><h1 id="part-block-2-differentiation" class="unnumbered">(PART) Block 2: Differentiation</h1>

<h1 id="outline-of-block-2" class="unnumbered">Outline of Block 2</h1>
<div class="todo">
<p>This section is for development purposes only. It is not to be included in the released text.</p>
</div>
<p>This outline was that established during the May 17-19, 2021 working sessions at USAFA. It’s copied directly from the Teams document. I’ve made some modifications which are noted in [[square brackets]] for deletions and <strong>bold face</strong> for additions..</p>
<ol style="list-style-type: decimal">
<li>Revisiting Calculating slope
<ol style="list-style-type: lower-alpha">
<li>NTI:</li>
<li>Admin:
<ol style="list-style-type: lower-roman">
<li>Sizeable quiz on interlude</li>
</ol>
</li>
<li>Outcomes:
<ol style="list-style-type: lower-roman">
<li>Calculate a slope given two points</li>
<li>Given a graph of a function, identify graph of its slope function <span class="math inline">\(s(x)\)</span>
</li>
<li>Given a graph of the slope function, identify features of the original function</li>
</ol>
</li>
<li>Readings: Chapter @ref{difference-and-change}</li>
</ol>
</li>
<li>Derivatives
<ol style="list-style-type: lower-alpha">
<li>NTI:
<ol style="list-style-type: lower-roman">
<li>Explain that limits are the solution to the problem of having an arbitrary <span class="math inline">\(h\)</span> in the slope function</li>
</ol>
</li>
<li>Topics:
<ol style="list-style-type: lower-roman">
<li>Show that there are different definitions of the slope function <span class="math inline">\(s(x)\)</span> that depend on the <span class="math inline">\(h\)</span> selected</li>
<li>Describe derivative as the limit where <span class="math inline">\(h \rightarrow 0\)</span>
</li>
<li>Derivatives of basic modeling functions</li>
<li>Linear properties of derivatives</li>
<li>[[Derivative is a number; differentiation is an operator]] **We need to introduce operators earlier.</li>
<li>Functions as arguments in R</li>
<li>Introduce notation: <span class="math inline">\(f'\)</span>, <span class="math inline">\(\frac{df}{dx}\)</span>, <span class="math inline">\(\partial_x f(x)\)</span>, [[$D_x f]]$</li>
<li>Introduce NaN and Inf</li>
</ol>
</li>
<li>Outcomes:
<ol style="list-style-type: lower-roman">
<li>Find the derivatives of all basic modeling functions</li>
<li>Know the basic properties of differentiation</li>
<li>Continue working graphing a derivative</li>
</ol>
</li>
<li>Readings</li>
</ol>
</li>
<li>Relationships between functions and their derivatives Part I
<ol style="list-style-type: lower-alpha">
<li>NTIs:
<ol style="list-style-type: lower-roman">
<li>Split students into A/B pairs. A has graph of derivative. B can’t see that graph, but can talk to A. B should sketch out the original function based on information from A, who can see B’s sketch. Then reveal answer.</li>
</ol>
</li>
<li>Topics:
<ol style="list-style-type: lower-roman">
<li>Argmax/Argmin</li>
<li>Max/min</li>
<li>Critical points</li>
</ol>
</li>
<li>Outcomes:
<ol style="list-style-type: lower-roman">
<li>Determine a function’s critical points graphically and algebraically</li>
<li>Determine whether a critical point is a max or min</li>
</ol>
</li>
<li>Readings: <a href="unassigned-exercises.html#optim-and-shape"><strong>??</strong></a>. It doesn’t take much to introduce max and min from graphs, argmax and argmin, and critical points. So the reading can be quite small.</li>
</ol>
</li>
<li>Relationships between functions and their derivatives Part II
<ol style="list-style-type: lower-alpha">
<li>NTI:
<ol style="list-style-type: lower-roman">
<li>Curvature. Up like a cup, down like a frown</li>
<li>2nd derivative indicates curvature</li>
</ol>
</li>
<li>Topics:
<ol style="list-style-type: lower-roman">
<li>Second derivatives are the slope of the slope</li>
<li>Concavity is the slope of the slope</li>
</ol>
</li>
<li>Readings: Chapter <a href="unassigned-exercises.html#optim-and-shape"><strong>??</strong></a> This is the same as the previous days reading. Maybe we should add a section of chains of derivatives, especially for polynomials, showing how they eventually go to zero.</li>
</ol>
</li>
<li>Relationships between functions and their derivatives Part III
<ol style="list-style-type: lower-alpha">
<li>Topics:
<ol style="list-style-type: lower-roman">
<li>Knowing <span class="math inline">\(f'(x_0) = 0\)</span> tells you there is a min/max/saddle at <span class="math inline">\(x_0\)</span>
</li>
<li>2nd derivative to distinguish between the three</li>
<li>Chain of derivatives</li>
</ol>
</li>
<li>Outcomes:
<ol style="list-style-type: lower-roman">
<li>Be able to find max/min, argmax/argmin of given functions graphically.</li>
<li>**Construct derivative function and use <code>findZeros()</code> to locate the argmax and evaluate the function to get the corresponding max</li>
</ol>
</li>
<li>Readings Chapter <a href="unassigned-exercises.html#optim-and-shape"><strong>??</strong></a> Still the same as the previous two days.</li>
</ol>
</li>
<li>Continuity, Differentiability, Smoothness, Splines
<ol style="list-style-type: lower-alpha">
<li>Topics:
<ol style="list-style-type: lower-roman">
<li>Spline is a piecewise function</li>
<li>Order of continuity</li>
<li>Determine graphically whether a function is continuous or not</li>
<li>Determine order of continuity of a function</li>
</ol>
</li>
<li>Outcomes
<ol style="list-style-type: lower-roman">
<li><strong>Be able to determine if first derivative of function is continuous from graph of function</strong></li>
<li><strong>Be able to determine if second derivative of function is continuous from graph of function (or by taking the 1st derivative and plotting that)</strong></li>
<li><strong>Be able to demonstrate discontinuities in 3rd derivative of spline</strong></li>
</ol>
</li>
<li>Readings</li>
</ol>
</li>
<li>Differentiation of Products of Functions
<ol style="list-style-type: lower-alpha">
<li>Outcomes
<ol style="list-style-type: lower-roman">
<li>Identify when it is necessary to differentiate with product rule</li>
<li>Find the derivative using product rule</li>
</ol>
</li>
<li>Readings</li>
</ol>
</li>
<li>Differentiation of Composite Functions
<ol style="list-style-type: lower-alpha">
<li>Topics
<ol style="list-style-type: lower-roman">
<li>Identifying a composite function</li>
<li>Chain rule</li>
</ol>
</li>
<li>Homework: Save quotient rule for HW</li>
<li>Outcomes:
<ol style="list-style-type: lower-roman">
<li>Identify when it is necessary to differentiate with chain rule</li>
<li>Find the derivative using chain rule</li>
</ol>
</li>
<li>Readings</li>
</ol>
</li>
<li>Local Polynomial Approximation
<ol style="list-style-type: lower-alpha">
<li>NTI:
<ol style="list-style-type: lower-roman">
<li>Killer application of Taylor polynomials when Brook Taylor figured out that tools of Newton developed</li>
</ol>
</li>
<li>Topics:
<ol style="list-style-type: lower-roman">
<li>List the benefits of approximation and specifically the benefits of quadratic approximation as opposed to linear approximation</li>
<li>[[Average rate of change]] moved to Block 1 slope function</li>
<li>Tangent Lines</li>
<li>Quadratic equations</li>
<li>Factorials</li>
</ol>
</li>
<li>Readings</li>
</ol>
</li>
<li>Approximation at a point
<ol style="list-style-type: lower-alpha">
<li>NTI:
<ol style="list-style-type: lower-roman">
<li>R exercise in constructing a Taylor polynomial computationally</li>
</ol>
</li>
<li>Outcomes:
<ol style="list-style-type: lower-roman">
<li>Calculate a Taylor polynomial</li>
<li>Use Taylor polynomials to simplify mathematical operations (derivatives, limits, etc.)</li>
</ol>
</li>
</ol>
</li>
</ol>
<h1 id="change-relationships">
<span class="header-section-number">1.1</span> Change relationships</h1>
<p>The questions that started it all had to do with motion. There were words to describe speed: fast and slow. There were words to describe force: strong and weak, heavy and light. And there were words to describe location: far and near, long and short. But what were the relationships among these things? And how did time fit in, an intangible quantity that had aspects of location (long and short) and of speed (quick and slow)?</p>
<p>Galileo (1564-1642) started the ball rolling. As the son of a musician and music theorist, he had a sense of musical time, a steady beat of intervals. As a student of medicine in Pisa, he noted that swinging pendulums kept reliable time, regardless of the amplitude of their swing. After accidentally attending a lecture on geometry, he turned to mathematics and natural philosophy. Inventing the telescope, his observations put him on a collision course with the accepted classical truth about the nature of the planets. Seeking to understand gravity, he built an apparatus that enabled him to measure accurately the position in time of a ball rolling down a straight ramp. The belled gates he set up to mark the ball’s passage were spaced arithmetically in musical time: 1, 2, 3, 4, …. But the distance between the gates was geometric: 1, 4, 9, 16, …. Thus he established a mathematical relationship between increments in time and increments in position. Time advanced as 1, 1, 1, 1, … and position as 1, 3, 5, 7, …. He observed that the <strong><em>second</em></strong> increments of position, the increments of the increments 1, 3, 5, 7, …, were themselves evenly spaced: 2, 2, 2, ….</p>
<p>Putting these observations in tabular form, and adding columns for the</p>
<ul>
<li>first increment <span class="math inline">\(y(t) \equiv x(t+1) - x(t)\)</span> and the</li>
<li>second increment <span class="math inline">\(y(t+1) - y(t)\)</span>
</li>
</ul>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th><span class="math inline">\(t\)</span></th>
<th><span class="math inline">\(x(t)\)</span></th>
<th>first increment</th>
<th>second increment</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>0</td>
<td>0</td>
<td>1</td>
<td>2</td>
</tr>
<tr class="even">
<td>1</td>
<td>1</td>
<td>3</td>
<td>2</td>
</tr>
<tr class="odd">
<td>2</td>
<td>4</td>
<td>5</td>
<td>2</td>
</tr>
<tr class="even">
<td>3</td>
<td>9</td>
<td>7</td>
<td></td>
</tr>
<tr class="odd">
<td>4</td>
<td>16</td>
<td></td>
<td></td>
</tr>
</tbody>
</table></div>
<p>Galileo had neither the mathematics nor the equipment to measure motion continuously in time. So what might be obvious to us now, that position is a function of time <span class="math inline">\(x(t)\)</span>, would have had little practical significance to him. But we discover in his first increments of <span class="math inline">\(x\)</span> something very much like our <strong><em>slope function</em></strong>.</p>
<p><span class="math display">\[{\cal D}_t\, x(t) \equiv \frac{x(t + 1) - x(t)}{1}\]</span>
From his data, he observed that <span class="math inline">\({\cal D}_t\, x(t)\)</span> increases linearly in <span class="math inline">\(t\)</span>: <span class="math display">\[{\cal D}_t x(t) = 2 t + 1\]</span></p>
<p>Calculating the second increments of <span class="math inline">\(x\)</span> is done by the “slope function of the slope function,” which we can call <span class="math inline">\({\cal D}_{tt}\)</span>:
<span class="math display">\[{\cal D}_{tt} x \equiv {\cal D}_t \left[{\cal D}_t x(t)\right] = 2(t+1) + 1 - (2 t + 1) = 2\]</span></p>
<p>Newton considered the problem for continuous time rather than Galileo’s discrete time. He reframed the slope function from the big increments of the slope operator <span class="math inline">\({\cal D}_t\)</span> to imagined vanishingly small increments of a operator that we shall denote <span class="math inline">\(\partial_t\)</span> and call <strong><em>differentiation</em></strong>.</p>
<p>The kind of question for which Newton wanted to be able to calculate the answer was, “How to find the function <span class="math inline">\(x(t)\)</span> whose second increment, <span class="math inline">\(\partial_{tt} x(t) = 2\)</span>?” His approach, which he called the “method of fluxions,” became so important that its name became, simply, “Calculus.”</p>
<h2 id="slopes-and-increments.">
<span class="header-section-number">1.1</span> Slopes and increments.</h2>
<p>The mathematical tools of Newton’s day are the basis of today’s conventional high-school curriculum.<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;Perhaps this says something about how well education has kept up with technology.&lt;/p&gt;"><sup>1</sup></a> We have today completely different tools based on the ability to do arithmetic and function evaluation very quickly with computers. We’re going to use these new tools to explore the problem of relating the slope-function operator <span class="math inline">\({\cal D}_t\)</span> to the differential operator <span class="math inline">\(\partial_t\)</span>. We have the great advantage of being able to look backwards and so can focus on the functions that experience reveals have been the most widely useful: the basic modeling functions.</p>
<p>Our goal in this section is to discover what are the slope functions of our basic modeling functions. Recall that the slope-function operator can be written as a ratio of rise-over-run:
<span class="math display">\[{\cal D}_t x(t) \equiv \frac{x(t+h) - x(t)}{h}\]</span> where <span class="math inline">\(h\)</span> is the length of the “run.” We’ll start with two of the basic modeling functions that have considerable “personality”: the sinusoid (<code><a href="https://rdrr.io/r/base/Trig.html">sin()</a></code>) and the sigmoid (<code><a href="https://rdrr.io/r/stats/Normal.html">pnorm()</a></code>).</p>
<div class="figure">
<span id="fig:sign-sig"></span>
<img src="CalcZ-notes_files/figure-html/sign-sig-1.png" alt="The naked sinusoid and sigmoidal functions. A vertical blue line has been added to mark the input $t=0$" width="50%"><img src="CalcZ-notes_files/figure-html/sign-sig-2.png" alt="The naked sinusoid and sigmoidal functions. A vertical blue line has been added to mark the input $t=0$" width="50%"><p class="caption">
Figure 1.1: The naked sinusoid and sigmoidal functions. A vertical blue line has been added to mark the input <span class="math inline">\(t=0\)</span>
</p>
</div>
<p>We’ll use the computer to construct the slope functions for the sinusoid and sigmoid, which we’ll call <code>Dsin()</code> and <code>Dsigma()</code> respectively.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">Dsin</span>   <span class="op">&lt;-</span> <span class="fu">makeFun</span><span class="op">(</span><span class="op">(</span>  <span class="fu"><a href="https://rdrr.io/r/base/Trig.html">sin</a></span><span class="op">(</span><span class="va">t</span><span class="op">+</span><span class="va">h</span><span class="op">)</span> <span class="op">-</span>   <span class="fu"><a href="https://rdrr.io/r/base/Trig.html">sin</a></span><span class="op">(</span><span class="va">t</span><span class="op">)</span><span class="op">)</span><span class="op">/</span><span class="va">h</span> <span class="op">~</span> <span class="va">t</span>, h<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span>
<span class="va">Dsigma</span> <span class="op">&lt;-</span> <span class="fu">makeFun</span><span class="op">(</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">pnorm</a></span><span class="op">(</span><span class="va">t</span><span class="op">+</span><span class="va">h</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">pnorm</a></span><span class="op">(</span><span class="va">t</span><span class="op">)</span><span class="op">)</span><span class="op">/</span><span class="va">h</span> <span class="op">~</span> <span class="va">t</span>, h<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span></code></pre></div>
<p>In the tilde expression handed to <code>makeFun()</code>, we’ve identified <code>t</code> as the name of the input and given a “small” default value to the <code>h</code> parameter. But R recognizes that both <code>Dsin()</code> and <code>Dsigma()</code> are functions of two variables, <code>t</code> and <code>h</code>, as you can see in the parenthesized argument list for the functions.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">Dsin</span></code></pre></div>
<pre><code>## function (t, h = 0.1) 
## (sin(t + h) - sin(t))/h</code></pre>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">Dsigma</span></code></pre></div>
<pre><code>## function (t, h = 0.1) 
## (pnorm(t + h) - pnorm(t))/h</code></pre>
<p>This is a nuisance, since when using the slope functions we will need always to think about <code>h</code>, a number that we’d like to describe simply as “small,” but for which we always need to provide a numerical value. Let’s look at <code>Dsin()</code> and <code>Dsigma()</code> for a range of values of <code>h</code>, as in Figure <a href="unassigned-exercises.html#fig:sin-sig-many-h">1.2</a>.</p>
<div class="figure">
<span id="fig:sin-sig-many-h"></span>
<img src="CalcZ-notes_files/figure-html/sin-sig-many-h-1.png" alt="The slope functions of the sinusoid and sigmoid. Each curve shows the slope function for a particular numerical choice of `h`. Both panels show $h=2, 1, 0.5, 0.1, 0.01, 0.001, 0.0001, 0.00001, 0.000001$." width="50%"><img src="CalcZ-notes_files/figure-html/sin-sig-many-h-2.png" alt="The slope functions of the sinusoid and sigmoid. Each curve shows the slope function for a particular numerical choice of `h`. Both panels show $h=2, 1, 0.5, 0.1, 0.01, 0.001, 0.0001, 0.00001, 0.000001$." width="50%"><p class="caption">
Figure 1.2: The slope functions of the sinusoid and sigmoid. Each curve shows the slope function for a particular numerical choice of <code>h</code>. Both panels show <span class="math inline">\(h=2, 1, 0.5, 0.1, 0.01, 0.001, 0.0001, 0.00001, 0.000001\)</span>.
</p>
</div>
<p>Some observations from this numerical experiment:</p>
<ol style="list-style-type: decimal">
<li>
<p>As <span class="math inline">\(h\)</span> gets very small, the slope function doesn’t depend on the exact value of <span class="math inline">\(h\)</span>.</p>
<p>This will provide a way for us, eventually, to discard <span class="math inline">\(h\)</span> so that the slope function will not need an <span class="math inline">\(h\)</span> argument.</p>
</li>
<li><p>For small <span class="math inline">\(h\)</span>, we have <span class="math inline">\({\cal D}_t \sin(t) = \sin(t + \pi/2) = \cos(t)\)</span>. That is, taking the slope function of a sinusoid gives another sinusoid, shifted left by <span class="math inline">\(\pi/2\)</span> from the original. Or, in plain words, the cosine is the slope function of the sine.</p></li>
<li><p>For small <span class="math inline">\(h\)</span>, we have <span class="math inline">\({\cal D}_t \text{pnorm}(t) = \text{dnorm(t)}\)</span>. That is, the hump function is the slope function of the sigmoid function.</p></li>
</ol>
<p>You can confirm these last two statements by comparison with the original functions, especially the alignment of the peaks of the slope functions with respect to the peak of the sinusoid and the half-way point of the sigmoid.</p>
<p>Now consider the slope functions of the logarithm and exponential functions.</p>
<div class="figure">
<span id="fig:log-exp-many-h"></span>
<img src="CalcZ-notes_files/figure-html/log-exp-many-h-1.png" alt="The slope functions of the logarithm and exponential." width="50%"><img src="CalcZ-notes_files/figure-html/log-exp-many-h-2.png" alt="The slope functions of the logarithm and exponential." width="50%"><p class="caption">
Figure 1.3: The slope functions of the logarithm and exponential.
</p>
</div>
<p>These numerical experiments with the logarithm and exponential functions are more evidence that, as <span class="math inline">\(h\)</span> gets small, the slope function doesn’t depend on <span class="math inline">\(x\)</span>. And, we find that:</p>
<ul>
<li>For small <span class="math inline">\(h\)</span>, the slope function of the logarithm is a power-law function: <span class="math inline">\({\cal D}_t \ln(t) = \frac{1}{t}\)</span>.</li>
<li>For small <span class="math inline">\(h\)</span>, the slope function of the exponential is the exponential itself: <span class="math inline">\({\cal D}_t e^x = e^x\)</span>.</li>
</ul>
<p>You can confirm these by evaluating the slope function of the exponential at <span class="math inline">\(t=0\)</span> and <span class="math inline">\(t=1\)</span>, and the slope function of the logarithm at <span class="math inline">\(t= 2, 1, 1/2, 1/4, 1/8.\)</span></p>
<p>Such numerical experiments on the other naked modeling functions reveal a pattern: the slope function of the naked modeling functions tend to be similar to other naked modeling functions.</p>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th>name</th>
<th><span class="math inline">\(f(t)\)</span></th>
<th>
<span class="math inline">\({\cal D}_t f(t)\)</span> (for small <span class="math inline">\(h\)</span>)</th>
<th>name of <span class="math inline">\({\cal D_t}f(t)\)</span>
</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>constant fun</td>
<td><span class="math inline">\(f(t) = 1\)</span></td>
<td><span class="math inline">\({\cal D}_t f(t) = 0\)</span></td>
<td>zero function</td>
</tr>
<tr class="even">
<td>proportional</td>
<td><span class="math inline">\(f(x) = x\)</span></td>
<td><span class="math inline">\({\cal D}_t f(t) = 1\)</span></td>
<td>constant</td>
</tr>
<tr class="odd">
<td>exponential</td>
<td><span class="math inline">\(e^t\)</span></td>
<td><span class="math inline">\(e^t\)</span></td>
<td>exponential</td>
</tr>
<tr class="even">
<td>logarithm</td>
<td><span class="math inline">\(\ln(t)\)</span></td>
<td><span class="math inline">\(1/t\)</span></td>
<td>reciprocal (power-law <span class="math inline">\(t^{-1}\)</span>)</td>
</tr>
<tr class="odd">
<td>sinusoid</td>
<td><span class="math inline">\(\sin(t)\)</span></td>
<td><span class="math inline">\(\sin(x + \pi/2) = \cos(t)\)</span></td>
<td>shifted sinusoid</td>
</tr>
<tr class="even">
<td>power-law</td>
<td>
<span class="math inline">\(t^p\)</span> with <span class="math inline">\(p\neq 0\)</span>
</td>
<td><span class="math inline">\(p\,t^{p-1}\)</span></td>
<td>power-law</td>
</tr>
<tr class="odd">
<td>sigmoid</td>
<td><span class="math inline">\(\text{pnorm}(t)\)</span></td>
<td>$(t)</td>
<td>hump</td>
</tr>
</tbody>
</table></div>
<p>With this list of experimentally determined slope functions (for small <span class="math inline">\(h\)</span>) we’re ready to start using slope functions without having to use left-shift combinations like <span class="math inline">\(f(t+h) - f(t)\)</span>.</p>
<h2 id="slopes-and-motion">
<span class="header-section-number">1.1</span> Slopes and motion</h2>
<p>Having worked out a theory of slope functions, Newton was ready to express the laws of motion in continuous time. He did this by expressing position as <span class="math inline">\(x(t)\)</span>, and then familiar concepts velocity and force in terms of slope functions of position and the “quantity of matter,” which we call “mass.”</p>
<ul>
<li>Velocity is the slope function of position: <span class="math inline">\(v(t) \equiv {\cal D}_t x(t)\)</span>.</li>
<li>Net force is the slope function of velocity times mass: <span class="math inline">\(F(t) \equiv m {\cal D}_t v(t)\)</span>
</li>
</ul>
<p>To take mass out of the formulation, we give a name specifically to the slope function of velocity; we call it <strong><em>acceleration</em></strong>.</p>
<ul>
<li>Acceleration is the slope function of velocity: <span class="math inline">\(a(t) \equiv {\cal D}_t v(t)\)</span>.</li>
</ul>
<p>With acceleration as a concept, we can define net force as mass times acceleration.</p>
<div class="why">
<p>We used <strong>net force</strong> as the quantity we related to mass and the slope function of velocity. There are different sources of forces which add up and can cancel out. Famously, Newton formulated the <strong><em>law of universal gravitation</em></strong> which ascribed the force between masses as proportional to the product of the two masses and inversely proportional to the square of the distance between them. But a mass on a table has no net force on it, since the table pushes back (push = force) on the mass to cancel out the force due to gravity. “Net force” takes such cancellation into account.</p>
</div>
<h2 id="differentiation">
<span class="header-section-number">1.1</span> Differentiation</h2>
<p><strong><em>Differentiation</em></strong> is a process of transforming a function to produce another function. There are several traditional notations for differentiation of a function named <span class="math inline">\(f()\)</span>, for instance:</p>
<ul>
<li>Leibnitz: <span class="math inline">\(\frac{df}{dx}\)</span>
</li>
<li>Partial: <span class="math inline">\(\frac{\partial f}{\partial x}\)</span>
</li>
<li>One-line: <span class="math inline">\(\partial_x f\)</span>
</li>
<li>Newton: <span class="math inline">\(\dot{f}\)</span>
</li>
<li>Prime: <span class="math inline">\(f'\)</span>
</li>
</ul>
<p>In this book, we will mainly use the one-line notation, <span class="math inline">\(\partial_x f\)</span>, but it means exactly the same as the Leibnitz and Partial notations, which are much more widely used in textbooks.</p>
<p>If you’ve studied calculus before, you have likely seen the <span class="math inline">\(f'\)</span> notation. This is admirably concise but is only viable in a narrow circumstance: functions that take a single input. What <span class="math inline">\(f'\)</span> leaves out is a means to specify a crucial aspect of differentiation, the <strong>with-respect-to variable</strong>. The general situation for differentiation involves functions of one or more variables, for example, <span class="math inline">\(g(x, y, z)\)</span>. For such functions, you need to specify which is the with-respect-to variable. For instance, we can differentiate <span class="math inline">\(g()\)</span> three different ways, each way incrementing one or another of the three inputs:</p>
<p><span class="math display">\[\partial_z g(x, y, z) \equiv \frac{g(x, y, z+h) - g(x, y, z)}{h}\\ 
\ \\
\partial_x g(x, y, z) \equiv \frac{g(x+h, y, z) - g(x, y, z)}{h}\\ 
\ \\
\partial_y g(x, y, z) \equiv \frac{g(x, y+h, z) - g(x, y, z)}{h}\]</span></p>
<p>At this point in your studies, you haven’t seen why you might choose to differentiate a function with respect to one variable or another. That will come in time. But we want to set you up with notation that won’t narrow your options.</p>
<p>Both the Leibnitz and Partial notations are explicit in identifying the function and the with-respect-to-variable. For example, using the Partial differentiation notation, the three ways of differentiating our example function <span class="math inline">\(g(x, y, z)\)</span> are labeled :</p>
<p><span class="math display">\[\frac{\partial f}{\partial x},\ \ \ \frac{\partial f}{\partial y},\ \ \text{and}\ \ \frac{\partial f}{\partial z}\]</span></p>
<p>Our R/mosaic computer differentiation is longer but explicit:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/stats/deriv.html">D</a></span><span class="op">(</span><span class="fu">g</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, <span class="va">z</span><span class="op">)</span> <span class="op">~</span> <span class="va">x</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/stats/deriv.html">D</a></span><span class="op">(</span><span class="fu">g</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, <span class="va">z</span><span class="op">)</span> <span class="op">~</span> <span class="va">y</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/stats/deriv.html">D</a></span><span class="op">(</span><span class="fu">g</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, <span class="va">z</span><span class="op">)</span> <span class="op">~</span> <span class="va">z</span><span class="op">)</span></code></pre></div>
<p>Notice that the R/mosaic operator is named <code><a href="https://rdrr.io/r/stats/deriv.html">D()</a></code> and that it is a function. It follows the same pattern as <code>makeFun()</code> or <code>slice_plot()</code> or <code>contour_plot()</code>: the first argument is a tilde expression, for instance <code>g(x, y, z) ~ x</code>, which identifies the mathematical function to work with (<code>g()</code>) and the name of the with-respect-to input to that function. The R/mosaic notation makes it clear that differentiation is an <strong><em>operation</em></strong> on a function. The <code><a href="https://rdrr.io/r/stats/deriv.html">D()</a></code> operator takes a function as input and produces as output <strong>another function</strong>. We’ve seen similar behavior with, say, <code>slice_plot()</code>, which takes a function as input and produces graphics as output. Both <code><a href="https://rdrr.io/r/stats/deriv.html">D()</a></code> and <code>slice_plot()</code> need to know the identity of the with-respect-to variable as well as the function to work with. What’s why both pieces of input are packaged into a tilde expression.</p>
<div class="why">
<p>We’re calling <code><a href="https://rdrr.io/r/stats/deriv.html">D()</a></code> an <strong><em>operator</em></strong> rather than a <strong><em>function</em></strong>. The reason is purely for communication with other people. There are so many “functions” in a calculus course that we thought it would be helpful to distinguish between the kinds of functions that take quantities as input and produce a quantity as output, and the functions that take a <em>function</em> as input and produce a <em>function</em> as output. Both sorts are called “functions” in R terminology. But a sentence like, “Differentiation is a function that takes a function as input and produces a function as output,” true though it be, is dizzying.</p>
</div>
<div class="takenote">
<p>It is a fact of mathematical and scientific life that a variety of notations are used for differentiation. To some extent, this reflects historical precedence and, to be honest, nationalistic European politics of the 18th century. To make sense of mathematical writing in the many areas in which calculus is used, you have to recognize all of them for what they are. Your skill will be enhanced if you also memorize the names of the different styles. It’s not all that different from the pattern in English of having multiple words for the same sort of object, for instance: car, automobile, junker, ride, wheels, crate, jalopy, limo, motor car, horseless carriage.</p>
<p>In the days when carriages where pulled by horses, the phrase “horseless carriage” made a useful distinction. Today, when horses are rarely seen on the road, it make sense to trim down the notation to its essentials: ~<del>horseless</del>~ <strong>car</strong>~<del>iage</del>~. Think of <span class="math inline">\(\partial_x\)</span> as this sort of minification.<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;Yes, “minification” is a word!&lt;/p&gt;"><sup>2</sup></a></p>
</div>
<h2 id="using-h">
<span class="header-section-number">1.1</span> Using h</h2>
<p>In working with differentiation, we introduced a quantity <span class="math inline">\(h\)</span> and then ignored it, saying that it doesn’t really matter so long as it is “small.” A reasonable person might wonder what “small” really means, and why we needed to introduce <span class="math inline">\(h\)</span> in the first place if we were eventually going to ignore it.</p>
<p>One reason is that “small” and “zero,” although related, are different. For example, refering to the slope functions <code>Dsin()</code> and <code>Dsigma()</code> that we created in an early example in this chapter, we see that setting <span class="math inline">\(h\)</span> to zero does not get us where we need to be:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">Dsin</span><span class="op">(</span>t<span class="op">=</span><span class="fl">1</span>, h<span class="op">=</span><span class="fl">0</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] NaN</code></pre>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">Dsigma</span><span class="op">(</span>t<span class="op">=</span><span class="fl">0</span>, h<span class="op">=</span><span class="fl">0</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] NaN</code></pre>
<p>In <code>NaN</code>, you can hear the echo of your fourth-grade teacher reminding you that it is illegal to divide by zero.</p>
<p>Think of <span class="math inline">\(h\)</span> as the solvent in paint. You don’t want the solvent once the paint is on the wall; wet paint is a nuisance. But getting the paint from the can to the wall absolutely needs the solvent.</p>
<p>We used the solvent <span class="math inline">\(h\)</span> earlier in the chapter in the numerical experiments that led us to the derivatives of the naked modeling functions, for instance <span class="math inline">\(\partial_x e^x = e^x\)</span> or <span class="math inline">\(\partial_x \sin(x) = \cos(x)\)</span>. Eventually, we’ll construct an <span class="math inline">\(h\)</span>-free theory of differentiation, reducing the process to a set of algebraic rules in which <span class="math inline">\(h\)</span> never appears. With this as our goal, let’s continue using <span class="math inline">\(h\)</span> for a while to find some additional useful facts about derivatives.</p>
<p><strong><em>Linear combination</em></strong> is one of the ways in which we make new functions from existing functions. As you recall, linear combination involves <strong><em>scaling</em></strong> a function and <strong><em>adding</em></strong> the scaled functions. We can easily use <span class="math inline">\(h\)</span> to show what is the result of differentiating a linear combination of functions. We’ll use <span class="math inline">\(f(x)\)</span> and <span class="math inline">\(g(x)\)</span> as the names that could stand for any function whatsoever. And we’ll let <span class="math inline">\(b\)</span> be the name of a scalar. First, let’s figure out what is <span class="math inline">\(\partial_x\, b f(x)\)</span>, Going back to writing <span class="math inline">\(\partial_x\)</span> in terms of a slope function:
<span class="math display">\[\partial_x\, b\,f(x) = \frac{b\, f(x + h) - b\,f(x)}{h}\\
\ \\
= b \frac{f(x+h) - f(x)}{h} = b\, \partial_x f(x)\]</span>
In other words, if we know the derivative <span class="math inline">\(\partial_x\, f(x)\)</span>, we can easily find the derivative of any scaled version of <span class="math inline">\(f()\)</span>.</p>
<p>Now consider the derivative of the sum of two functions, <span class="math inline">\(f(x)\)</span> and <span class="math inline">\(g(x)\)</span>:
<span class="math display">\[\partial_x\, \left[f(x) + g(x)\right] =\\
\ \\
=\frac{\left[f(x + h) + g(x + h)\right] - \left[f(x) + g(x)\right]}{h} = \\
\ \\
= \frac{\left[f(x+h) -f(x)\right] + \left[g(x+h) - g(x)\right]}{h}\\
\ \\
= \frac{\left[f(x+h) -f(x)\right]}{h} + \frac{\left[g(x+h) - g(x)\right]}{h}\\
\ \\
= \partial_x\, f(x) + \partial_x\, g(x)\]</span></p>
<p>Using these two rules together, we can differentiate any linear combination of functions in terms of the differentiated functions themselves:</p>
<p><span class="math display">\[\partial_x\ \left[\strut a_1 g_1(x) + a_2 g_2(x) + a_3 g_3(x) + \cdots\right] =\ \ \ \ \ \ \ \ \ \ \\
\ \\
\ \ \ \ \ \ \ \ \ a_1 \partial_x\, g_1(x) + a_2 \partial_x\, g_2(x) + a_3 \partial_x\, g_3(x) + \cdots\]</span></p>
<p>Because of the way that <span class="math inline">\(\partial_x\)</span> can be “passed through” a linear combination, mathematicians say that differentiation is a <strong><em>linear operator</em></strong>. Consider this new fact about differentiation as a down payment on what will eventually become a complete theory telling us how to differentiate a <strong><em>product of two functions</em></strong> or the <strong><em>composition of two functions</em></strong>.</p>
<p>EXERCISES: Simple drill on this</p>
<h2 id="differencing">
<span class="header-section-number">1.1</span> Differencing</h2>
<p>Our basic tool for showing difference and slope is a remarkably simple operator that takes a function as input. For a function with one input, the operator <span class="math inline">\({\cal D}()\)</span> is defined as
<span class="math display">\[{\cal D}(f) \equiv \frac{f(x + 0.1) - f(x)}{0.1}\]</span>
Notice that the <span class="math inline">\({\cal D}()\)</span> operator returns a <strong>function</strong>. The output is a linear combination of the input function <span class="math inline">\(f()\)</span> and a shifted version of <span class="math inline">\(f()\)</span>.</p>
<p>For a function with two inputs, there are two versions of <span class="math inline">\({\cal D}\)</span>:
<span class="math display">\[{\cal D}_x(f) \equiv \frac{f(x+0.1, y) - f(x, y)}{0.1}\]</span></p>
<p><span class="math display">\[{\cal D}_y(f) \equiv \frac{f(x, y+0.1) - f(x, y)}{0.1}\]</span></p>
<div class="workedexample">
<p>Suppose that <span class="math inline">\(f(x)\equiv x^2\)</span>. What is the function <span class="math inline">\({\cal D}(f)\)</span>?</p>
<p><span class="math display">\[
{\cal D}(f) \equiv \frac{f(x+0.1) - f(x)}{0.1}\\ =
10\left((x+0.1)^2 - x^2\right)\\
=10 x^2 + 2x + 0.1 - 10x^2\\ = 2 x + 0.1\]</span></p>
</div>
<div class="workedexample">
<p>Suppose that <span class="math inline">\(f(x) \equiv 2 x + y\)</span>. Find the function <span class="math inline">\({\cal D_x(f)}\)</span>.</p>
<p>The linear combination will be
<span class="math display">\[\frac{1}{0.1}\left(\left[2 (x + 0.1) + y\right] - \left[2 x + y\right]\right) =\\ \\
20 x + 2 + 10y - \left[20 x - 10y\right] = 2\]</span></p>
</div>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">f</span> <span class="op">&lt;-</span> <span class="fu">makeFun</span><span class="op">(</span><span class="fl">2</span> <span class="op">*</span><span class="va">x</span> <span class="op">*</span> <span class="va">y</span> <span class="op">~</span> <span class="va">x</span> <span class="op">+</span> <span class="va">y</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/stats/deriv.html">D</a></span><span class="op">(</span><span class="fu">f</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span> <span class="op">~</span> <span class="va">x</span><span class="op">)</span></code></pre></div>
<pre><code>## function (x, y) 
## 2 * (y)</code></pre>
<h2 id="instantaneous-rate-of-change">
<span class="header-section-number">1.1</span> Instantaneous rate of change</h2>
<div class="objectives" latex-data="">
<ol>
<li>
<strong>[Deriv-2b]</strong> <em>Distinguish the “average rate of change” from the “instantaneous rate of change”.</em>
</li>
</ol>
</div>
<p>Imagine a graph of the position of a car along a road as in Figure @ref{fig:stop-and-go2}.</p>
<div class="todo">
<p>This graph appears in an exercise in Fun-slopes. What did I intend to prompt with this note. Perhaps a link to Fun-slopes.</p>
</div>
<p>Over the course of an hour, the car travelled about 25 miles. In other words, the <strong><em>average</em></strong> speed is 25 miles/hour: the <em>slope</em> of the red line segment. Given the traffic, sometimes the car was stopped (time C), sometimes crawling (time D) and sometimes much faster than average (time B).</p>
<div class="inline-figure"><img src="CalcZ-notes_files/figure-html/stop-and-go2-1.png" width="672"></div>
<p>The car’s speedometer shows the speed at each moment—or <strong><em>instant</em></strong>—of the trip. As you can see in Figure @ref{fig:stop-and-go}, the speed varies and is sometimes less than the average speed, sometimes greater, and occasionally equal to the average speed over the trip. The general term for the kind of quantity presented by the speedometer is the <strong><em>instantaneous rate of change</em></strong> of the position function with respect to the input to that function.</p>
<p>Figure @ref{fig:instant-speed} shows the instantaneous rate of change of position with respect to time.</p>
<div class="inline-figure">
<img src="CalcZ-notes_files/figure-html/instant-speed-1.png" width="672">
The two graphs in Figures @ref{fig:stop-and-go} and @ref{fig:instant-speed} show exactly the same car trip. The presentation of the data in the different graphs makes it easy to see some things and hard to see others. For instance, figuring out when the car is at a stand-still is harder in the position-vs-time graph than in the speed-vs-time graph. This is very much in the spirit of the sand-furrows example at the start of this chapter: it’s much easier to perceive the furrows because the lighting highlights areas sloping toward the sun as bright and areas sloping away from the sun as dark. In Figure @ref{fig:instant-speed} we’re not using light-and-dark for the display. Instead, we’re showing the instantaneous speed using the vertical axis.</div>
<p>Recall that the interval between <span class="math inline">\(t_B\)</span> and <span class="math inline">\(t_C\)</span> had an <strong><em>average rate of change</em></strong> of about 39 miles-per-hour. Looking at the <strong><em>instantaneous rate of change</em></strong> tells the story differently: at time <span class="math inline">\(t_B\)</span> the car was accelerating to about 60 miles-per-hour. Then it gradually slowed, coming to a stop just before time <span class="math inline">\(t_C\)</span>.</p>
<p>Figure @ref{fig:stop-and-go} shows the function <span class="math inline">\(\mbox{position}(t)\)</span>. Figure @ref{fig:instant-speed} shows a different function, <span class="math inline">\(\mbox{speed}(t)\)</span>. Although the two functions are different, they are intimately related: <span class="math inline">\(\mbox{speed}(t)\)</span> is the <strong><em>instantaneous rate of change</em></strong> of <span class="math inline">\(\mbox{position}(t)\)</span>.</p>
<p>Two central operations in calculus are:</p>
<ol style="list-style-type: decimal">
<li>Given a function <span class="math inline">\(f(t)\)</span>, find the function <span class="math inline">\(g(t)\)</span> giving the instantaneous rate of change of <span class="math inline">\(f()\)</span>. This process of deriving <span class="math inline">\(g(t)\)</span> from <span class="math inline">\(f(t)\)</span> is called <strong><em>differentiation</em></strong>.</li>
<li>Given a function <span class="math inline">\(g(t)\)</span>, find the <span class="math inline">\(f(t)\)</span> of which <span class="math inline">\(g(t)\)</span> is the instantaneous rate of change. This process of finding <span class="math inline">\(f()\)</span> given <span class="math inline">\(g()\)</span> is called <strong><em>anti-differentiation</em></strong>.</li>
</ol>
<div class="workedexample" latex-data="">
<p>The context of the situation being modeled determines whether it’s appropriate to look at an average rate of change or an instantaneous rate of change. Figure @ref{fig:instant-tree} shows the instantaneous rate of change in the volume of wood.</p>
<p><img src="CalcZ-notes_files/figure-html/instant-tree-1.png" width="672">
It’s tempting to look to the year where the growth rate is highest as the optimal harvest year. This is a mistake. The volume of wood being harvested is the <strong><em>accumulated growth</em></strong> not the instantaneous growth. Even though the instantaneous growth is higher at year 23 than year 30, it’s still pretty high at year 30 and waiting until then (or later) accumates those years of higher-than-average growth. That’s why the <strong><em>average rate of growth</em></strong> is a better thing to look at to determine optimal harvest time. Still, is it the right thing to look at?</p>
<p>Between year 30 and 32, there is hardly any change in the value of the average-rate-of-change function. It’s increasing a little, but is it really worthwhile to wait? One argument is that at year 29 you already have a valuable resource: wood that could be money in the bank. If the money were in the bank, you could invest it and earn more money <em>and</em> at the same time get a new seedling in the ground to start its growth. You’re doing two things at once. Efficient!</p>
<p>To know what is the best year for harvest from this point of view, you want to calculate the effective “interest rate” on the present amount of wood that you earn in the form of new wood. That interest rate is the ratio of the <em>instantaneous</em> rate of growth of new wood divided by the amount of existing wood. Figure @ref{fig:tree-interest} shows this function:</p>
<div class="inline-figure">
<img src="CalcZ-notes_files/figure-html/tree-interest-1.png" width="672">
Early in the tree’s life, the growth is high compared to the volume of the tree. That’s because the tree is small. As the years pass, the tree gets bigger. Even though the rate of growth increases through year 23, the accumulated volume increases even faster, so there is a fall in the rate of return.</div>
<p>The best time to harvest is when the annual “interest rate” paid by the growing tree falls to the level of the next best available investment. Suppose that investment would pay 10% per year. Then harvest the tree at year 24. If the next best investment paid only 5% (blue horizontal line), the harvest should be made at about year 29.</p>
</div>

<h1 id="h-and-derivatives">
<span class="header-section-number">1.1</span> h and derivatives</h1>
<p>We already established, by numerical experiment, the result of differentiating the naked modelings functions. To summarize,</p>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th>name</th>
<th><span class="math inline">\(f(t)\)</span></th>
<th>
<span class="math inline">\({\cal D}_t f(t)\)</span> (for small <span class="math inline">\(h\)</span>)</th>
<th>name of <span class="math inline">\({\cal D_t}f(t)\)</span>
</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>constant fun</td>
<td><span class="math inline">\(f(t) = 1\)</span></td>
<td><span class="math inline">\({\cal D}_t f(t) = 0\)</span></td>
<td>zero function</td>
</tr>
<tr class="even">
<td>proportional</td>
<td><span class="math inline">\(f(x) = x\)</span></td>
<td><span class="math inline">\({\cal D}_t f(t) = 1\)</span></td>
<td>constant</td>
</tr>
<tr class="odd">
<td>exponential</td>
<td><span class="math inline">\(e^t\)</span></td>
<td><span class="math inline">\(e^t\)</span></td>
<td>exponential</td>
</tr>
<tr class="even">
<td>logarithm</td>
<td><span class="math inline">\(\ln(t)\)</span></td>
<td><span class="math inline">\(1/t\)</span></td>
<td>reciprocal (power-law <span class="math inline">\(t^{-1}\)</span>)</td>
</tr>
<tr class="odd">
<td>sinusoid</td>
<td><span class="math inline">\(\sin(t)\)</span></td>
<td><span class="math inline">\(\sin(x + \pi/2) = \cos(t)\)</span></td>
<td>shifted sinusoid</td>
</tr>
<tr class="even">
<td>power-law</td>
<td>
<span class="math inline">\(t^p\)</span> with <span class="math inline">\(p\neq 0\)</span>
</td>
<td><span class="math inline">\(p\,t^{p-1}\)</span></td>
<td>power-law</td>
</tr>
<tr class="odd">
<td>sigmoid</td>
<td><span class="math inline">\(\text{pnorm}(t)\)</span></td>
<td>$(t)</td>
<td>hump</td>
</tr>
</tbody>
</table></div>
<p>A mathematician might prefer to replace the word “established” in the first sentence of this table with a weaker word “motivated” or “proposed.” This is entirely fair. Indeed, let’s do another experiment that will cause us to wonder just how solid are the conclusions presented in the table above.</p>
<p>Recall that we can easily define the slope function for any <span class="math inline">\(f(x)\)</span>, for example the slope function of <span class="math inline">\(\sin(x)\)</span>:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">Dsin</span> <span class="op">&lt;-</span> <span class="fu">makeFun</span><span class="op">(</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Trig.html">sin</a></span><span class="op">(</span><span class="va">x</span><span class="op">+</span><span class="va">h</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/Trig.html">sin</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span><span class="op">/</span><span class="va">h</span>  <span class="op">~</span> <span class="va">x</span><span class="op">)</span></code></pre></div>
<p>In justifying the entry for <span class="math inline">\(\sin()\)</span> in the table, we plotted <code>Dsin()</code> using small <code>h</code>, for instance, <code>h=0.000001</code>. It would be comforting to continue the experiment with even smaller <code>h</code>. Doing so, we discover a problem.</p>
<div class="figure">
<span id="fig:Dsin-small-h"></span>
<img src="CalcZ-notes_files/figure-html/Dsin-small-h-1.png" alt="Graphing the slope function of $\sin(x)$ for small enough $h$ produces a result inconsistent with the table for the naked modeling functions. Instead of producing a $\cos(x)$, we get a ragged function." width="672"><p class="caption">
Figure 1.4: Graphing the slope function of <span class="math inline">\(\sin(x)\)</span> for small enough <span class="math inline">\(h\)</span> produces a result inconsistent with the table for the naked modeling functions. Instead of producing a <span class="math inline">\(\cos(x)\)</span>, we get a ragged function.
</p>
</div>
<p>Things get even worse for smaller <span class="math inline">\(h\)</span> still, as you can confirm for yourself using a computing sandbox.</p>
<p>It turns out that the reason for this behavior is the way in which computer arithmetic has been engineered. To demonstrate the non-mathematical behavior of computer arithmetic, consider what happens when we add and subtract using 1 and a number that is small compared to 1.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>digits<span class="op">=</span><span class="fl">20</span><span class="op">)</span>
<span class="fl">0.000000000000000000000001</span></code></pre></div>
<pre><code>## [1] 9.999999999999999237e-25</code></pre>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">1</span> <span class="op">+</span> <span class="fl">0.000000000000000000000001</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">1</span> <span class="op">-</span> <span class="fl">0.000000000000000000000001</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">1</span> <span class="op">+</span> <span class="fl">0.000000000000000000000001</span> <span class="op">-</span> <span class="fl">1</span></code></pre></div>
<pre><code>## [1] 0</code></pre>
<p>Using technical computing successfully at a professional level requires some understanding of the ways in which computer arithmetic differs from mathematical arithmetic, And the R/mosaic <code><a href="https://rdrr.io/r/stats/deriv.html">D()</a></code> operator has been constructed with these considerations in mind. But our purpose here is not to push the computer beyond it’s arithmetic limits but to demonstrate that the differentiation table for the naked modeling functions is correct.</p>
<h2 id="the-h-framework">
<span class="header-section-number">1.1</span> The <span class="math inline">\(h\)</span> framework</h2>
<p>In the end, all of the work we’re going to do with <span class="math inline">\(h\)</span> will have a simple result: confirming the facts presented in the differentiation table. In a court of law, that confirmation could be established by appeal to established authority. For instance, look in any calculus textbook and you’ll see the same facts as in the table. (And if you find an exception, you can be sure it’s a typographical error!)</p>
<p>For most people, mathematical proof is not much different from appealing to established authority. Not everyone is skilled at following the deductive steps of a proof and almost everyone has been tricked into accepting a step that is not logically valid. And everyone makes mistakes.</p>
<p>For the benefit of such people, rather than proving the facts in the differentiation table, we’re going to reconstruct, hopefully in a fun way, the framework developed by the mathematics community over roughly two centuries that enabled mathematicians to satisfy themselves that the methods used by the pioneers could be justified beyond doubt.</p>
<p>The basic problem, which everyone always agreed on, is that it’s not proper to set <span class="math inline">\(h\)</span> to zero. The dispute is about how to handle <span class="math inline">\(h\)</span> in such a way that it can be held non-zero and yet give results where <span class="math inline">\(h\)</span> has evaporated as if it were never there.</p>
<p>To illustrate how this can be done, consider the algebra of the slope function for <span class="math inline">\(g(x) \equiv x\)</span>:</p>
<p><span class="math display">\[{\cal D}_x g(x) \equiv \frac{g(x+h) - g(x)}{h} = \frac{(x+h) - x}{h} = \frac{h}{h} = 1\]</span>
The above steps are completely justified for any <span class="math inline">\(h\)</span> whatsoever, so long as <span class="math inline">\(h \neq 0\)</span>. So we have a formula <span class="math inline">\({\cal D}_x\, x = 1\)</span> which will be correct no matter whether <span class="math inline">\(h\)</span> is big or small.</p>
<p>In contrast, consider the slope function of <span class="math inline">\(f(x) \equiv x^2\)</span>:
<span class="math display">\[{\cal D}_x f(x) \equiv \frac{f(x+h) - f(x)}{h} = \frac{(x+h)^2 -x^2}{h} = \\
\ \\
= \frac{x^2 + 2hx + h^2 - x^2}{h} = \frac{2 h x + h^2}{h} = 2 x + h\]</span>
Again, we have a formula which is correct for any <span class="math inline">\(h\)</span> whatsoever, so long as <span class="math inline">\(h\)</span> is not zero. Unfortunately, <span class="math inline">\(h\)</span> is still present in the formula. In differentiating <span class="math inline">\(x^2\)</span> we want to make <span class="math inline">\(h\)</span> go away.</p>
<p>I like to think of <span class="math inline">\(h\)</span> as a kind of <em>tire iron</em>, a small tool used to stretch the bead of a bicycle tire in order to pull it over the wheel rim.</p>
<div class="figure" style="text-align: center">
<span id="fig:unnamed-chunk-38"></span>
<img src="www/tire-iron.png" alt="A tire iron in use" width="30%"><p class="caption">
Figure 1.5: A tire iron in use
</p>
</div>
<p>Once the tire iron has done its job, its removed and you would never know that it was ever there (except that the tire is now successfully mounted on the wheel).</p>
<p>But this is calculus, not bicycle mechanics. How do we know that removing the tire iron isn’t damaging the mathematical wheel?</p>
<p>Still in the spirit of having fun, let’s try a more serious metaphor… imagining <span class="math inline">\(h\)</span> is actually a central character in a calculus play. The character <span class="math inline">\(h\)</span> is in the middle of the story but <em>never appears in the play</em>, like the missing character Godot in the famous play <em><a href="https://en.wikipedia.org/wiki/Waiting_for_Godot#Godot">Waiting for Godot</a></em>.</p>
<p>We said that <span class="math inline">\(h\)</span> in the slope function <span class="math inline">\({\cal D}_x x^2 = 2 x + h\)</span>, so long as <span class="math inline">\(h\)</span> is small, plays both a central role and has hardly any effect. An economizing director re-writes the play to take <span class="math inline">\(h\)</span> out of it, setting <span class="math inline">\(h=0\)</span> in the formula <span class="math inline">\(2 x + h\)</span>: a non-speaking, offstage role.</p>
<p>We’ve already seen using legitimate algebra that <span class="math display">\[{\cal D}_x g(x) = 2 x + h\]</span> Re-writing by replacing <span class="math inline">\(h\)</span> with 0 streamlines the play, turning <span class="math inline">\({\cal D}_x x^2 = 2x +h\)</span> from a dialog involving both <span class="math inline">\(x\)</span> and <span class="math inline">\(h\)</span> into a monologue with <span class="math inline">\(h\)</span> absent: <span class="math display">\[\partial_x x^2 = 2 x\]</span> Simple.</p>
<p>And yet … the director gets a letter from the Bit Players Union.</p>
<blockquote>
<p><em>We observe that you have eliminated the role of <span class="math inline">\(h\)</span> in the final production version of <span class="math inline">\(\partial_x g(x)\)</span>. This is a violation of Union regulations. Recall that the basis for <span class="math inline">\(\partial_x g(x)\)</span> is the slope function <span class="math inline">\({\cal D}_x g(x)\)</span>. The slope function is defined as a ratio: <span class="math display">\[{\cal D}_x g(x) \equiv \frac{g(x+h) - g(x)}{h}\]</span> Eliminating <span class="math inline">\(h\)</span> entirely by replacing her with zero is a <strong>division by zero error</strong> forbidden by Article 3.16§B¶2 of the Unified Laws of Arithmetic. We ask that you comply with this Article by re-instating the role of <span class="math inline">\(h\)</span> in all evaluations of <span class="math inline">\({\cal D} g(x)\)</span>.</em></p>
</blockquote>
<p>Reading this, the director calls her lawyer. Is there a loophole for removing <span class="math inline">\(h\)</span> without breaking the mathematical prohibition on dividing by zero?</p>
<div class="forinstructor" latex-data="">
<p>In 1734, famous philosopher <a href="https://en.wikipedia.org/wiki/George_Berkeley">George Berkeley</a> (1685-1753) published a long-titled book: <em>The Analyst: A Discourse Addressed to an Infidel Mathematician: Wherein It Is Examined Whether the Object, Principles, and Inferences of the Modern Analysis Are More Distinctly Conceived, or More Evidently Deduced, Than Religious Mysteries and Points of Faith</em>. In <em>The Analyst</em>, Berkeley took issue with the arguments of that time that it is legitimate to divide by <span class="math inline">\(h\)</span> when, ultimately, <span class="math inline">\(h\)</span> will be replaced by zero. Calling <span class="math inline">\(h\)</span> an “evanescent increment,” he asked,</p>
<blockquote>
<p><em>“And what are these same evanescent Increments? They are neither finite Quantities nor Quantities infinitely small, nor yet nothing. May we not call them the ghosts of departed quantities?”</em></p>
</blockquote>
<p>Interesting, Berkeley believed that the ghost of <span class="math inline">\(h\)</span> yielded correct results. His objection was that the framers of calculus had made two, canceling errors.</p>
<blockquote>
<p><em>“[B]y virtue of a two fold mistake you arrive, though not at science, yet truth.”</em></p>
</blockquote>
<p>Berkeley was saying that calculus had not yet been put on a solid logical foundation. It was to be more than a century after Berkeley’s death until this work was accomplished. Once accomplished, the results that had been claimed true all along were confirmed.</p>
</div>
<p>The loophole involves a bit of legalistic cover, something like a corporation. As you may know, a corporation is a legal structure that makes if feasible for people to invest without being subject to unlimited liability. You bought stock in a company that later accidentally caused a catastrophe? The company will go out of business and your stock will be worthless. But you are legally obliged to fix the damage: you liability is limited. Such companies identify themselves as such with the legal suffix “Inc.” and they are beholden to the state in certain ways, such as the requirement to pay taxes on profits.</p>
<p>In calculus, the equivalent of “Inc” is <span class="math inline">\(\lim_{h \rightarrow 0}\)</span>. By prepending this to a calculation, you are allowed to carry out arithmetic operations such as dividing by <span class="math inline">\(h\)</span> without concern about liability for dividing by zero. You can perform any algebraic operations so long as they are legitimate when <span class="math inline">\(h \neq 0\)</span>. For instance, it is taken as entirely correct to say:</p>
<p><span class="math display">\[\lim_{h\rightarrow 0}\frac{h}{h} = 1\]</span>
Another privilege for the users of <span class="math inline">\(\lim_{h\rightarrow 0}\)</span> is that, at the end of the algebraic derivation, they are entitled to replace <span class="math inline">\(h\)</span> with zero so long as no divide by zero is required. The endpoint of the above is 1, where <span class="math inline">\(h\)</span> doesn’t even appear. But consider
<span class="math display">\[\lim_{h \rightarrow 0} \frac{(x + h)^2 - x^2}{h} = \\
\ \\
= \lim{h \rightarrow 0} 2 x + h\]</span></p>
<p>In the last step, an <span class="math inline">\(h\)</span> appears. But we are entitled to take the result of the derivation, <span class="math inline">\(2 x + h\)</span>, and replace the <span class="math inline">\(h\)</span> by zero. Doing so doesn’t entail any illegitimate operation such as dividing by zero.</p>
<p>At it’s most basic, you’re entitled to state <span class="math display">\[\lim_{h\rightarrow 0} h = 0\]</span> which, to be honest, looks like nothing more than common sense.</p>
<h2 id="approximations-to-naked-modeling-functions">
<span class="header-section-number">1.1</span> Approximations to naked modeling functions</h2>
<p>Let’s take a close look at two of our naked modeling functions: <span class="math inline">\(e^x\)</span> and <span class="math inline">\(\sin(x)\)</span>. By “close” I mean very near to <span class="math inline">\(x=0\)</span>. You already know that <span class="math inline">\(e^0 = 1\)</span> and <span class="math inline">\(\sin(0) = 0\)</span>. But consider “very small” <span class="math inline">\(x\)</span>, in the spirit of <span class="math inline">\(\lim_{x\rightarrow 0}\)</span>.</p>
<p>The fundamental approximations are these:</p>
<p><span class="math display">\[e^x \approx 1 + x\\
\ \\
\sin(x) \approx x\\
\ \\
\cos(x) \approx 1 - x^2\]</span></p>
<p>Figure @ref(fig:small-x-naked} shows the naked functions along with the approximations. We’re interested in “small” <span class="math inline">\(x\)</span>. The left panel shows the functions for <span class="math inline">\(-1 \leq x \leq 1\)</span> and the right panel zooms in for small <span class="math inline">\(x\)</span>, taking “small” in an arbitrary but everyday sense of, say, less than 0.01.</p>
<div class="figure">
<span id="fig:small-x-naked"></span>
<img src="CalcZ-notes_files/figure-html/small-x-naked-1.png" alt="Comparing the naked modeling functions exp(x), sin(x), and cos(x) to their simple approximations for small x. The functions are drawn as a broad gray line; the approximations are a thin blue line." width="50%"><img src="CalcZ-notes_files/figure-html/small-x-naked-2.png" alt="Comparing the naked modeling functions exp(x), sin(x), and cos(x) to their simple approximations for small x. The functions are drawn as a broad gray line; the approximations are a thin blue line." width="50%"><img src="CalcZ-notes_files/figure-html/small-x-naked-3.png" alt="Comparing the naked modeling functions exp(x), sin(x), and cos(x) to their simple approximations for small x. The functions are drawn as a broad gray line; the approximations are a thin blue line." width="50%"><img src="CalcZ-notes_files/figure-html/small-x-naked-4.png" alt="Comparing the naked modeling functions exp(x), sin(x), and cos(x) to their simple approximations for small x. The functions are drawn as a broad gray line; the approximations are a thin blue line." width="50%"><img src="CalcZ-notes_files/figure-html/small-x-naked-5.png" alt="Comparing the naked modeling functions exp(x), sin(x), and cos(x) to their simple approximations for small x. The functions are drawn as a broad gray line; the approximations are a thin blue line." width="50%"><img src="CalcZ-notes_files/figure-html/small-x-naked-6.png" alt="Comparing the naked modeling functions exp(x), sin(x), and cos(x) to their simple approximations for small x. The functions are drawn as a broad gray line; the approximations are a thin blue line." width="50%"><p class="caption">
Figure 1.6: Comparing the naked modeling functions exp(x), sin(x), and cos(x) to their simple approximations for small x. The functions are drawn as a broad gray line; the approximations are a thin blue line.
</p>
</div>
<p>Near <span class="math inline">\(x=0\)</span>, the graph of the approximation is dead on center of the corresponding naked modeling function.</p>
<p>The approximations will break down for very small <span class="math inline">\(x\)</span> because none of the approximations involve dividing by <span class="math inline">\(x\)</span>. And remember that the approximations are only good when <span class="math inline">\(x\)</span> is small!</p>
<p>Consider the result of differentiating <span class="math inline">\(e^x\)</span>. The slope function is</p>
<p><span class="math display">\[{\cal D}_x e^x \equiv \frac{e^{x+h} - e^x}{h} = e^x \left[\frac{e^h - 1}{h}\right]\]</span>
Let’s examine <span class="math inline">\(\frac{e^h - 1}{h}\)</span> for very small <span class="math inline">\(h\)</span>. This is where we will use the approximation for <span class="math inline">\(e^x\)</span>, but we’ll write it with <span class="math inline">\(h\)</span> as the argument: <span class="math inline">\(e^h \approx 1 + h\)</span>. Plugging this in to the bracketed quantity, we have <span class="math display">\[\lim_{h \rightarrow 0}\frac{e^h - 1}{h} = \lim_{h\rightarrow 0}\frac{1 + h - 1}{h} = 1\]</span> Overall, this means <span class="math display">\[\partial_x e^x = \lim_{h\rightarrow 0}{\cal D}_x e^x = e^x\]</span></p>
<p>Now to demonstrate that <span class="math inline">\(\partial_x \sin(x) = \cos(x)\)</span> a fact that is often used in calculus. Only calculus teachers need to know how to perform this demonstration, so the following is just FYI:.</p>
<p>The demonstration builds on a formula for the sine of the sum of two quantities:</p>
<p><span class="math display">\[\sin(x + h) = \sin(x)\cos(h) + \cos(x)\sin(h)\]</span></p>
<p>With this, we can simplify the slope function of <span class="math inline">\(\sin\)</span>:
<span class="math display">\[{\cal D}_x \sin(x) \equiv \frac{\sin(x+h) - \sin(x)}{h} =\\
\ \\
= \frac{1}{h} \left[\strut\sin(x)\cos(h) + \cos(x)\sin(h) - \sin(x) \right]\\
\ \\
= \frac{1}{h} \left[\strut \sin(x) \left[\cos(h) -1\right] + \cos(x)\sin(h)\right]\]</span>
Plugging in the approximations <span class="math inline">\(\sin(h) = h\)</span> and <span class="math inline">\(\cos(h) = 1 - h^2\)</span> we get
<span class="math display">\[{\cal D}_x \sin(x) = \frac{1}{h} \left[\strut\sin(x)(- h^2)  +\cos(x)h\right] = \\
\ \\
= \cos(x) - h \sin(x)\]</span>
With the division by <span class="math inline">\(h\)</span> safely removed, we cn now apply the limit:
<span class="math display">\[\partial_x \sin(x) = \lim_{h\rightarrow 0} \left[\strut \cos(x) - h \sin(x)\right] = \cos(x) - \sin(x) \left[\lim_{h\rightarrow 0}h\right] = \cos(x)\]</span></p>
<div class="takenote">
<p>We write the differentiation operator (with respect to input <span class="math inline">\(x\)</span>) as <span class="math inline">\(\partial_x\)</span>. We wrote the slope-function operator (again, with respect to <span class="math inline">\(x\)</span>) as <span class="math inline">\({\cal D}_x\)</span>.</p>
<p>The slope-function operator <span class="math inline">\({\cal D}_x\)</span> is only a stepping stone on the path toward the real destination: differentiation. We’re defining differentiation as a limit:</p>
<p><span class="math display">\[\partial_x\, f(x) \equiv \lim_{h\rightarrow 0} {\cal D}_x\, f(x)\]</span>
In practice, however, we perform differentiation whenever possible not with the limit definition, but with the <em>consequences</em> of the limit definition, such as <span class="math inline">\(\partial_x e^x = e^x\)</span> or <span class="math inline">\(\partial_x \sin(x) = \cos(x)\)</span>. Sometimes these consequences are called the <strong><em>rules of differentiation</em></strong>. These rules are important particularly for carrying out differentiation using paper and pencil, but if a computer is available, the rules have been mastered for you by software. Since such software is widely available, we’re going to step away from them for a bit. The next chapters present some of the uses for differentiation and contexts in which differentiation is used in constructing new modeling functions.</p>
</div>

<h1 id="optim-and-shape">
<span class="header-section-number">1.1</span> Optimization</h1>
<p>To “optimize” means to make something as good as possible with the available resources. Optimization problems are common in science, logistics, industry, and any other area where one seeks the best solution to a problem. Some everyday examples:</p>
<ul>
<li>How much salt to add to a stew. Stews can be too salty, or they can be not salty enough. Somewhere in the middle is the optimum.</li>
<li>When to harvest trees being grown for lumber. Harvest too soon and you might be losing out on the prime growing years. Wait too long and trees will have settled in to slow growth, if any.</li>
<li>Walking up too steep a slope is tiring and slows you down; that’s why hiking trails have switchbacks. When the switchbacks are too shallow, it takes a long time to cover the distance. What’s the most efficient angle to enable hikers to get up the hill in the shortest time.</li>
</ul>
<h2 id="structure-of-problem">
<span class="header-section-number">1.1</span> Structure of problem</h2>
<p>In an optimization problem, there is one or more input quantity whose value you have to choose. The amount of salt; the years to wait from planting to harvesting a tree; the angle of the trail with respect to the slope. We’ll call this the <strong><em>decision quantity</em></strong>.</p>
<p>Similarly, there is one or more output quantity that you value and want to make as good as possible. The taste of the stew; the income produced by selling the lumber; the time it takes to walk up the hill. The output quantity is called the <strong><em>objective</em></strong>.</p>
<p>The model that relates to inputs to the objective output is called the <strong><em>objective function</em></strong>. Solving an optimization problem—once the modeling phase is complete—amounts to finding a value for the decision quantity (the input to the objective function) that produces the best level of the objective (the output from the objective function).</p>
<p>Sometimes the objective is something that you want to <strong><em>minimize</em></strong>, make as small as possible. In the hiking trail problem, we seek to minimize the amount of time it takes to walk up the trail. Sometimes you want to <strong><em>maximize</em></strong> the objective, as in the wood-harvest problem where the objective is to harvest the most wood per year.</p>
<p>Mathematically, maximization and minimization are the same thing. Every minimization problem can be turned into a maximization problem by putting a negative sign in front of the objective function. To simplify the discussion, in talking about finding the solution to an optimization problem we’ll imagine that the goal is to maximize. But keep in mind that many circumstances in the real world, “best” can mean to minimization.</p>
<p>The solution you seek in a maximization problem is called the <strong><em>argmax</em></strong>. This is a contraction of two words: the <em>argument</em> (that is, input) that produces the <em>maximum</em> output. (For minimization, the solution is the ***argmin.)</p>
<p>Once you have found the argmax you can plug that value into the objective function to find the value of the output. That value is the <strong><em>maximum</em></strong>.</p>
<div class="takenote">
<p>People often talk about “finding the maximum.” This is misleading. The setup for an optimization problem is:</p>
<ol style="list-style-type: decimal">
<li>Construct (that is, model) the objective function.</li>
<li>Now that you know the objective function, find the input to that function—that is, the <strong>argmax</strong>—that produces the maximum output.</li>
</ol>
</div>
<p>To illustrate the setup of an optimization problem, imagine yourself in the situation of a contest to see who can shoot a tennis ball the farthest into a field with a slingshot. During the contest, you will adjust the vertical angle of launch, place the ball into the slingshot’s cradle, pull back as far as possible, and let go. To win the contest, you need to optimize how you launch the ball.</p>
<p>The objective is the distance travelled by the ball. For simplicity, we’ll imagine that the velocity of the ball at release is fixed at <span class="math inline">\(v_0\)</span>. You’ll win or lose based on the angle of launch you choose.</p>
<p>Before you head out into the field to experiment, let’s do a bit of preparation. We’ll model how far the ball will travel (horizontally) as a function of the angle of launch <span class="math inline">\(\theta\)</span> and the initial velocity <span class="math inline">\(v_0\)</span>.</p>
<p>The mathematics of such problems involves an area called <strong><em>differential equations</em></strong>, an important part of calculus which we’ll come to later in the course. Since you don’t have the tools yet, we’ll just state a simple model of how long the ball stays in the air.
<span class="math display">\[\text{duration}(v_0, \theta) = 2 v_0 \sin(\theta)/g\]</span> <span class="math inline">\(g\)</span> is the acceleration due to gravity, which is about <span class="math inline">\(9.8 \text{m}\text{s}^{-2}\)</span>, assuming that the contest is being held on Earth.</p>
<p>The horizontal distance travelled by the tennis ball will be <span class="math display">\[\text{hdist}(v_0, \theta) = \cos(\theta) v_0\, \text{duration}(v_0, \theta) = 2 v_0^2 \cos(\theta)\sin(\theta) / g\]</span>
Our objective function is hdist(), and we seek to find the argmax. The input <span class="math inline">\(v_0\)</span> is (we have assumed) fixed, so the decision quantity is the angle <span class="math inline">\(\theta\)</span>.</p>
<p>The best choice of <span class="math inline">\(\theta\)</span> will make the quantity <span class="math inline">\(\cos(\theta)\sin(\theta)\)</span> as large as possible. So in finding the argmax, we don’t need to be concerned with <span class="math inline">\(v_0\)</span> or <span class="math inline">\(g\)</span>.</p>
<p>Finding the argmax can be accomplished simply by plotting the function <span class="math inline">\(\cos(\theta)\sin(\theta)\)</span>. We’ll implement the function so that the input is in units of <em>degrees</em>.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">f</span> <span class="op">&lt;-</span> <span class="fu">makeFun</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Trig.html">cos</a></span><span class="op">(</span><span class="va">pi</span><span class="op">*</span><span class="va">theta</span><span class="op">/</span><span class="fl">180</span><span class="op">)</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/Trig.html">sin</a></span><span class="op">(</span><span class="va">pi</span><span class="op">*</span><span class="va">theta</span><span class="op">/</span><span class="fl">180</span><span class="op">)</span> <span class="op">~</span> <span class="va">theta</span><span class="op">)</span>
<span class="fu">slice_plot</span><span class="op">(</span><span class="fu">f</span><span class="op">(</span><span class="va">theta</span><span class="op">)</span> <span class="op">~</span> <span class="va">theta</span>, <span class="fu">domain</span><span class="op">(</span>theta<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">90</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="fu">slice_plot</span><span class="op">(</span><span class="fu">f</span><span class="op">(</span><span class="va">theta</span><span class="op">)</span> <span class="op">~</span> <span class="va">theta</span>, <span class="fu">domain</span><span class="op">(</span>theta <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">40</span>, <span class="fl">50</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="figure">
<span id="fig:ball-theta"></span>
<img src="CalcZ-notes_files/figure-html/ball-theta-1.png" alt="The distance travelled by a ball launched at an angle of $\theta$$, according to the simple model is duration of flight and distance travelled." width="672"><img src="CalcZ-notes_files/figure-html/ball-theta-2.png" alt="The distance travelled by a ball launched at an angle of $\theta$$, according to the simple model is duration of flight and distance travelled." width="672"><p class="caption">
Figure 1.7: The distance travelled by a ball launched at an angle of <span class="math inline">\(\theta\)</span>$, according to the simple model is duration of flight and distance travelled.
</p>
</div>
<p>From the graph, especially the zoomed-in version, you can read off the argmax as <span class="math inline">\(\theta = 45^\circ\)</span>.</p>
<p>Finding the argmax solves the problem. You may also want to present your solution by saying what the value of the output of hdist() is when the argmax is given as input. You can read off the graph that the maximum of <span class="math inline">\(\cos(\theta)\sin(\theta)\)</span> is 0.5 at <span class="math inline">\(\theta = 45^\circ\)</span>, so overall the distance will be <span class="math inline">\(v_0^2 / g\)</span></p>
</div>
<p>Review Exercise: What is the dimension of <span class="math inline">\(v_0^2 / g\)</span>?</p>
<h2 id="interpreting-the-argmax">
<span class="header-section-number">1.1</span> Interpreting the argmax</h2>
<p>The graphical solution given to the slingshot problem is entirely satisfactory. Whether that solution will win the contest depends of course on whether the model we built for the objective function is correct. There are potentially important things we have left out, such as air resistence.</p>
<p>Solving the optimization problem has prepared us to go out in the field and test the result. Perhaps we’ll find that the real-world optimum angle is somewhat steeper or shallower than <span class="math inline">\(\theta = 45^\circ\)</span>.</p>
<p>Besides the argmax, another important quantity to read from the graph in Figure <a href="unassigned-exercises.html#fig:ball-theta">1.7</a> is the <strong><em>precision</em></strong> of the argmax. In strict mathematical terms, the argmax is exactly 45 degrees. But in practical terms, it may not matter so much to the outcome if we are a little away from <span class="math inline">\(45^\circ\)</span>. For example, according to the model, any angle in the range <span class="math inline">\(40^\circ &lt; \theta &lt; 50^\circ\)</span> would produce an output that is within 1% of the distance reached at the argmax.</p>
<p>Contests are won or lost by margins of less than 1%, so you should not casually deviate from the argmax. On the other hand, <span class="math inline">\(45^\circ\)</span> is the argmax of the <em>model</em>. Reality may deviate from the model. For instance, suppose that air resistance or wind might might have an effect of about 1% on the distance. You can expect that such factors might change the optimal angle by as much or more than <span class="math inline">\(\pm 5^\circ\)</span>.</p>
<h2 id="derivative-and-optimization">
<span class="header-section-number">1.1</span> Derivative and optimization</h2>
<p>We’re now going to reframe the search for the argmax and it’s interpretation in terms of derivatives of the objective function with respect to the decision quantity (<span class="math inline">\(\theta\)</span> in the slingshot problem). For a function of one variable, this will not be an improvement from the look-at-the-graph technique to find the argmax. A genuine reason to use derivatives is to set us up in the future to solve problems with more than one variable, where it is hard to draw or interpret a graph. Also, describing functions in the language of derivatives can help us think more clearly about aspects of the problem, such as the precision of the argmax.</p>
<p>With a graph such as Figure <a href="unassigned-exercises.html#fig:ball-theta">1.7</a>, it’s easy to find the argmax; common sense carries the day. So it won’t be obvious at first why we are going to take the following approach:</p>
<p>Let’s denote an argmax of the objective function <span class="math inline">\(f(x)\)</span> by <span class="math inline">\(x^\star\)</span>.
Let’s look at the derivative <span class="math inline">\(\partial_x f(x)\)</span> in the neighborhood of <span class="math inline">\(x^\star\)</span>. Referring to Figure <a href="unassigned-exercises.html#fig:ball-theta">1.7</a>, where <span class="math inline">\(x^\star = 45^\circ\)</span>, you may be able to see that <span class="math inline">\(\partial_x f(x^\star)\)</span> is zero; the line tangent to the function’s graph at <span class="math inline">\(x^\star\)</span> is flat.</p>
<p>Seen another way, the slope of <span class="math inline">\(f(x)\)</span> to the left of <span class="math inline">\(x^\star\)</span> is positive; moving a tiny bit to the right (that is, increasing <span class="math inline">\(x\)</span> by a very small amount, leads to an increase in the output <span class="math inline">\(f(x)\)</span>. Intuitively, as you approach the peak of a hill, you are walking uphill.) Just to the right of <span class="math inline">\(x^\star\)</span>, the slope of <span class="math inline">\(f(x)\)</span> is negative; as you reach the top of a hill and continue on, you will be going downhill. So the derivative function is positive on one side of <span class="math inline">\(x^\star\)</span> and negative on the other, suggesting that it crosses zero at the argmax.</p>
<p>Inputs <span class="math inline">\(x^\star\)</span> such that <span class="math inline">\(\partial_x f(x^\star) = 0\)</span> are called <strong><em>critical points</em></strong>. Why not call them simply argmaxes? Because a the slope will also be zero at an argmin. And it’s even possible to have the slope be zero at a point that’s neither an argmin or an argmax.</p>
<div class="etude-question">
<p><strong>Q-24</strong>: Consider the function <span class="math inline">\(f(x) \equiv x^3\)</span>. Confirm that the value of the derivative <span class="math inline">\(\partial_x f(x = 0)\)</span> and so <span class="math inline">\(x^\star = 0\)</span> is a critical point. Which sort of critical point is <span class="math inline">\(x^\star=0\)</span>? (Hint: Draw the graph of <span class="math inline">\(f(x)\)</span> near <span class="math inline">\(x=0\)</span> to see what’s going on.)</p>
<ol>
<li><p>An argmax [But <span class="math inline">\(f(0) &lt; f(x &gt; 0)\)</span>, so <span class="math inline">\(x^\star=0\)</span> can’t be an argmax.]</p></li>
<li><p>An argmin [But <span class="math inline">\(f(x &lt; 0) &lt; f(0)\)</span>, so <span class="math inline">\(x^\star=0\)</span> can’t be an argmin.]</p></li>
<li><p>Neither (+) []</p></li>
</ol>
</div>
<p>At this point, we know that values <span class="math inline">\(x^\star\)</span> that give <span class="math inline">\(\partial_x f(x^\star) = 0\)</span> are “critical points,” but we haven’t said how to figure out whether a given critical point is an argmax, an argmin, or neither. This is where the behavior of <span class="math inline">\(\partial_x f(x)\)</span> <em>near</em> x=x^$ is important. If <span class="math inline">\(x^\star\)</span> is an argmax, then <span class="math inline">\(\partial_x f(x)\)</span> will be positive to the left of <span class="math inline">\(x^\star\)</span> and negative to the right of <span class="math inline">\(x^\star\)</span>; walk up the hill to get to <span class="math inline">\(x^\star\)</span>, at the top the hill is flat, and just past the top the hill has a negative slope.</p>
<p>For an argmin, changing <span class="math inline">\(x\)</span> from less than <span class="math inline">\(x^\star\)</span> to greater than <span class="math inline">\(x\star\)</span>; you will be walking down into the valley, then level at the very bottom <span class="math inline">\(x=x^\star\)</span>, then back up the other side of the valley after you pass <span class="math inline">\(x=x^\star\)</span>. Figure <a href="unassigned-exercises.html#fig:d2-hill">1.8</a> shows the situation.</p>
<pre><code>## Warning: geom_vline(): Ignoring `mapping` because `xintercept` was provided.

## Warning: geom_vline(): Ignoring `mapping` because `xintercept` was provided.

## Warning: geom_vline(): Ignoring `mapping` because `xintercept` was provided.

## Warning: geom_vline(): Ignoring `mapping` because `xintercept` was provided.</code></pre>
<div class="figure">
<span id="fig:d2-hill"></span>
<img src="CalcZ-notes_files/figure-html/d2-hill-1.png" alt="Top row: An objective function near an argmax (left) and an argmin (right). Bottom row: The derivative of the objective function" width="50%"><img src="CalcZ-notes_files/figure-html/d2-hill-2.png" alt="Top row: An objective function near an argmax (left) and an argmin (right). Bottom row: The derivative of the objective function" width="50%"><img src="CalcZ-notes_files/figure-html/d2-hill-3.png" alt="Top row: An objective function near an argmax (left) and an argmin (right). Bottom row: The derivative of the objective function" width="50%"><img src="CalcZ-notes_files/figure-html/d2-hill-4.png" alt="Top row: An objective function near an argmax (left) and an argmin (right). Bottom row: The derivative of the objective function" width="50%"><p class="caption">
Figure 1.8: Top row: An objective function near an argmax (left) and an argmin (right). Bottom row: The derivative of the objective function
</p>
</div>
<p>The bottom row of graphs in Figure <a href="unassigned-exercises.html#fig:d2-hill">1.8</a> shows the derivative of the objective function <span class="math inline">\(f(x)\)</span>, that is, <span class="math inline">\(\partial_x f(x)\)</span>. You can see that for the argmax of <span class="math inline">\(f(x)\)</span>, the derivative <span class="math inline">\(\partial_x f(x)\)</span> is positive to the left and negative to the right. Similarly, near the argmin of <span class="math inline">\(f(x)\)</span>, the derivative <span class="math inline">\(\partial_x f(x)\)</span> is negative to the left and positive to the right.</p>
<p>Stated another way, the derivative <span class="math inline">\(\partial_x f(x)\)</span> has a positive slope near an argmin and a negative slope near an argmax.</p>
<p>Just as we differentiate <span class="math inline">\(f(x)\)</span> to find it’s slope, so to find the slope of the function <span class="math inline">\(\partial_x f(x)\)</span> we can differentiate it. The result is called the <strong><em>second derivative</em></strong>. We could write it <span class="math inline">\(\partial_x \left[\partial_x f(x)\right]\)</span>, but for brevity we write it <span class="math inline">\(\partial_{xx} f(x)\)</span>.</p>
<p>The second derivative of the objective function <span class="math inline">\(f(x)\)</span> at a critical point <span class="math inline">\(x^\star\)</span> is what tells us whether the critical point is an argmax, an argmin, or neither.</p>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th>Critical point <span class="math inline">\(x^\star\)</span>
</th>
<th><span class="math inline">\(\partial_x f(x^\star)\)</span></th>
<th><span class="math inline">\(\partial_{xx} f(x^\star)\)</span></th>
</tr></thead>
<tbody>
<tr class="odd">
<td>argmax</td>
<td>0</td>
<td>negative</td>
</tr>
<tr class="even">
<td>argmin</td>
<td>0</td>
<td>positive</td>
</tr>
<tr class="odd">
<td>neither</td>
<td>0</td>
<td>0</td>
</tr>
</tbody>
</table></div>
<div class="etude-question">
<p><strong>Q-25</strong>: Returning to the function <span class="math inline">\(f(x) \equiv x^3\)</span>, find the value of the second-derivative <span class="math inline">\(\partial_{xx} f(x^\star)\)</span> evaluated at the critical point <span class="math inline">\(x = x^\star = 0\)</span>. Which of these is <span class="math inline">\(\partial_{xx} f( x=0\)</span>?</p>
<ol>
<li><p>Negative [But you established in the previous exercise that the critical point <span class="math inline">\(x^\star=0\)</span> is neither an argmin nor wan argmax.]</p></li>
<li><p>Positive [But you established in the previous exercise that the critical point <span class="math inline">\(x^\star=0\)</span> is neither an argmin nor wan argmax.]</p></li>
<li><p>Zero (+) []</p></li>
</ol>
</div>
<div class="why">
<p>When we differentiate a function <span class="math inline">\(f(x)\)</span>, we produce a new function that we can call anything we like. To help readers follow the thread of the story, it’s nice to name the new function <span class="math inline">\(\partial_x f(x)\)</span>. That signals clearly to the reader the origins of the new function with respect to the original function <span class="math inline">\(f(x)\)</span>.</p>
<p>In words, <span class="math inline">\(\partial_x f(x)\)</span> is often called the <strong><em>derivative</em></strong> of <span class="math inline">\(f(x)\)</span> (with respect to x). To “derive” is a very general term and could mean just about any way of creating something new from something old. In calculus, “derivative” always means “created by differentiation.” Perhaps it would have been better if history had led us to call <span class="math inline">\(\partial_x f(x)\)</span> by the name “differentiated <span class="math inline">\(f(x)\)</span>” or “the differential function of <span class="math inline">\(f(x)\)</span>.”</p>
</div>
<p>Graphically, we can read the second derivative <span class="math inline">\(\partial_{xx} f(x)\)</span> as the slope of the first derivative <span class="math inline">\(\partial_x f(x)\)</span> or as the <strong><em>concavity</em></strong> of the function <span class="math inline">\(f(x)\)</span> itself. When <span class="math inline">\(\partial_{xx} f(x) &lt; 0\)</span>, then <span class="math inline">\(f(x)\)</span> is <strong><em>concave down</em></strong> (a frown). Likewise, when <span class="math inline">\(\partial_{xx} f(x) &gt;0\)</span> the <span class="math inline">\(f(x)\)</span> is <strong><em>concave up</em></strong> (a smile). When <span class="math inline">\(\partial_{xx} f(x) = 0\)</span>, then <span class="math inline">\(f(x)\)</span> has no curvature.</p>
<div class="takenote">
<p>To this point, we’ve translated features of functions that are evident on a graph into the language of derivatives:</p>
<ol style="list-style-type: lower-roman">
<li>The <strong>slope</strong> of a function <span class="math inline">\(f(x)\)</span> at any input <span class="math inline">\(x\)</span> is the <strong>value</strong> of the derivative function <span class="math inline">\(\partial_x f(x)\)</span> at that same <span class="math inline">\(x\)</span>.</li>
<li>The <strong>concavity</strong> of a function <span class="math inline">\(f(x)\)</span> at any input is the <strong>slope</strong> of the derivative function, that is, <span class="math inline">\(\partial_x f(x)\)</span>.</li>
<li>Putting (i) and (ii) together, we get that the <strong>concavity</strong> of a function <span class="math inline">\(f(x)\)</span> at any input <span class="math inline">\(x\)</span> is the <strong>value of the second derivative</strong> function, that is, <span class="math inline">\(\partial_{xx} f(x)\)</span>.</li>
<li>At an argmax <span class="math inline">\(x^\star\)</span> of <span class="math inline">\(f(x)\)</span>, the value of the derivative function <span class="math inline">\(\partial_x f(x^\star)\)</span> is zero and the value of the second derivative function <span class="math inline">\(\partial_{xx} f(x^\star)\)</span> is <strong>negative</strong>. (The situation at an argmin is similar, the derivative of the objective function is zero and the second derivative is <strong>positive</strong>.)</li>
</ol>
</div>
<div class="workedexample">
<p>What’s the critical point?</p>
<p>You’re familiar with the quadratic polynomial: <span class="math display">\[g(x) = a_0 + a_1 x + a_2 x^2\]</span>
The graph of a quadratic polynomial is a <strong><em>parabola</em></strong>, which might be concave up or concave down. As you know, a parabola has only one critical point, which might be an argmin or an argmax.</p>
<p>Let’s find the critical point. We know that the critical point is <span class="math inline">\(x^\star\)</span> such that <span class="math inline">\(\partial_x g(x_0) = 0\)</span>. Since we know how to differentiate a power law, we can see that
<span class="math display">\[\partial_x g(x) = a_1 + 2 a_2 x\]</span> and, more specifically, at the critical point <span class="math inline">\(x^\star\)</span> the derivative will be
<span class="math display">\[a_1 + 2 a_2 x^\star = 0\]</span>
The above is an equation, not a definition. It says that whatever <span class="math inline">\(x^\star\)</span> happens to be, the quantity <span class="math inline">\(a_1 + 2 a_2 x^\star\)</span> must be zero. Using plain old algebra, we can find the location of the critical point <span class="math display">\[x^\star = -\frac{a_1}{2 a_2}\]</span></p>
</div>
<div class="todo">
<p>Exercises involving computing derivatives</p>
</div>
<h2 id="approximations-around-xstar">
<span class="header-section-number">1.1</span> Approximations around <span class="math inline">\(x^\star\)</span>
</h2>
<p>Starting with just the naked modeling functions (e.g. <span class="math inline">\(e^t\)</span>), you have a small but rich set of mathematical operations that enables you to make a huge variety of functions to suit a big range of modeling needs:</p>
<ul>
<li>
<strong><em>input scaling</em></strong>, which turns the naked modeling functions into the more directly useful basic modeling functions.</li>
<li>
<strong><em>linear combinations</em></strong> of functions, e.g. <span class="math inline">\(A + B e^{-kt}\)</span>
</li>
<li>
<strong><em>compositions</em></strong> of functions, e.g. <span class="math inline">\(e^{-kt^2}\)</span> which you can recognize as the composition of an exponential with a power-law function.</li>
<li>
<strong><em>products</em></strong> of functions, e.g., <span class="math inline">\(\sin\left(\frac{2\pi}{P}x\right) e^{-kt}\)</span>
</li>
</ul>
<p>Now we want to tame this profusion of possibilities and consider a way to construct stand-ins for any function, using a universal format that needs a minimum of information and can be used for many purposes <strong><em>in place of</em></strong> the original function. It’s helpful to have a name for the stand-ins that reminds us of whom they are stand-ins for. If the original function is <span class="math inline">\(f(x)\)</span>, we’ll write the names of the stand-ins with a tilde, as in <span class="math inline">\(\widetilde{\,f\ }(x)\)</span>.</p>
<p>The stand-in functions are intended to be much simpler than the original but useable as a substitute for the original. The catch is that the stand-in is warranteed to be a good substitute only <strong><em>within a small neighborhood</em></strong> of the domain of the origin.</p>
<p>The information we need to construct the stand-ins is very limited. First, we need to specify where the warranteed neighborhood is. We’ll tend to use <span class="math inline">\(x_0\)</span> as identifying the center of that neighborhood. We’ll also need <span class="math inline">\(f(x_0)\)</span>, the output of the original function when the input is <span class="math inline">\(x_0\)</span>, and <span class="math inline">\(\partial_x f(x_0)\)</span> and <span class="math inline">\(\partial_{xx} f(x_0)\)</span>.<br>
::: {.takenote}
This is a good time to remind you of the notation conventions that we are using to write about functions and evaluating functions.</p>
<p>A <strong><em>function</em></strong> with all its individual characteristics and idiosyncracies is written <span class="math inline">\(f(x)\)</span>: the function name and the name of the input or inputs. The <strong><em>name of this function</em></strong> is <span class="math inline">\(f()\)</span>. The name of the input to <span class="math inline">\(f()\)</span> is <span class="math inline">\(x\)</span>, or whatever is the input name that was given in the parentheses following the name.</p>
<p>Every function has a derivative function. We could call that derivative function anything we like, but it’s sensible to give it a name that states explicitly where it comes from. We’re using <span class="math inline">\(\partial_x f(x)\)</span> for this purpose. Similarly, the name we use for the second derivative is <span class="math inline">\(\partial_{xx} f(x)\)</span>.</p>
<p>Evaluating a function means to specify a particular value for the input. We use several ways of making it clear when we are talking about a particular value of the input, e.g.
<span class="math display">\[\mbox{function output:}\ \ \ f(x = 3)\ \ \ \text{or}\ \ f(3)\ \ \ \text{or}\ \ \left.f(x)\strut\right|_{x=3}\]</span>
The output of such an evaluated function is a quantity.</p>
<p>Sometimes we want to refer to the output for some particular input, but <em>we don’t have that specific quantity pinned down yet</em>. Our preferred style for writing this is to use a name that is similar to an input name, but which has a subscript as in <span class="math inline">\(x_0\)</span>, <span class="math inline">\(x_1\)</span>, <span class="math inline">\(x_i\)</span>, <span class="math inline">\(x_\star\)</span> or, occasionally, a superscript as in <span class="math inline">\(x^\star\)</span>. The output of the function is then written like this:
<span class="math display">\[\mbox{function output:}\ \ \ f(x = x_0)\ \ \ \text{or}\ \ f(x_0)\ \ \ \text{or}\ \ \left.f(x)\strut\right|_{x=x_0}\]</span>
This same style applies when the function has a name like <span class="math inline">\(\partial_x f()\)</span> or <span class="math inline">\(\partial_{xx} f()\)</span>, for instance</p>
<p><span class="math display">\[\mbox{function output:}\ \ \ \partial_x f(x = x_0)\ \ \ \text{or}\ \ \partial_x f(x_0)\ \ \ \text{or}\ \ \left.\partial_x f(x)\strut\right|_{x=x_0}\]</span></p>
</div>
<p>Here are two universal formats that can be used to construct a stand-in for <em>any</em> function near a particular input <span class="math inline">\(x_0\)</span>. Since it’s useful to have a name for the stand-in, we’ll use a tilde on top of the original function name:</p>
<ul>
<li>First-order approximation: <span class="math inline">\(\widetilde{f_1}(x) \equiv f(x_0) + \partial_x f(x_0) (x-x_0)\)</span>
</li>
<li>Second-order approximation: <span class="math inline">\(\widetilde{f_2}(x) \equiv f(x_0) + \partial_x f(x_0) [x-x_0] + \frac{1}{2} \partial_{xx} f(x_0) [x - x_0]^2\)</span>
</li>
</ul>
<p>Notice that the first two terms of <span class="math inline">\(\widetilde{f_2}(x)\)</span> are identical to <span class="math inline">\(\widetilde{f_1}(x)\)</span>, so we could write the second-order approximation as
<span class="math display">\[\widetilde{f_2}(x) \equiv \widetilde{f_1}(x) +\frac{1}{2} \partial_{xx} f(x_0) [x-x_0]^2\]</span></p>
<p>The first-order approximation <span class="math inline">\(\widetilde{f_1}(x)\)</span> is nothing more than the straight-line function whose graph is tangent to the graph of <span class="math inline">\(f(x)\)</span> at the input <span class="math inline">\(x=x_0\)</span>.</p>
<p>The second-order approximation is a quadratic polynomial. Being quadratic, its graph is the familiar parabola. The graph of <span class="math inline">\(\widetilde{f_2}(x)\)</span> is the parabola that is tangent to the graph of <span class="math inline">\(f(x)\)</span>.</p>
<div class="workedexample">
<p>Consider the function <span class="math inline">\(g(x)\)</span> whose graph is shown in Figure <a href="#fig:ds-g"><strong>??</strong></a>.</p>
<pre><code>## Warning: geom_vline(): Ignoring `mapping` because `xintercept` was provided.

## Warning: geom_vline(): Ignoring `mapping` because `xintercept` was provided.</code></pre>
<p><img src="CalcZ-notes_files/figure-html/ds-g-1.png" width="672">
We haven’t given you a formula for <span class="math inline">\(g(x)\)</span>, but you can see that it isn’t any of the basic modeling functions but something more complicated. We’re going to construct a first-order and second-order approximation to <span class="math inline">\(g(x)\)</span> in a neighborhood <span class="math inline">\(x_0 = -1\)</span> as marked by the blue shaded area.</p>
<p>Note that <span class="math inline">\(x_0\)</span> is not an argmin of <span class="math inline">\(g(x)\)</span>. You can see that the argmin is a little to the right of <span class="math inline">\(x_0\)</span>.</p>
<p>The “facts” about <span class="math inline">\(g(x)\)</span> that are needed to construct the approximations, beyond the specification of the location of the neighborhood <span class="math inline">\(x_0\)</span>, are the values <span class="math inline">\(g(x_0)\)</span>, <span class="math inline">\(\partial_x g(x_0)\)</span>, and <span class="math inline">\(\partial_{xx} g(x_0)\)</span>. These are:</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x0</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="fl">1</span>
<span class="fu">g</span><span class="op">(</span><span class="va">x0</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] -23.992</code></pre>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dx_g</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/deriv.html">D</a></span><span class="op">(</span><span class="fu">g</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">~</span> <span class="va">x</span><span class="op">)</span>
<span class="va">dxx_g</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/deriv.html">D</a></span><span class="op">(</span><span class="fu">g</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">~</span> <span class="va">x</span> <span class="op">+</span> <span class="va">x</span><span class="op">)</span>
<span class="fu">dx_g</span><span class="op">(</span><span class="va">x0</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] -2.3493</code></pre>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">dxx_g</span><span class="op">(</span><span class="va">x0</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 7.8077</code></pre>
<p>With these facts, we can construct the first- and second-order approximations:</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">tilde1_g</span> <span class="op">&lt;-</span> <span class="fu">makeFun</span><span class="op">(</span><span class="op">-</span><span class="fl">23.992</span> <span class="op">-</span> <span class="fl">2.3493</span><span class="op">*</span><span class="op">(</span><span class="va">x</span><span class="op">-</span><span class="va">x0</span><span class="op">)</span> <span class="op">~</span> <span class="va">x</span><span class="op">)</span>
<span class="va">tilde2_g</span> <span class="op">&lt;-</span> <span class="fu">makeFun</span><span class="op">(</span><span class="fu">tilde1_g</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">+</span> <span class="op">(</span><span class="fl">7.8077</span><span class="op">/</span><span class="fl">2</span><span class="op">)</span> <span class="op">*</span> <span class="op">(</span><span class="va">x</span><span class="op">-</span><span class="va">x0</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span> <span class="op">~</span> <span class="va">x</span><span class="op">)</span></code></pre></div>
<p>Figure <a href="unassigned-exercises.html#fig:ds-g2">1.9</a> shows <span class="math inline">\(\widetilde{g_1}(x)\)</span> and <span class="math inline">\(\widetilde{g_2}(x)\)</span>, zooming in around <span class="math inline">\(x_0 = -1\)</span>.</p>
<pre><code>## Warning: geom_vline(): Ignoring `mapping` because `xintercept` was provided.

## Warning: geom_vline(): Ignoring `mapping` because `xintercept` was provided.</code></pre>
<div class="figure">
<span id="fig:ds-g2"></span>
<img src="CalcZ-notes_files/figure-html/ds-g2-1.png" alt="The first-order (green) and second-order (red) approximations to $g(x)$ near $x_0=-1$." width="672"><p class="caption">
Figure 1.9: The first-order (green) and second-order (red) approximations to <span class="math inline">\(g(x)\)</span> near <span class="math inline">\(x_0=-1\)</span>.
</p>
</div>
<p>You can see that <span class="math inline">\(\widetilde{g_2}(x)\)</span> is a good approximation to <span class="math inline">\(g(x)\)</span>. In particular, the argmin of <span class="math inline">\(\widetilde{g_2}(x)\)</span> is close to the that of <span class="math inline">\(g(x)\)</span>.</p>
<p>In a previous example, we showed that the argmin of the parabolic function <span class="math inline">\(a_0 + a_1 x + a_2 x^2\)</span> is <span class="math inline">\(x^\star = -\frac{a_1}{2 a_2}\)</span>. Using that formula, the argmin of <span class="math inline">\(\widetilde{g_2}(x)\)</span> is -2.3493/(7.8077/2) = -0.602.</p>
</div>
</details>
</div>
<div id="solving-computationally" class="section level2">
<h2>
<span class="header-section-number">1.2</span> Solving computationally<a class="anchor" aria-label="anchor" href="#solving-computationally"><i class="fas fa-link"></i></a>
</h2>
<div class="todo">
<p>How to find the zeros of the derivative of a function and how to evaluate the second derivative at those zeros to find out what kind of critical point it is.</p>
</div>
<div class="todo">
<p>The cubic bifurcation. Start with a cubic with an argmax followed by an argmin. Then move the parameter to see the two critical points coalesce into a single point then disappear.</p>
<p>Or, maybe, “the problem with polynomials.” Linear function always has 1 root and no critical points. Quadratic function always has one critical point (and subject to a constant may have two roots generically). But a cubic might have 1 or 3 solutions and the behavior depends on the constant. It might have one or three critical points.</p>
</div>
<div class="takenote">
<p>In the previous discussion, we used phrases such as “every function has a derivative,” or that “any function can be approximated” by a second-order polynomial. For most practical purposes, this is true. In the next chapter, however, we’ll set mathematical conditions on “every” and “any” that will let us see when there can be an exception.</p>
</div>
<div class="todo">
<p>Move this earthquake example to a point where you can do parametric plots.</p>
</div>
</div>
<div id="use-case-risk-of-earthquakes" class="section level2">
<h2>
<span class="header-section-number">1.3</span> Use case: Risk of earthquakes<a class="anchor" aria-label="anchor" href="#use-case-risk-of-earthquakes"><i class="fas fa-link"></i></a>
</h2>
<p>For software designers, a <strong><em>use case</em></strong> is a description of how a person will use the software to accomplish a particular goal. It’s fair to wonder what are the use cases of differentiation. It’s early days in your study of calculus, so some of the use cases are beyond your reach. But knowing about first and second derivatives, argmaxes and maximums, curvature, and linear and quadratic approximations gives you access to one of the most important general patterns in scientific work: the measurement of <strong><em>precision</em></strong>.</p>
<p>As you know, precision refers to how well you know a quantity and is often expressed using the plus-or-minus notation. To illustrate, consider the earthquake risk situation in the Cascadia Subduction Zone that includes western Oregon and Washington states. The last devastating earthquake was on January 26, 1700, a date approximated by local oral tradition and derived from written tsunami records across the Pacific Ocean in Japan.</p>
<p>Geologic features allow approximate dating of previous large earthquakes in the region, specifically one about 700 years previous to the latest and on about 2000 years before that.
<!-- https://agupubs.onlinelibrary.wiley.com/doi/epdf/10.1029/97RG00222 section 6.3 --></p>
<p>Your task as a modeler is to estimate the probability of another high-magnitude earthquake occuring in the next 100 years.</p>
<p>A standard model for the time interval between consecutive earthquakes is <span class="math inline">\(p(y) \equiv k e^{-ky}\)</span>, where <span class="math inline">\(p(t)\)</span> is the probability of an earthquake happening exactly <span class="math inline">\(y\)</span> years after the last. We can use data on previous earthquakes to find an approximate value for <span class="math inline">\(k\)</span>. Once we know <span class="math inline">\(k\)</span>, we can calculate the probability that the next earthquake will occur between 2025 and 2125 as <span class="math inline">\(e^{-325 k} - e^{-425 k}\)</span> where 325 is the time interval from 1700 to 2025 and 426 is the interval between 1700 and 2125. (You’ll see where the formula comes from in Block 3.)</p>
<p>We have information on two complete earthquake cycles, one lasting 2000 years and the other 700. A standard way to estimate the parameter <span class="math inline">\(k\)</span> is called “maximum likelihood.” This amounts to assuming a value for <span class="math inline">\(k\)</span> and then, with that value, calculating the likelihood of having seen inter-quake intervals of 2000 and of 700 years. This likelihood is
<span class="math display">\[p(2000) \times p(700) = k^2 e^{-k (2000 + 700)}\]</span> A graph of the likelihood as a function of <span class="math inline">\(k\)</span>, using a log vertical scale gives:</p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">slice_plot</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="va">k</span><span class="op">^</span><span class="fl">2</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">exp</a></span><span class="op">(</span><span class="op">-</span><span class="va">k</span><span class="op">*</span><span class="fl">2700</span><span class="op">)</span><span class="op">)</span> <span class="op">~</span> <span class="va">k</span>, <span class="fu">domain</span><span class="op">(</span>k<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.0001</span>, <span class="fl">0.003</span><span class="op">)</span><span class="op">)</span>, npts<span class="op">=</span><span class="fl">500</span><span class="op">)</span></code></pre></div>
<div class="inline-figure">
<img src="CalcZ-notes_files/figure-html/unnamed-chunk-42-1.png" width="672">
Making a parametric plot</div>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">Quakes</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>
  k <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0.0001</span>, <span class="fl">0.0025</span>, length<span class="op">=</span><span class="fl">1000</span><span class="op">)</span>,
  LL <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="va">k</span><span class="op">^</span><span class="fl">2</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">exp</a></span><span class="op">(</span><span class="op">-</span><span class="va">k</span><span class="op">*</span><span class="fl">2700</span><span class="op">)</span><span class="op">)</span>,
  prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">exp</a></span><span class="op">(</span><span class="op">-</span><span class="fl">325</span><span class="op">*</span><span class="va">k</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">exp</a></span><span class="op">(</span><span class="op">-</span><span class="fl">425</span><span class="op">*</span><span class="va">k</span><span class="op">)</span>         
<span class="op">)</span>
<span class="fu">gf_point</span><span class="op">(</span><span class="va">LL</span> <span class="op">~</span> <span class="va">k</span>, data<span class="op">=</span><span class="va">Quakes</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="CalcZ-notes_files/figure-html/unnamed-chunk-43-1.png" width="672"></div>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">gf_point</span><span class="op">(</span><span class="va">LL</span> <span class="op">~</span> <span class="va">prob</span>, data <span class="op">=</span> <span class="va">Quakes</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="CalcZ-notes_files/figure-html/unnamed-chunk-43-2.png" width="672"></div>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">gf_point</span><span class="op">(</span><span class="va">prob</span> <span class="op">~</span> <span class="va">k</span>, data <span class="op">=</span> <span class="va">Quakes</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="CalcZ-notes_files/figure-html/unnamed-chunk-43-3.png" width="672"></div>

</div>
</div>

  <div class="chapter-nav">
<div class="prev"><a href="calcz-project-development-plan.html">CalcZ Project Development Plan</a></div>
<div class="next"><a href="NA.html">Outline of Block 2</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#unassigned-exercises"><span class="header-section-number">1</span> Unassigned exercises</a></li>
<li><a class="nav-link" href="#combining-functions"><span class="header-section-number">1.1</span> Combining functions</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/dtkaplan/CalcZ-notes/blob/master/Fun-exercises.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/dtkaplan/CalcZ-notes/edit/master/Fun-exercises.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>CalcZ Student Notes</strong>" was written by Daniel Kaplan. It was last built on 2021-06-08.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>
</html>
