<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 10 Unassigned exercises | CalcZ Student Notes</title>
<meta name="author" content="Daniel Kaplan">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.2"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.5.3/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.5.3/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.4/tabs.js"></script><script src="libs/bs3compat-0.2.4/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script><script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script><link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="libs/datatables-binding-0.12/datatables.js"></script><link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script><link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet">
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script><script src="libs/plotly-binding-4.9.3/plotly.js"></script><script src="libs/typedarray-0.1/typedarray.min.js"></script><link href="libs/plotly-htmlwidgets-css-1.57.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="libs/plotly-main-1.57.1/plotly-latest.min.js"></script><script type="text/x-mathjax-config">
  const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
  for (let popover of popovers){
    const div = document.createElement('div');
    div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
    div.innerHTML = popover.getAttribute('data-content');
    
    // Will this work with TeX on its own line?
    var has_math = div.querySelector("span.math");
    if (has_math) {
      document.body.appendChild(div);
    	MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    	MathJax.Hub.Queue(function(){
        popover.setAttribute('data-content', div.innerHTML);
    	})
    }
  }
  </script><script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js"></script><!-- CSS --><link rel="stylesheet" href="css/CalcZ-style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">CalcZ Student Notes</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Status</a></li>
<li class="book-part">Orientation</li>
<li><a class="" href="themes.html"><span class="header-section-number">1</span> Themes</a></li>
<li><a class="" href="short-response-exercises.html">Short response Exercises</a></li>
<li><a class="" href="computing.html">Computing</a></li>
<li class="book-part">Block 1: Functions and quantity</li>
<li><a class="" href="what-is-a-function.html"><span class="header-section-number">2</span> What is a function?</a></li>
<li><a class="" href="notation-for-functions.html"><span class="header-section-number">3</span> Notation for functions</a></li>
<li><a class="" href="graphs-graphics.html"><span class="header-section-number">4</span> Graphs &amp; Graphics</a></li>
<li><a class="" href="modeling-with-functions.html"><span class="header-section-number">5</span> Modeling with functions</a></li>
<li><a class="" href="function-inverses-and-solving.html"><span class="header-section-number">6</span> Function inverses and “solving”</a></li>
<li><a class="" href="constructing-models.html"><span class="header-section-number">7</span> Constructing models</a></li>
<li><a class="" href="combining-and-composing-functions.html"><span class="header-section-number">8</span> Combining and composing functions</a></li>
<li><a class="" href="dimensions-and-units.html"><span class="header-section-number">9</span> Dimensions and units</a></li>
<li><a class="active" href="unassigned-exercises.html"><span class="header-section-number">10</span> Unassigned exercises</a></li>
<li class="book-part">Block 2: Differences and differentiation</li>
<li><a class="" href="NA.html"><span class="header-section-number">10.2</span> Functions and patterns</a></li>
<li class="book-part">Interlude: Iteration</li>
<li class="book-part">Block 3: Accumulation and anti-differentiation</li>
<li class="book-part">Block 4: Linear combinations</li>
<li><a class="" href="method-of-least-squares-day-2.html"><span class="header-section-number">11</span> Method of Least Squares (Day 2)</a></li>
<li class="book-part">Block 5: Dynamical systems</li>
<li><a class="" href="states-dynamics-trajectory.html"><span class="header-section-number">12</span> States, Dynamics, Trajectory</a></li>
<li><a class="" href="difference-equations-in-1-dimension.html"><span class="header-section-number">13</span> Difference equations in 1 dimension</a></li>
<li><a class="" href="difference-equations-in-2-dimensions.html"><span class="header-section-number">14</span> Difference equations in 2 dimensions</a></li>
<li><a class="" href="wrap-up-discrete-time-difference-equations.html"><span class="header-section-number">15</span> Wrap-up Discrete Time difference equations</a></li>
<li><a class="" href="continuous-time-differential-equation-in-1-dimension.html"><span class="header-section-number">16</span> Continuous-Time differential equation in 1 dimension</a></li>
<li><a class="" href="continuous-time-differential-equation-in-2-dimensions.html"><span class="header-section-number">17</span> Continuous-Time differential equation in 2 dimensions</a></li>
<li><a class="" href="catch-up-review-day.html"><span class="header-section-number">18</span> Catch-up: Review Day</a></li>
<li class="book-part">Interlude: Local and global, smooth and random</li>
<li><a class="" href="walks-and-brownian-motion.html"><span class="header-section-number">19</span> Walks and Brownian Motion</a></li>
<li><a class="" href="infinity-day.html"><span class="header-section-number">20</span> Infinity Day</a></li>
<li><a class="" href="smoothness-continuity-and-splines.html"><span class="header-section-number">21</span> Smoothness, Continuity, and Splines</a></li>
<li class="book-part">Block 6: Decisions with calculus</li>
<li><a class="" href="simple-comparisons-and-reductions-npv-and-expected-value.html"><span class="header-section-number">22</span> Simple Comparisons and reductions (NPV and expected value)</a></li>
<li><a class="" href="project-3-life-expectancy.html"><span class="header-section-number">23</span> Project 3: Life expectancy</a></li>
<li><a class="" href="optimization-problems.html"><span class="header-section-number">24</span> Optimization problems</a></li>
<li><a class="" href="multiobjective-optimization.html"><span class="header-section-number">25</span> Multiobjective optimization</a></li>
<li><a class="" href="constraints-and-constrained-functions-part-1.html"><span class="header-section-number">26</span> Constraints and Constrained functions (Part 1)</a></li>
<li><a class="" href="constraints-and-constrained-functions-part-2.html"><span class="header-section-number">27</span> Constraints and Constrained functions (Part 2)</a></li>
<li class="book-part">Appendices</li>
<li><a class="" href="objectives.html"><span class="header-section-number">A</span> Objectives</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/dtkaplan/CalcZ-notes">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="unassigned-exercises" class="section level1">
<h1>
<span class="header-section-number">10</span> Unassigned exercises<a class="anchor" aria-label="anchor" href="#unassigned-exercises"><i class="fas fa-link"></i></a>
</h1>
<div id="combining-functions" class="section level2">
<h2>
<span class="header-section-number">10.1</span> Combining functions<a class="anchor" aria-label="anchor" href="#combining-functions"><i class="fas fa-link"></i></a>
</h2>

<div class="exercise">
<span id="exr:unnamed-chunk-57" class="exercise"><strong>Exercise 10.1  (arith-with-funs)  </strong></span>
</div>

<details><code>rr knitr::knit_child("Exercises/Fun/arith-with-funs.Rmd")</code>
</details>
</div>
<div id="hump-sigmoid-functions" class="section level2">
<h2>
<span class="header-section-number">10.2</span> Hump &amp; sigmoid functions<a class="anchor" aria-label="anchor" href="#hump-sigmoid-functions"><i class="fas fa-link"></i></a>
</h2>

<div class="exercise">
<span id="exr:unnamed-chunk-58" class="exercise"><strong>Exercise 10.2  (hump-intro)  </strong></span>
</div>

<details><p>The hump function that we mainly use in CalcZ is implemented in R with <code><a href="https://rdrr.io/r/stats/Normal.html">dnorm(x, mean, sd)</a></code>. The input called <code>mean</code> corresponds to the <em>center</em> of the hump. The input called <code>sd</code> gives the <em>width</em> of the hump.</p>
<div class="scaffolding">
<p>In a sandbox, make a slice plot of <code><a href="https://rdrr.io/r/stats/Normal.html">dnorm(x, mean=0, sd=1)</a></code>. By varying the value of <code>width</code>, figure out how you could read that value directly from the graph.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">slice_plot</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">dnorm</a></span><span class="op">(</span><span class="va">x</span>, mean<span class="op">=</span><span class="fl">0</span>, sd<span class="op">=</span><span class="fl">1</span><span class="op">)</span> <span class="op">~</span> <span class="va">x</span>,
           <span class="fu">domain</span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">4</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></code></pre></div>
</div>
<p>In the plot below, one of the double-headed arrows represents the <code>width</code> parameter. The others are misleading.</p>
<div class="inline-figure"><img src="CalcZ-notes_files/figure-html/unnamed-chunk-175-1.png" width="672"></div>
<div class="etude-question">
<p><strong>Q-21</strong>: Which arrow shows correctly the <code>width</code> parameter of the hump function in the graph with arrows?</p>
<ol>
<li><p>top (+) []</p></li>
<li><p>middle []</p></li>
<li><p>bottom []</p></li>
<li><p>none of them []</p></li>
</ol>
</div>
<p>::: {.etude-question}</p>
<p><strong>Q-22</strong>: What is the value of <code>center</code> in the graph with arrows?</p>
<ol>
<li><p>-2 [The <code>center</code> parameter is the argmax of the function.]</p></li>
<li><p>-1 [The <code>center</code> parameter is the argmax of the function.]</p></li>
<li><p>-0.5 [The <code>center</code> parameter is the argmax of the function.]</p></li>
<li><p>0 [The <code>center</code> parameter is the argmax of the function.]</p></li>
<li><p>0.5 (+) []</p></li>
<li><p>1 [message]</p></li>
<li><p>2 [The <code>center</code> parameter is the argmax of the function.]</p></li>
</ol>
:::
</details><div class="exercise">
<span id="exr:unnamed-chunk-59" class="exercise"><strong>Exercise 10.3  (sigmoid-intro)  </strong></span>
</div>

<details><p>Hump functions and sigmoidal functions come in pairs. For every possible sigmoid, there is a corresponding hump that gives, for each value of the input, the slope of the sigmoid.</p>
<p>Each of the following graphs shows a sigmoid and a hump function. The two might or might not correspond to one another. That is, the output of the hump might be the slope of the sigmoid, or the hump might correspond to some other sigmoid. Remember, you’re comparing the <em>output</em> of the hump to the <em>slope</em> of the sigmoid.</p>
<p>For each graph, say whether the hump and the sigmoid correspond to one another. If not, choose one of the reasons why not.</p>
<div class="inline-figure"><img src="CalcZ-notes_files/figure-html/unnamed-chunk-177-1.png" width="672"></div>
<div class="etude-question">
<p><strong>Q-23</strong>: Graph (A)</p>
<ol>
<li><p>The hump and sigmoid correspond. (+) []</p></li>
<li><p>The peak of the hump does not occur at the same value of <span class="math inline">\(x\)</span> at which the sigmoid is steepest. [For what <span class="math inline">\(x\)</span> is the sigmoid the steepest? For what <span class="math inline">\(x\)</span> is the hump the highest?]</p></li>
<li><p>The numerical value of the output of the hump function is, for all <span class="math inline">\(x\)</span>, much larger than the numerical value of the <em>slope</em> of the sigmoid. [Did you calculate the numerical value of the slope of the sigmoid?]</p></li>
</ol>
</div>
<div class="inline-figure"><img src="CalcZ-notes_files/figure-html/unnamed-chunk-178-1.png" width="672"></div>
<div class="etude-question">
<p><strong>Q-24</strong>: Graph (B)</p>
<ol>
<li><p>The hump and sigmoid correspond. []</p></li>
<li><p>The peak of the hump does not occur at the same value of <span class="math inline">\(x\)</span> at which the sigmoid is steepest. (+) [The hump peaks at about <span class="math inline">\(x=2\)</span> while the steepest part of the sigmoid is at about <span class="math inline">\(x=4\)</span>]</p></li>
<li><p>The numerical value of the output of the hump function is much larger than the numerical value of the <em>slope</em> of the sigmoid. [Did you calculate the numerical value of the slope of the sigmoid?]</p></li>
</ol>
</div>
<div class="inline-figure"><img src="CalcZ-notes_files/figure-html/unnamed-chunk-179-1.png" width="672"></div>
<div class="etude-question">
<p><strong>Q-25</strong>: Graph (C)</p>
<ol>
<li><p>The hump and sigmoid correspond. (+) []</p></li>
<li><p>The peak of the hump does not occur at the same value of <span class="math inline">\(x\)</span> at which the sigmoid is steepest. [For what <span class="math inline">\(x\)</span> is the sigmoid the steepest? For what <span class="math inline">\(x\)</span> is the hump the highest?]</p></li>
<li><p>The numerical value of the output of the hump function is, for all <span class="math inline">\(x\)</span>, much larger than the numerical value of the <em>slope</em> of the sigmoid. [Did you calculate the numerical value of the slope of the sigmoid?]</p></li>
</ol>
</div>
<p>In the graph <em>D</em>, there are several hump functions shown, only one of which corresponds to the sigmoid.</p>
<div class="inline-figure"><img src="CalcZ-notes_files/figure-html/unnamed-chunk-180-1.png" width="672"></div>
<p>::: {.etude-question}</p>
<p><strong>Q-26</strong>: Which hump corresponds to the sigmoid?</p>
<ol>
<li><p>A [The value of the hump output is much larger than the slope of the sigmoid.]</p></li>
<li><p>B (+) [Right! The hump is centered on the steepest part of the sigmoid and falls to zero where the sigmoid levels out.]</p></li>
<li><p>C [The hump is too narrow.]</p></li>
<li><p>D [The hump is too broad and shifted to the left.]</p></li>
</ol>
<div class="&lt;/details&gt;">

<div class="exercise">
<span id="exr:unnamed-chunk-60" class="exercise"><strong>Exercise 10.4  (sigmoid-bath)  </strong></span>
</div>
<details><p>Have in mind a hump function and a sigmoid function that form a corresponding pair.</p>
<div class="inline-figure"><img src="CalcZ-notes_files/figure-html/unnamed-chunk-182-1.png" width="50%" style="display: block; margin: auto;"></div>
<div class="etude-question">
<p><strong>Q-27</strong>: Which of these stories is consistent with the relationship between a hump and its corresponding sigmoid?</p>
<ol>
<li><p>The hump is the amount of water in a bathtub while the sigmoid is the time you spend in the bath. []</p></li>
<li><p>The hump is the amount of water in the bathtub while the sigmoid is the rate at which water flows from the tap. [You turn the tap on and off after a while. That’s not what the sigmoid looks like.]</p></li>
<li><p>The hump is the rate at which water flows from the tap and the sigmoid is the amount of water in the bathtub. (+) []</p></li>
<li><p>The hump indicates the amount the drain is open and the sigmoid is the amount of water in the bathtub. [Shouldn’t the amount of water go down when the drain is open?]</p></li>
</ol>
</div>
</details><div class="exercise">
<span id="exr:unnamed-chunk-61" class="exercise"><strong>Exercise 10.5  (ebola-sigmoid)  </strong></span>
</div>
<details><p>A data frame named <code>EbolaSierraLeone</code><a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;From the &lt;code&gt;{MMAC}&lt;/code&gt; R package&lt;/p&gt;"><sup>1</sup></a> records the cumulative number of Ebola cases in Sierra Leone from May 1, 2014 to December 16, 2015.</p>
<p>Let’s find how well a sigmoidal function models the data.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">gf_point</span><span class="op">(</span><span class="va">Cases</span> <span class="op">~</span> <span class="va">Day</span>, data <span class="op">=</span> <span class="fu">MMAC</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/MMAC/man/EbolaSierraLeone.html">EbolaSierraLeone</a></span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="CalcZ-notes_files/figure-html/unnamed-chunk-184-1.png" width="672"></div>
<p>It’s straightforward to estimate the values of the parameters from data that have a sigmoidal form. To walk you through the process, the next plot shows simulated data from a genuine sigmoid function.</p>
<div class="inline-figure"><img src="CalcZ-notes_files/figure-html/unnamed-chunk-185-1.png" width="672"></div>
<ol style="list-style-type: decimal">
<li><p>Sketch in a S-shaped curve that smoothly follows the data.</p></li>
<li><p>Find the top plateau of the S-curve. This is indicated by the red line in the graph above. The parameter <code>A</code> is simply the height of the plateau, in this case <span class="math inline">\(y \approx 15\)</span>.</p></li>
<li><p>Come down half way from the plateau. Here, that’s 15/2 or 7.5, indicated by the horizontal blue line segment. Find the inverse of the S-curve from that half-way point onto the horizontal-axis. Here, that gives <span class="math inline">\(t \approx 5\)</span>. The parameter <code>center</code> is that value.</p></li>
<li><p>From the center of the S-shaped curve, follow the curve upward about 2/3 of the way to the plateau. In the diagram, that point is marked with a green line at <span class="math inline">\(t \approx 7\)</span>. The <code>width</code> is the distance along the horizontal axis from the blue centerline to the green line. Here, that’s <span class="math inline">\(7 - 5\)</span> giving 2 as the <code>width</code>.</p></li>
<li><p>You might also want to trace the S-curve <em>downward</em> from the centerline about 2/3 of the way to zero. That’s indicated by the left green line. In the standard sigmoid, the two green lines will be equally spaced around the centerline. Of course the data may not be in the shape of the standard sigmoid, so you might find the two green lines are not equally spaced from the center.</p></li>
</ol>
<hr>
<p><em>Put aside for the moment that the Ebola data doesn’t look exactly like the standard sigmoid function. Follow the above procedure, nevertheless.</em></p>
<div class="etude-question">
<p><strong>Q-28</strong>: Where is the top plateau?</p>
<ol>
<li><p>About Day 600. [Measure the height of the plateau, not where it starts horizontally.]</p></li>
<li><p>About 14,000 cases (+) []</p></li>
<li><p>About 20,000 cases [Read the vertical axis markings more carefully.]</p></li>
<li><p>None of the above [One of the above answers is pretty good.]</p></li>
</ol>
</div>
<div class="etude-question">
<p><strong>Q-29</strong>: Where is the centerline?</p>
<ol>
<li><p>Near Day 200 (+) []</p></li>
<li><p>Near Day 300 [That’s the center of the vertical scale, not the day at which the curve reaches half-way to the eventual plateau.]</p></li>
<li><p>At about 7000 cases [That’s half-way up to the plateau, but the answer you want is the day at which the curve reaches that point.]</p></li>
</ol>
</div>
<div class="etude-question">
<p><strong>Q-30</strong>: Now to find the <code>width</code> parameter. The curve looks more classically sigmoidal to the left of the centerline than to the right, so follow the curve <em>downward</em> as in Step 4 of the algorithm to find the parameters. What’s a good estimate for <code>width</code>?</p>
<ol>
<li><p>About 50 days (+) []</p></li>
<li><p>About 100 days [Too wide!]</p></li>
<li><p>About 10 days [Too small]</p></li>
<li><p>About 2500 cases [The width is measured along the horizontal axis, not the vertical]</p></li>
</ol>
</div>
<p>Open a sandbox and use the following commands to plot the Ebola data along with the sigmoid that you matched to the data by eye. The commands also generate and plot a more “refined” estimate found with <code>fitModel()</code> starting with your by-eye parameters. (Note: You’ll need to fill in the blanks at the start of the scaffolding with your by-eye parameters before running the code.)</p>
<div class="scaffolding">
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="unassigned-exercises.html#cb21-1"></a>A_estimate &lt;-<span class="st">  </span>_____</span>
<span id="cb21-2"><a href="unassigned-exercises.html#cb21-2"></a>center_estimate &lt;-<span class="st"> </span>_____</span>
<span id="cb21-3"><a href="unassigned-exercises.html#cb21-3"></a>width_estimate &lt;-<span class="st"> </span>______</span>
<span id="cb21-4"><a href="unassigned-exercises.html#cb21-4"></a></span>
<span id="cb21-5"><a href="unassigned-exercises.html#cb21-5"></a>guessed_fun &lt;-<span class="st"> </span><span class="kw">makeFun</span>(A<span class="op">*</span><span class="st"> </span><span class="kw">pnorm</span>(Day, center, width) <span class="op">~</span><span class="st"> </span>Day,</span>
<span id="cb21-6"><a href="unassigned-exercises.html#cb21-6"></a>                       <span class="dt">A =</span> A_estimate,</span>
<span id="cb21-7"><a href="unassigned-exercises.html#cb21-7"></a>                       <span class="dt">center =</span> center_estimate,</span>
<span id="cb21-8"><a href="unassigned-exercises.html#cb21-8"></a>                       <span class="dt">width =</span> width_estimate)</span>
<span id="cb21-9"><a href="unassigned-exercises.html#cb21-9"></a></span>
<span id="cb21-10"><a href="unassigned-exercises.html#cb21-10"></a></span>
<span id="cb21-11"><a href="unassigned-exercises.html#cb21-11"></a>refined_fun &lt;-<span class="st"> </span><span class="kw">fitModel</span>(Cases <span class="op">~</span><span class="st"> </span>A <span class="op">*</span><span class="st"> </span><span class="kw">pnorm</span>(Day, center, width),</span>
<span id="cb21-12"><a href="unassigned-exercises.html#cb21-12"></a>                 <span class="dt">data =</span> EbolaSierraLeone,</span>
<span id="cb21-13"><a href="unassigned-exercises.html#cb21-13"></a>                 <span class="dt">start =</span> <span class="kw">list</span>(<span class="dt">A=</span>A_estimate, </span>
<span id="cb21-14"><a href="unassigned-exercises.html#cb21-14"></a>                              <span class="dt">center=</span>center_estimate,</span>
<span id="cb21-15"><a href="unassigned-exercises.html#cb21-15"></a>                              <span class="dt">width=</span>width_estimate))</span>
<span id="cb21-16"><a href="unassigned-exercises.html#cb21-16"></a></span>
<span id="cb21-17"><a href="unassigned-exercises.html#cb21-17"></a><span class="kw">gf_point</span>(Cases  <span class="op">~</span><span class="st"> </span>Day, <span class="dt">data =</span> MMAC<span class="op">::</span>EbolaSierraLeone)  <span class="op">%&gt;%</span></span>
<span id="cb21-18"><a href="unassigned-exercises.html#cb21-18"></a><span class="st">  </span><span class="kw">slice_plot</span>(<span class="kw">guessed_fun</span>(Day) <span class="op">~</span><span class="st"> </span>Day, <span class="dt">color=</span><span class="st">"red"</span>) <span class="op">%&gt;%</span></span>
<span id="cb21-19"><a href="unassigned-exercises.html#cb21-19"></a><span class="st">  </span><span class="kw">slice_plot</span>(<span class="kw">refined_fun</span>(Day) <span class="op">~</span><span class="st"> </span>Day, <span class="dt">color=</span><span class="st">"blue"</span>)</span></code></pre></div>
</div>
<p>I can’t predict what you see in your graph, since it depends on what starting estimates you used for <code>A</code>, <code>center</code> and <code>width</code>.</p>
<div class="etude-question">
<p><strong>Essay question Q-31</strong>: Write down the estimates you made by eye for <code>A</code>, <code>center</code> and <code>width</code>. Then explain in words any major systematic deviations of the ‘refined’ model from the data.</p>
</div>
<p>This idea of fitting a sigmoidal curve <em>globally</em> to data that are only roughly sigmoidal might be forgiven since it’s just a textbook exercise. But if this were a real-world problem, there are three rookie mistakes in the approach, despite its technical sophistication.</p>
<ol style="list-style-type: decimal">
<li>A model is built for a purpose. There’s no statement in the exercise about what the purpose is.</li>
<li>The data themselves are a good enough representation of the historical pattern. There’s no need to adorn them with a fitted curve.</li>
<li>The mathematical processes that would justify the expectation that a sigmoid curve could be useful are based on the idea that the underlying mechanism for the phenomenon is unchanging. For an epidemic, that mechanism is contagion. By saying the “mechanism is unchanging,” we mean that person-to-person transmission of the Ebola virus happens in the same way at the beginning of the epidemic as it does in the middle and in the end. But strong public health interventions were introduced to control the epidemic. That’s a change in mechanism.</li>
</ol></details><!-----------------------

## Sinusoids

\BeginKnitrBlock{exercise}\iffalse{-91-115-117-110-115-101-116-45-105-110-45-76-65-93-}\fi{}<div class="exercise"><span class="exercise" id="exr:unnamed-chunk-62"><strong>(\#exr:unnamed-chunk-62)  \iffalse (sunset-in-LA) \fi{} </strong></span></div>\EndKnitrBlock{exercise}
<details>`rr knitr::knit_child("Exercises/Fun/sunset-in-LA.Rmd")`</details>

\BeginKnitrBlock{exercise}\iffalse{-91-108-97-109-98-45-116-97-108-107-45-103-108-111-118-101-115-93-}\fi{}<div class="exercise"><span class="exercise" id="exr:unnamed-chunk-63"><strong>(\#exr:unnamed-chunk-63)  \iffalse (lamb-talk-gloves) \fi{} </strong></span></div>\EndKnitrBlock{exercise}
<details>`rr knitr::knit_child("Exercises/Fun/lamb-talk-gloves.Rmd")`</details>

\BeginKnitrBlock{exercise}\iffalse{-91-115-112-105-114-111-109-101-116-101-114-93-}\fi{}<div class="exercise"><span class="exercise" id="exr:unnamed-chunk-64"><strong>(\#exr:unnamed-chunk-64)  \iffalse (spirometer) \fi{} </strong></span></div>\EndKnitrBlock{exercise}
<details>`rr knitr::knit_child("Exercises/Fun/spirometer.Rmd")`</details>

## Shapes of graphs

\BeginKnitrBlock{exercise}\iffalse{-91-83-104-97-112-101-115-32-111-102-32-102-117-110-99-116-105-111-110-115-93-}\fi{}<div class="exercise"><span class="exercise" id="exr:concavity"><strong>(\#exr:concavity)  \iffalse (Shapes of functions) \fi{} </strong></span></div>\EndKnitrBlock{exercise}
<details>`rr knitr::knit_child(exercise_file("02", "concavity.Rmd"))`</details>

\BeginKnitrBlock{exercise}\iffalse{-91-108-101-110-103-116-104-45-111-102-45-100-97-121-93-}\fi{}<div class="exercise"><span class="exercise" id="exr:daylength"><strong>(\#exr:daylength)  \iffalse (length-of-day) \fi{} </strong></span></div>\EndKnitrBlock{exercise}
<details>`rr knitr::knit_child("Exercises/Fun/length-of-day.Rmd")`</details>



## Exponential functions

\BeginKnitrBlock{exercise}\iffalse{-91-101-120-112-111-110-101-110-116-105-97-108-45-98-97-115-101-115-46-82-109-100-93-}\fi{}<div class="exercise"><span class="exercise" id="exr:exponential-bases"><strong>(\#exr:exponential-bases)  \iffalse (exponential-bases.Rmd) \fi{} </strong></span></div>\EndKnitrBlock{exercise}
<details>`rr knitr::knit_child(exercise_file("04", "exponential-bases.Rmd"))`</details>


\BeginKnitrBlock{exercise}<div class="exercise"><span class="exercise" id="exr:unnamed-chunk-65"><strong>(\#exr:unnamed-chunk-65) </strong></span></div>\EndKnitrBlock{exercise}
<details>`rr knitr::knit_child(exercise_file("05", "cow-type-kayak-new.Rmd"))`</details>

\BeginKnitrBlock{exercise}<div class="exercise"><span class="exercise" id="exr:unnamed-chunk-66"><strong>(\#exr:unnamed-chunk-66) </strong></span></div>\EndKnitrBlock{exercise}
<details>`rr knitr::knit_child(exercise_file("05", "chicken-choose-vase.Rmd"))`</details>


## Log scales

\BeginKnitrBlock{exercise}\iffalse{-91-101-110-103-105-110-101-45-109-97-103-110-105-116-117-100-101-45-110-101-119-46-82-109-100-93-}\fi{}<div class="exercise"><span class="exercise" id="exr:engine-magnitude-new"><strong>(\#exr:engine-magnitude-new)  \iffalse (engine-magnitude-new.Rmd) \fi{} </strong></span></div>\EndKnitrBlock{exercise}
<details>`rr knitr::knit_child(exercise_file("04", "engine-magnitude-new.Rmd"))`</details>



\BeginKnitrBlock{exercise}\iffalse{-91-66-111-121-108-101-115-45-100-97-116-97-46-82-109-100-93-}\fi{}<div class="exercise"><span class="exercise" id="exr:unnamed-chunk-67"><strong>(\#exr:unnamed-chunk-67)  \iffalse (Boyles-data.Rmd) \fi{} </strong></span></div>\EndKnitrBlock{exercise}
<details>`rr knitr::knit_child(exercise_file("06", "Boyles-data.Rmd"))`</details>

\BeginKnitrBlock{exercise}\iffalse{-91-69-120-101-114-99-105-115-101-32-105-115-32-98-97-100-32-102-111-114-32-121-111-117-114-32-104-101-97-108-116-104-46-93-}\fi{}<div class="exercise"><span class="exercise" id="exr:unnamed-chunk-68"><strong>(\#exr:unnamed-chunk-68)  \iffalse (Exercise is bad for your health.) \fi{} </strong></span></div>\EndKnitrBlock{exercise}
<details>`rr knitr::knit_child(exercise_file("06", "tiger-have-fork.Rmd"))`</details>


\BeginKnitrBlock{exercise}\iffalse{-91-109-97-112-108-101-45-104-105-116-45-115-97-117-99-101-114-93-}\fi{}<div class="exercise"><span class="exercise" id="exr:unnamed-chunk-69"><strong>(\#exr:unnamed-chunk-69)  \iffalse (maple-hit-saucer) \fi{} </strong></span></div>\EndKnitrBlock{exercise}
<details>`rr knitr::knit_child("Exercises/Fun/maple-hit-saucer.Rmd")`</details>

\BeginKnitrBlock{exercise}\iffalse{-91-48-53-47-108-111-103-45-97-120-105-115-46-82-109-100-93-}\fi{}<div class="exercise"><span class="exercise" id="exr:unnamed-chunk-70"><strong>(\#exr:unnamed-chunk-70)  \iffalse (05/log-axis.Rmd) \fi{} </strong></span></div>\EndKnitrBlock{exercise}
<details>`rr knitr::knit_child(exercise_file("05", "log-axis.Rmd"))`</details>

## Power-law functions

\BeginKnitrBlock{exercise}\iffalse{-91-99-97-116-45-108-101-110-100-45-102-117-116-111-110-93-}\fi{}<div class="exercise"><span class="exercise" id="exr:unnamed-chunk-71"><strong>(\#exr:unnamed-chunk-71)  \iffalse (cat-lend-futon) \fi{} </strong></span></div>\EndKnitrBlock{exercise}
<details>`rr knitr::knit_child("Exercises/Fun/cat-lend-futon.Rmd")`</details>

=========================================--><h1 id="part-block-2-differences-and-differentiation" class="unnumbered">(PART) Block 2: Differences and differentiation</h1>
<h1 id="functions-and-patterns">
<span class="header-section-number">10.2</span> Functions and patterns</h1>
<p>As you know, a function takes one or more inputs and returns a value as output. The functions we examine in CalcZ take <em>quantities</em> as inputs and return a <em>quantity</em> as an output.
The algorithm that forms the body of the function describes arithmetic and other calculations that can turn the inputs into the output.</p>
<p>On the other hand, we can also use <strong><em>tables</em></strong> as functions. With a table, you specify the input, look up that input in one of the colums of the table which brings you to the right row. Then read out from that row the value in another column to be the output. The quantitative operation needed for table lookup is simple comparison. The floor/corridor/door metaphor describes table lookup as well as function evaluation.</p>
<p>In the previous block, we constructed functions to represent the patterns seen in data. In one example, we constructed a function <span class="math inline">\(g(t) = A + B e^{-k t}\)</span> to represent the temperature of water cooling in a mug as a function of time. In another example, we summarized the pattern of rising and falling tides.</p>
<p>It’s common sense that data is stored in tables. But we could easily represent any smooth mathematical function, such as our basic modeling functions, as a table look-up problem. Indeed, in the era before computers, many mathematical functions were used in exactly this manner: a printed table in which a person could search for a match to the input and retrieve a value for the output.</p>
<div class="todo">
<p>[Picture of some nice old table.]</p>
</div>
<p>In the computer era, we still routinely represent functions this way: data stored in computer files. For instance, an MP3 file is not much more than a sequence of numbers that record a complicated function of time: the air pressure variations of sound. Similarly, digital images record functions of <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> over a limited domain. Given <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> as input, you can look up the output by going to the right pixel.</p>
<p>We humans of course, don’t perceive the numerical output of either sound or image functions: we <strong>hear</strong> a sound and we <strong>see</strong> an image. We’ve got special biological equipment for this!</p>
<p>Consider the image in Figure @ref{fig:sand-1}. It is a picture of some indentations in a small area of sand, about two inches wide in the middle of a hiking trail. The dots are individual grains of sand.</p>
<div class="inline-figure"><img src="www/sand-furrows.png" width="50%" style="display: block; margin: auto;"></div>
<p>Can you see three almost parallel furrows? How about the small crater in the upper left?</p>
<p>You can see the individual grains of sand because they contrast sharply with their neighbors. Or, more precisely, you can see a few dozen grains <strong>because</strong> they contrast sharply with their neighbors.</p>
<p>You can think of the surface of the sand as a function of <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span>. It’s lower in some places and higher in others. But, in fact, you can’t see the height of an individual point in the photograph. In the right light, you wouldn’t notice the furrows at all. But the way the picture is lighted, raking sunlight from the left, the surface is translated into broad regions of brightness and shadow. In the light regions, the surface slants toward the sun. In the shadows, the surface slants away from the sun.</p>
<p>What you’re mainly seeing in the photo is the <strong><em>slant</em></strong> or <strong><em>slope</em></strong> of the surface. The light has transformed <em>elevation</em> as a function of <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> into <em>slant</em> as a function of <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> and then encoded the slant as brightness, in much the same way the background of a contour plot encodes the output of the function as a color.</p>
<p>The moral here is that sometimes the data in a function is not in the right form for us to extract useful information. But by transforming that data to represent contrast or difference or slope, the information can be revealed.</p>
<p>This Block is about transforming functions to show difference and slope. Such transformation, accomplished by mathematics rather than the raking light of the sun, can take a pattern that we’re presented with and turn it into another pattern that can tell us what we want to know.</p>
<h2 id="average-rate-of-change">
<span class="header-section-number">10.2</span> Average rate of change</h2>
<div class="objectives" latex-data="">
<ol>
<li>
<strong>[Deriv-2a]</strong> <em>Identify the “average rate of change” of a function over an interval as the overall change in output divided by the change in input.</em>
</li>
</ol>
</div>
<p>As you know, one way to calculate the slope of a straight-line function <span class="math inline">\(f()\)</span> is to pick two different values for the input: call the larger of them <span class="math inline">\(x_1\)</span> and the smaller <span class="math inline">\(x_0\)</span>. Think of these input values as the endpoints of an <strong><em>interval</em></strong> or <strong><em>neighborhood</em></strong> of the domain. The length of this domain is <span class="math inline">\(x_1 - x_0\)</span>.</p>
<p>Evaluate the function at those endpoints and calculate the slope simply as the difference in output divided by the length of the interval: <span class="math display">\[\frac{f(x_1) - f(x_0)}{x_1 - x_0}\]</span></p>
<p>“Slope” is a natural metaphor when thinking of a function as a graph. But a more general way to describe the concept is the <strong><em>rate of change</em></strong> of the output with respect to the input. The change in the output from one end of the interval is <span class="math inline">\(f(x_1) - f(x_0)\)</span>, the change in the input is <span class="math inline">\(x_1 - x_0\)</span>. If the input is time (in hours), and the output is the position of a car (in miles), then the rate of change is <em>miles-per-hour</em>: the car’s velocity.</p>
<p>For a straight-line function—think of a car driving at constant speed on a highway—it doesn’t matter what you choose for <span class="math inline">\(x_1\)</span> and <span class="math inline">\(x_0\)</span> (so long as they are not identical). But for other functions, the choice does matter.</p>
<p>Imagine a graph of the position of a car along a road as in Figure @ref{fig:stop-and-go}. Over the course of an hour, the car travelled about 25 miles. In other words, the <strong><em>average</em></strong> speed is 25 miles/hour: the <em>slope</em> of the red line segment. Given the traffic, sometimes the car was stopped (time C), sometimes crawling (time D) and sometimes much faster than average (time B).</p>
<div class="inline-figure"><img src="CalcZ-notes_files/figure-html/stop-and-go-1.png" width="672"></div>
<p>During the interval from B to C, the car was travelling relatively fast. The slope of the brown segment connecting the position at times B and C is the <strong><em>average</em></strong> rate of change between times B and C. It’s easy to see that the average rate of change from B to C is larger than the overall average from <span class="math inline">\(t=0\)</span> to <span class="math inline">\(t=1\)</span>. Calculating that slope is a matter of evaluating the position at the endpoints and dividing by the length of the interval.</p>
<div class="workedexample" latex-data="">
<p>What is the average rate of change in the car’s position during the interval <span class="math inline">\(t_B = 0.40\)</span> to <span class="math inline">\(t_C=0.54\)</span>?</p>
<p>The length of the interval is <span class="math inline">\(t_C - t_B = 0.54-0.40=0.14\)</span>.</p>
<p>Evaluating the function gives <span class="math inline">\(x(t_C) = 18\)</span> and <span class="math inline">\(x(t_B) = 12.6\)</span>.</p>
<p>Rise is <span class="math inline">\(x(t_C) - x(t_B) = 18 - 12.6 = 5.4\)</span>.</p>
<p>Run is <span class="math inline">\(t_C - t_B = 0.54-0.40=0.14\)</span>.</p>
<p>The average rate of change during the interval is $5.4/0.14 = 38.6 $ miles/hour.</p>
</div>
<div class="workedexample" latex-data="">
<p>The graph shows a simplified model of the amount of usable wood that can be harvested from a typical tree in a managed forest of Ponderosa Pine. (You can see some actual forestry research models <a href="https://www.fs.fed.us/rm/pubs/rmrs_gtr292/1992_milner.pdf">here</a>.)</p>
<div class="inline-figure"><img src="CalcZ-notes_files/figure-html/aver-tree-1.png" width="672"></div>
<p>You are writing a business plan for a proposed pine forest. Among other things, you have to forecast the revenue that will be generated and when you will have salable product.</p>
<p>They say that “time is money.” Every year you wait before harvest is another year that you don’t have the money. On the other hand, every year that you wait means more wood at the end. How to decide when to harvest?</p>
<p>The tree continues to grow until year 50, when it seems to have reached an equilibrium: perhaps growth goes to zero, or rot balances what growth there is. There’s no point waiting until after year 50.</p>
<p>At year 25, the tree is growing as fast as it ever will. You’ll get about 600 board-feet of lumber. Should you harvest at year 25? No! That the tree is growing so fast means that you will have a lot more wood at year 26, 27, and so on. The time to harvest is when the growth is getting smaller, so that it’s not worth waiting an extra year.</p>
<p>The quantity of interest is the average rate of growth from seedling to harvest. Harvesting at year 25 will give a total change of 600 board feet over 25 years, giving an average rate of change of <span class="math inline">\(600 \div 25 = 24 \mbox{board-feet-per-year}\)</span>. But if you wait until year 35, you’ll have about 900 board feet, giving an average rate of change of <span class="math inline">\(900 \div 35 = 25.7 \mbox{board-feet-per-year}\)</span>.</p>
</div>
<p>We’ve been presenting the average rate of change as a <strong>number</strong>: <span class="math display">\[\frac{f(t_B) - f(t_A)}{t_B - t_A}\]</span></p>
<p>But it’s helpful to think of it as a <strong>function</strong> that takes two inputs, which we can call <span class="math inline">\(t_A\)</span> and <span class="math inline">\(t_B\)</span>:
<span class="math display">\[\text{ave_rate_of_change}(t_A, t_B) \equiv \frac{f(t_B) - f(t_A)}{t_B - t_A}\]</span>
This is a very subtle maneuver. The formula is exactly the same, but by writing the quantities <span class="math inline">\(t_A\)</span> and <span class="math inline">\(t_B\)</span> as inputs (by putting them in parentheses on the left side), we turn the formula into a function.</p>
<p>Sometimes the average-rate-of-change function presents the information in a clear way.</p>
<div class="workedexample" latex-data="">
<p>Back to the forest … Here’s a graph of the average-rate-of change function. The function has two inputs, but botany dictates that we can only be growing word from the time the seedling is planted. So we’ll set <span class="math inline">\(t_A = 0\)</span> and look at the corresponding <em>slice</em> of the function:</p>
<div class="inline-figure">
<img src="CalcZ-notes_files/figure-html/unnamed-chunk-74-1.png" width="672">
The graph makes it clear that the maximum average growth from planting to harvest will occur at about year 32.</div>
</div>
<h2 id="instantaneous-rate-of-change">
<span class="header-section-number">10.2</span> Instantaneous rate of change</h2>
<div class="objectives" latex-data="">
<ol>
<li>
<strong>[Deriv-2b]</strong> <em>Distinguish the “average rate of change” from the “instantaneous rate of change”.</em>
</li>
</ol>
</div>
<p>The car’s speedometer shows the speed at each moment—or <strong><em>instant</em></strong>—of the trip. As you can see in Figure @ref{fig:stop-and-go}, the speed varies and is sometimes less than the average speed, sometimes greater, and occasionally equal to the average speed over the trip. The general term for the kind of quantity presented by the speedometer is the <strong><em>instantaneous rate of change</em></strong> of the position function with respect to the input to that function.</p>
<p>Figure @ref{fig:instant-speed} shows the instantaneous rate of change of position with respect to time.</p>
<div class="inline-figure">
<img src="CalcZ-notes_files/figure-html/instant-speed-1.png" width="672">
The two graphs in Figures @ref{fig:stop-and-go} and @ref{fig:instant-speed} show exactly the same car trip. The presentation of the data in the different graphs makes it easy to see some things and hard to see others. For instance, figuring out when the car is at a stand-still is harder in the position-vs-time graph than in the speed-vs-time graph. This is very much in the spirit of the sand-furrows example at the start of this chapter: it’s much easier to perceive the furrows because the lighting highlights areas sloping toward the sun as bright and areas sloping away from the sun as dark. In Figure @ref{fig:instant-speed} we’re not using light-and-dark for the display. Instead, we’re showing the instantaneous speed using the vertical axis.</div>
<p>Recall that the interval between <span class="math inline">\(t_B\)</span> and <span class="math inline">\(t_C\)</span> had an <strong><em>average rate of change</em></strong> of about 39 miles-per-hour. Looking at the <strong><em>instantaneous rate of change</em></strong> tells the story differently: at time <span class="math inline">\(t_B\)</span> the car was accelerating to about 60 miles-per-hour. Then it gradually slowed, coming to a stop just before time <span class="math inline">\(t_C\)</span>.</p>
<p>Figure @ref{fig:stop-and-go} shows the function <span class="math inline">\(\mbox{position}(t)\)</span>. Figure @ref{fig:instant-speed} shows a different function, <span class="math inline">\(\mbox{speed}(t)\)</span>. Although the two functions are different, they are intimately related: <span class="math inline">\(\mbox{speed}(t)\)</span> is the <strong><em>instantaneous rate of change</em></strong> of <span class="math inline">\(\mbox{position}(t)\)</span>.</p>
<p>Two central operations in calculus are:</p>
<ol style="list-style-type: decimal">
<li>Given a function <span class="math inline">\(f(t)\)</span>, find the function <span class="math inline">\(g(t)\)</span> giving the instantaneous rate of change of <span class="math inline">\(f()\)</span>. This process of deriving <span class="math inline">\(g(t)\)</span> from <span class="math inline">\(f(t)\)</span> is called <strong><em>differentiation</em></strong>.</li>
<li>Given a function <span class="math inline">\(g(t)\)</span>, find the <span class="math inline">\(f(t)\)</span> of which <span class="math inline">\(g(t)\)</span> is the instantaneous rate of change. This process of finding <span class="math inline">\(f()\)</span> given <span class="math inline">\(g()\)</span> is called <strong><em>anti-differentiation</em></strong>.</li>
</ol>
<div class="workedexample" latex-data="">
<p>The context of the situation being modeled determines whether it’s appropriate to look at an average rate of change or an instantaneous rate of change. Figure @ref{fig:instant-tree} shows the instantaneous rate of change in the volume of wood.</p>
<p><img src="CalcZ-notes_files/figure-html/instant-tree-1.png" width="672">
It’s tempting to look to the year where the growth rate is highest as the optimal harvest year. This is a mistake. The volume of wood being harvested is the <strong><em>accumulated growth</em></strong> not the instantaneous growth. Even though the instantaneous growth is higher at year 23 than year 30, it’s still pretty high at year 30 and waiting until then (or later) accumates those years of higher-than-average growth. That’s why the <strong><em>average rate of growth</em></strong> is a better thing to look at to determine optimal harvest time. Still, is it the right thing to look at?</p>
<p>Between year 30 and 32, there is hardly any change in the value of the average-rate-of-change function. It’s increasing a little, but is it really worthwhile to wait? One argument is that at year 29 you already have a valuable resource: wood that could be money in the bank. If the money were in the bank, you could invest it and earn more money <em>and</em> at the same time get a new seedling in the ground to start its growth. You’re doing two things at once. Efficient!</p>
<p>To know what is the best year for harvest from this point of view, you want to calculate the effective “interest rate” on the present amount of wood that you earn in the form of new wood. That interest rate is the ratio of the <em>instantaneous</em> rate of growth of new wood divided by the amount of existing wood. Figure @ref{fig:tree-interest} shows this function:</p>
<div class="inline-figure">
<img src="CalcZ-notes_files/figure-html/tree-interest-1.png" width="672">
Early in the tree’s life, the growth is high compared to the volume of the tree. That’s because the tree is small. As the years pass, the tree gets bigger. Even though the rate of growth increases through year 23, the accumulated volume increases even faster, so there is a fall in the rate of return.</div>
<p>The best time to harvest is when the annual “interest rate” paid by the growing tree falls to the level of the next best available investment. Suppose that investment would pay 10% per year. Then harvest the tree at year 24. If the next best investment paid only 5% (blue horizontal line), the harvest should be made at about year 29.</p>
</div>

<h1 id="instantaneous-rate-of-change-1">
<span class="header-section-number">10.2</span> Instantaneous rate of change</h1>
<h2 id="from-average-to-instant">
<span class="header-section-number">10.2</span> From average to instant</h2>
<div class="objectives">
<ol>
<li>
<strong>[Deriv-2b]</strong> <em>Understand how calculating the slope (using a small value of h) of a function reflects the instantaneous rate of change of the function at that point.</em>
</li>
</ol>
</div>
<p>You have known how to calculate an average rate of change for a long time. But possibly you don’t yet fully know what the <strong>use</strong> of such a calculation is other than to help you pass a math test. In this section, we’re going to show how to calculate the <strong><em>instantaneous rate of change</em></strong> function and show some of the many things this is useful for.</p>
<p>To orient you to what’s going to happen …</p>
<ol style="list-style-type: decimal">
<li>We’re going to set up the familiar average-rate-of-change calculation in a new framework.</li>
<li>Using that framework, you’ll be able to calculate an average-rate-of-change <em>function</em>.</li>
<li>Then, by turning a knob on the calculation in (2), you’ll be able to calculate the <strong><em>instantaneous</em></strong> rate of change function. By the way, the knob is called <span class="math inline">\(h\)</span>.</li>
</ol>
<p>In short, this section will introduce you to the operation called <strong><em>differentiation</em></strong>.</p>
<h2 id="the-h-framework">
<span class="header-section-number">10.2</span> The <span class="math inline">\(h\)</span> framework</h2>
<p>Calculating an average rate of change involved specifying an interval of the function domain: the left side <span class="math inline">\(t_A\)</span> and the right side <span class="math inline">\(t_B\)</span>. Let’s change this notation a little:</p>
<ul>
<li>Left endpoint of domain: <span class="math inline">\(t_0\)</span>
</li>
<li>Right endpoint of domain: <span class="math inline">\(t_0 + h\)</span>
</li>
</ul>
<p>There is nothing fundamentally new here. The interval is still specified by two numbers, but now they are called <span class="math inline">\(t_0\)</span> and <span class="math inline">\(h\)</span>. The width of the interval is just <span class="math inline">\(h\)</span>, which is a little easier to write than <span class="math inline">\(t_B - t_A\)</span>, but is still just the width.</p>
<p>The <strong><em>average rate of change</em></strong> in the new notation is <span class="math display">\[\frac{f(t_0 + h) - f(t_0)}{h}\ \ \mbox{rather than}\ \ \frac{f(t_B) - f(t_A)}{t_B - t_A}\]</span></p>
<div class="todo">
<p>Write an app showing a function, the derivative of the function at a given point, and a finite-difference with <span class="math inline">\(h\)</span> defined by dragging the mouse. Click on a point and enter that point in a plot of the derivative. Checkbox to show whole derivative function.</p>
</div>
<div class="why" latex-data="">
<p>Why are you using <span class="math inline">\(t\)</span> instead of <span class="math inline">\(x\)</span>?</p>
<p>Remember, the <em>name</em> of an input can be anything at all so long as you use it consistently on the left side of <span class="math inline">\(\equiv\)</span> and on the right side. All of these are the same definition:
<span class="math display">\[g(t) \equiv e^{kt},\ \ g(x) \equiv e^{kx},\ \ g(y) \equiv e^{ky},\ \ g(\mbox{altitude}) \equiv e^{k\,{\small{\text{altitude}}}}\]</span>
When we work with functions of two or more variables, it will be essential to give easily distinguished names to the inputs. We’re trying to get you in the habit of paying attention to the names of inputs and break a <em>bad habit</em> from high-school math of calling the input <span class="math inline">\(x\)</span> and the output <span class="math inline">\(y\)</span>.</p>
</div>
<p>Now we are going to make a small, subtle, and important change. Instead of thinking of the average rate of change <em>at a specific interval</em> <span class="math inline">\(t_0\)</span> to <span class="math inline">\(t_0 + h\)</span>, we’re going to write an average-rate-of-change <strong><em>function</em></strong>. And since we’re in the habit of giving <em>names</em> to functions, we’ll be careful to name average-rate-of-change functions in a way that makes explicit the connection to the function <span class="math inline">\(f(t)\)</span> whose rate of change is being calculated.</p>
<p>Our convention will be to use two additional components in the names of average-rate-of-change functions. The first component is to lead with a “D” in a caligraphic font: <span class="math inline">\(\cal D\)</span>. The second component will be the name of the input whose interval is being used in calculating the rate of change. So …</p>
<p><span class="math display">\[{\cal D}_t\, f(t) \equiv \frac{f(t + h) - f(t)}{h}\]</span>
You can pronounce <span class="math inline">\({\cal D}_t\)</span> as “difference with respect to <span class="math inline">\(t\)</span>.” But remember that the function name is the whole deal, <span class="math inline">\({\cal D}_t\, f()\)</span>, which is to be read as “difference with respect to <span class="math inline">\(t\)</span> of <span class="math inline">\(f()\)</span>.” Admittedly a long name. Don’t be surprised later when we start using <em>nicknames</em> like Liz (for Elizabeth) or Bill (for William). For instance, later we’ll save ink and breath by using the nickname <span class="math inline">\(\dot{f}()\)</span> instead of <span class="math inline">\({\cal D}_t\, f()\)</span>.</p>
<p>From the way we’ve defined <span class="math inline">\({\cal D}_t f(t)\)</span>, it’s reasonable to assume that <span class="math inline">\(h\)</span> is a <strong><em>parameter</em></strong>: a symbol naming a numerical value that has to be specified before <span class="math inline">\({\cal D}_t\, f(t)\)</span> can be evaluated at a specific <span class="math inline">\(t\)</span>.</p>
<div class="workedexample" latex-data="">
<p>Find a formula for <span class="math inline">\({\cal D}_x\, g(t)\)</span>the average-rate-of-change function with respect to <span class="math inline">\(x\)</span> of <span class="math inline">\(g(x) \equiv x^2\)</span>.</p>
<p><span class="math display">\[{\cal D}_x g(x) = \frac{(x + h)^2 - x^2}{h}\\
= \frac{x^2 + 2 x h + h^2 - x^2}{h}\\
= \frac{2 x h + h^2}{h} = 2 x + h\]</span></p>
</div>
<p>I like to think of <span class="math inline">\(h\)</span> as a kind of <em>tire iron</em>, a small tool used to stretch the bead of a bicycle tire in order to pull it over the wheel rim.</p>
<div class="figure" style="text-align: center">
<span id="fig:unnamed-chunk-78"></span>
<img src="www/tire-iron.png" alt="A tire iron in use" width="30%"><p class="caption">
Figure 10.1: A tire iron in use
</p>
</div>
<p>Once the tire iron has done its job, it’s removed and you would never know that it was ever there (except that the tire is now successfully mounted on the wheel).</p>
<div class="workedexample" latex-data="">
<p>Find an average-rate-of-change function with respect to <span class="math inline">\(x\)</span> of <span class="math inline">\(g(x) \equiv x^2\)</span>, but remove the tire iron <span class="math inline">\(h\)</span> when you’re done.</p>
<p><span class="math display">\[{\cal D}_x g(x) 
= \frac{(x + h)^2 - x^2}{h}\ \ \mbox{stretch $x$ a bit}\\
= \frac{x^2 + 2 x h + h^2 - x^2}{h}\ \ \mbox{pull over rim}\\
= \frac{2 x h + h^2}{h} \ \ \mbox{still pulling ...}\\
= 2 x + h \ \ \mbox{success!}\]</span></p>
<p>Now remove the tire iron to get <span class="math display">\[{\cal D}_x g(x) = 2x\]</span>.</p>
</div>
<p>But this is calculus, not bicycle mechanics. How do we know that removing the tire iron isn’t damaging the mathematical wheel? Historically, this has been a serious debate, resolved only with great difficulty more than a century after calculus started being used successfully.</p>
<p>Still in the spirit of having fun, let’s try a more serious metaphor… imagining <span class="math inline">\(h\)</span> is actually a central character in a calculus play. The character <span class="math inline">\(h\)</span> is in the middle of the story but <em>never appears in the play</em>, like the missing character Godot in the famous play <em><a href="https://en.wikipedia.org/wiki/Waiting_for_Godot#Godot">Waiting for Godot</a></em>.</p>
<div class="workedexample" latex-data="">
<p>We said that <span class="math inline">\(h\)</span> in the finite rate of change function <span class="math inline">\({\cal D}_x g()\)</span>, so long as <span class="math inline">\(h\)</span> is small, plays both a central role and has hardly any effect. An economizing director re-writes the play to take <span class="math inline">\(h\)</span> out of it, setting <span class="math inline">\(h=0\)</span>: a non-speaking, offstage role.</p>
<p>We’ve already seen using legitimate algebra that <span class="math display">\[{\cal D}_x g(x) = 2 x + h\]</span> Re-writing by replacing <span class="math inline">\(h\)</span> with 0 streamlines the play, turning <span class="math inline">\(\Delta g()\)</span> from a dialog involving both <span class="math inline">\(x\)</span> and <span class="math inline">\(h\)</span> into a monologue with <span class="math inline">\(h\)</span> absent: <span class="math display">\[{\cal D}_x g(x) = 2 x\]</span> Simple.</p>
<p>And yet … the director gets a letter from the Bit Players Union.</p>
<blockquote>
<p><em>We observe that you have eliminated the role of <span class="math inline">\(h\)</span> in the final production version of <span class="math inline">\({\cal D}_x g(x)\)</span>. This is a violation of Union regulations. Recall that the rate-of-change function <span class="math inline">\({\cal D}_x g(x)\)</span> is defined as a ratio: <span class="math display">\[{\cal D}_x g(x) \equiv \frac{g(x+h) - g(x)}{h}\]</span> Although the name <span class="math inline">\(h\)</span> does not need to appear in the argument list of <span class="math inline">\({\cal D}_x g(x)\)</span>, eliminating <span class="math inline">\(h\)</span> entirely by replacing her with zero is a <strong>division by zero error</strong> forbidden by Article 3.16§B¶2 of the Unified Laws of Arithmetic. We ask that you comply with this Article by re-instating the role of <span class="math inline">\(h\)</span> in all evaluations of <span class="math inline">\({\cal D} g(x)\)</span>.</em></p>
</blockquote>
<p>Reading this, the director calls her lawyer. Is there a loophole for removing <span class="math inline">\(h\)</span> without breaking the mathematical prohibition on dividing by zero?</p>
</div>
<h2 id="the-derivative-operator">
<span class="header-section-number">10.2</span> The derivative operator</h2>
<p>Let’s put aside for the moment the issue of the disappearing <span class="math inline">\(h\)</span>.</p>
<div class="forinstructor" latex-data="">
<p>Historically, such “putting aside” has incurred a great deal of criticism. In 1734, famous philosopher <a href="https://en.wikipedia.org/wiki/George_Berkeley">George Berkeley</a> (1685-1753) published a long-titled book: <em>The Analyst: A Discourse Addressed to an Infidel Mathematician: Wherein It Is Examined Whether the Object, Principles, and Inferences of the Modern Analysis Are More Distinctly Conceived, or More Evidently Deduced, Than Religious Mysteries and Points of Faith</em>. In <em>The Analyst</em>, Berkeley took issue with the arguments of that time that it is legitimate to divide by <span class="math inline">\(h\)</span> when, ultimately, <span class="math inline">\(h\)</span> will be replaced by zero. Calling <span class="math inline">\(h\)</span> an “evanescent increment,” he asked,</p>
<blockquote>
<p><em>“And what are these same evanescent Increments? They are neither finite Quantities nor Quantities infinitely small, nor yet nothing. May we not call them the ghosts of departed quantities?”</em></p>
</blockquote>
<p>Interesting, Berkeley believed that the ghost of <span class="math inline">\(h\)</span> yielded correct results. His objection was that the framers of calculus had made two, canceling errors.</p>
<blockquote>
<p><em>“[B]y virtue of a two fold mistake you arrive, though not at science, yet truth.”</em></p>
</blockquote>
<p>Berkeley was saying that calculus had not yet been put on a solid logical foundation. It was to be more than a century after Berkeley’s death until this work was accomplished. Once accomplished, the results that had been claimed true all along were confirmed.</p>
<p>I propose that we start with the results, which is what everyone <em>uses</em>. Later, we can introduce the new concepts on which the new logic was based. The names of the concepts—continuity, smoothness, singularity—are widely and effectively used in talking about functions, but the names, like many words in English, can be put to good and accurate use without memorizing the precise definitions.</p>
</div>
<p>On to the results …</p>
<ol style="list-style-type: decimal">
<li>Every “smooth” function <span class="math inline">\(h(x)\)</span> has a corresponding function that is its derivative <span class="math inline">\(\partial_x h(x)\)</span>.</li>
<li>Finding the algorithm for <span class="math inline">\(\partial_x h(x)\)</span>, called <strong><em>differentiating <span class="math inline">\(h()\)</span></em></strong>, is <em>automatic</em> in the sense that it can be done by computer without human intervention or judgment.</li>
<li>When there is an algebraic formula for <span class="math inline">\(h(x)\)</span>, the computer can find the algebraic formula for <span class="math inline">\(\partial_x h(x)\)</span>. This is called <strong><em>symbolic differentiation</em></strong>.</li>
<li>When there is no algebraic formula for <span class="math inline">\(h()\)</span>, the computer can use <strong><em>numerical differentiation</em></strong> which involves a non-zero <span class="math inline">\(h\)</span>. The results of numerical differentiation on functions with formulas can differ subtly from the results from symbolic differentiation. Usually the difference is too small to notice, but in extreme cases it is not. It’s important for the user of numerical differentiation to know how to identify extreme cases and deal with them.</li>
<li>The derivatives of each of the basic modeling functions<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;aside from &lt;span class="math inline"&gt;\(\text{hump}()\)&lt;/span&gt;&lt;/p&gt;'><sup>2</sup></a> can be expressed in terms of a basic modeling function.</li>
</ol>
<h2 id="a-derivative-is-a-function">
<span class="header-section-number">10.2</span> A derivative is a function</h2>
<p>First and foremost, remember that a derivative <span class="math inline">\(\partial_x f(x)\)</span> is a <strong><em>function</em></strong>. The process of constructing the derivative from the original function is called <strong><em>differentiation</em></strong> as in "differentiate <span class="math inline">\(f(x)\)</span> with respect to <span class="math inline">\(x\)</span> in order to produce the function <span class="math inline">\(\partial_x f(x)\)</span>.</p>
<p>Just as we have words to describe classes of functions—exponential, sinusoid, power-law, sigmoid—we have a word to refer to a function created by differentiation. That word, <strong><em>derivative</em></strong>, comes from a more general word, “derive,” which means to obtain something from a source.</p>
<p>The use of the word “derivative” in mathematics to refer to a particular sort of derivation is at once clever and incredibly confusing. Insofar as calculus textbooks feature extensive drill on deriving the formula for a differentiated function, “derivative” is natural. And perhaps the connection is reinforced by a similarity in sound: “deriv” is like “differ” turned inside out. “Deriv” has the f-sound at the end and the r-sound in the middle, “differ” has it the other way round.</p>
<p>Unfortunate, the calculus text drill on the algebraic properties used in derivations creates an entirely misleading impression. Students routinely draw the conclusion that a derivative is <em>made</em> or <em>constructed</em> or <em>derived</em> from another function. That may be true in textbooks, but it’s more broadly true that <strong>every function is a derivative</strong>. There’s no genuine need, except in textbook exercises, to insist that “derivative” is anything other than a synonym for “function.”</p>
<p>Rather than setting a narrow focus on the algebraic and numerical processes for differentiation, you should look at the big picture: there are functions galore and some of those functions are related to each other in a specific way that turns out, in the development of science and mathematics, to be especially important for describing real-world relationships.</p>
<p>A nice, everyday framework to summarize the sorts of relationship involved in differentiation is the relationship between parent and child. Imagine that every person corresponds to a particular function. A mother and father pair is two almost identical functions, functions that differ by a constant. Their child is the derivative of those functions—both of them.</p>
<p>Children have parents, parents have parents, everybody has parents. The parent/child relationship connects two generations, but there are also grandparent/child relationships, great-grandparent/child relationships and so on. Similarly there is a relationship between a function <span class="math inline">\(f(x)\)</span> and its derivative <span class="math inline">\(\partial_x f(x)\)</span>, and between a function and the “derivative of the derivative” which we write <span class="math inline">\(\partial_{xx} f(x)\)</span> and call a “second derivative.” There are third derivatives (great-grandchildren), fourth derivatives (great-great-grandchildren) and so on down the line.</p>
<p>Every child is a person, every parent is a person, every grandparent is a person. Similarly, every function is a function, every derivative is a function. Since a derivative is a function, it can also have a derivative.</p>
<p>There are important and instructive ways that derivative relationships between mathematical functions differ from the relationships within biological families. For instance, a function can be its own derivative. Any parent function has only one child function; there are not two different functions that are children of the same parent. And child functions have many parent functions that look astoundingly alike. They differ only by a constant, such as <span class="math inline">\(x^2\)</span> and <span class="math inline">\(x^2 + 5\)</span>, which have the same child (which, as you will see, is <span class="math inline">\(2 x\)</span>).</p>
<p>Many a drama involves a parent looking for a lost child. Functions are in the happy situation that finding a child is a matter of turning a crank and is easily automated. Proving that a person is the child of another is nowadays done with genetic testing. For functions it’s much more straightforward: turn the crank and if you get that person as a result, you’ve established the relationship.</p>
<p>As you can imagine, just as there is a mathematical process for finding the child of a function, there is another process for finding a parent of a function. Finding the child from the parent is <strong><em>differentiation</em></strong>; finding a parent from the child is <strong><em>anti-differentiation</em></strong>.</p>
<p>Calculus is important and useful because many processes and properties of real-world objects and situations are related to one another in the same parent-child manner as functions and their derivatives and anti-derivatives. The metaphysics of why this is the case is a matter of speculation. Perhaps “calculus” is like evolution: the techniques we call calculus reflect the “survival of the fittest” for constructing models of the real world.</p>
<p>To explore the …/parent/child/grandchild/… relationship for functions, you need a technology for finding the child of any parent. There are several technologies for turning the crank that lets us find a parent’s child … that is, the derivative of a function. For now, we’ll give you just one such technology that lets a computer turn the crank.</p>
<p>In R/mosaic, differentiation can be accomplished using the <code><a href="https://rdrr.io/r/stats/deriv.html">D()</a></code> function. Give a tilde expression as the argument in the same manner as you do for <code>slice_plot()</code> or <code>contour_plot()</code>. To illustrate: Suppose you have a function <code>f(x)</code>. The derivative of that function can be located and given a name for later use by a simple R command:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dx_f</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/deriv.html">D</a></span><span class="op">(</span><span class="fu">f</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">~</span> <span class="va">x</span><span class="op">)</span></code></pre></div>
<p>The <code>~ x</code> can be pronounced “with respect to <span class="math inline">\(x\)</span>.”</p>
<p>We’re using the name <code>dx_f</code> in this example to remind you of the mathematical notation <span class="math inline">\(\partial_x f(x)\)</span>. But, as always, you could use any name you like for the output of <code><a href="https://rdrr.io/r/stats/deriv.html">D()</a></code> and use whatever name is appropriate in the tilde expression. For instance, if you are modeling Greek mythology<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;A mathematical function has only one derivative. Greek gods had many children. That’s why it’s mythology and not mathology.&lt;/p&gt;"><sup>3</sup></a>, you might encounter</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">Athena</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/deriv.html">D</a></span><span class="op">(</span><span class="fu">Zeus</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">~</span> <span class="va">x</span><span class="op">)</span></code></pre></div>
<div class="workedexample" latex-data="">
<p>Like the leagues of Marvel superheroes in comics and movies, the Basic Modeling Functions (BMF) are an assembled collection. In the back story of how the BMFs came together, you’ll read that the derivative of each of the BMFs is itself a BMF. This is no accident.</p>
<p>Back in the days of ancient Greece and before, the mysteries of the World were attributed to gods and their children. Gods had many children because there were many connections among phenomena, for instance, rain, wind, and thunder are all different things but closely related.</p>
<p>Science generally describes relationships between different things in the natural world—position, velocity, acceleration, force, energy—using derivatives and anti-derivatives. The BMFs are the superheroes of calculus because they exemplify the relationships that drive the process of the world, just as did the mythological gods and their mythological children.</p>
<p>Which BMF is the ~<del>child</del>~ derivative of the exponential function?</p>
<p>We can turn the crank with the <code><a href="https://rdrr.io/r/stats/deriv.html">D()</a></code> function.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">child_of_exp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/deriv.html">D</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">exp</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">~</span> <span class="va">x</span><span class="op">)</span>
<span class="fu">slice_plot</span><span class="op">(</span><span class="fu">child_of_exp</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">~</span> <span class="va">x</span>, <span class="fu">domain</span><span class="op">(</span>x<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="CalcZ-notes_files/figure-html/unnamed-chunk-81-1.png" width="672"></div>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">slice_plot</span><span class="op">(</span><span class="fu">child_of_exp</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">~</span> <span class="va">x</span>, <span class="fu">domain</span><span class="op">(</span>x<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">gf_refine</span><span class="op">(</span><span class="fu">scale_y_log10</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">gf_labs</span><span class="op">(</span>title<span class="op">=</span><span class="st">"Semi-log plot"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="CalcZ-notes_files/figure-html/unnamed-chunk-81-2.png" width="672"></div>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">slice_plot</span><span class="op">(</span><span class="fu">child_of_exp</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">~</span> <span class="va">x</span>, <span class="fu">domain</span><span class="op">(</span>x<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">gf_refine</span><span class="op">(</span><span class="fu">scale_y_log10</span><span class="op">(</span><span class="op">)</span>, <span class="fu">scale_x_log10</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">gf_labs</span><span class="op">(</span>title<span class="op">=</span><span class="st">"Log-log plot"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="CalcZ-notes_files/figure-html/unnamed-chunk-81-3.png" width="672"></div>
<p>The <code>child_of_exp()</code> looks very much like <code><a href="https://rdrr.io/r/base/Log.html">exp()</a></code> itself. On semi-log axes, <code>child_of_exp()</code> the graph is a straight line confirming the relationship. On log-log axes, the graph of a power-law function will be a straight line: <code>child_of_exp()</code> isn’t.</p>
</div>
<div class="todo">
<p>ROUGH ROUGH ROUGH</p>
<p>Lidar measured distance to ground. The function value doesn’t really matter. What matters is how the value at a point relates to the values at nearby points. Seeing this difference is how you can spot the Maya ruins.</p>
<div class="inline-figure"><img src="www/mayan-ruins.jpg" width="684"></div>
<p>Instituto Nacional de Estadística y Geografía/Nacional Center for Airborne Laser Mapping</p>
<p>"The map, published in 2011 by Mexico’s National Institute of Statistics and Geography, covered 4,440 square miles in the Mexican states of Tabasco and Chiapas. It was made as part of the institute’s mission to create accurate maps to be used by businesses and researchers.</p>
<p>“Dr. Inomata learned about the map from Rodrigo Liendo, an archaeologist at the National Autonomous University of Mexico. The resolution of the map was low. But the outlines of countless archaeological sites stood out to Dr. Inomata. So far, he has used it to identify the ruins of 27 previously unknown Maya ceremonial centers that contain a type of construction that archaeologists had never seen before. These sites may hold insights into the origins of Maya civilization.”</p>
<p><a href="https://www.nytimes.com/2019/10/08/science/archaeology-lidar-maya.html">NYTimes article</a></p>
</div>

<h1 id="rate-of-change-relationships">
<span class="header-section-number">10.2</span> Rate-of-change relationships</h1>
<div class="objectives" latex-data="">
<ol>
<li>
<strong>[Diff-1a]</strong> <em>Understand the relations between position, velocity, and acceleration as “change relations.”</em>
</li>
</ol>
</div>
<p>We’ve been treating functions and derivative functions abstractly, in terms of, notation, definition, and interpretation of graphs. Now let’s look at phenomena in the real world to see how they display the function/derivative relationship.</p>
<p>POSITION, VELOCITY, ACCELERATION, FORCE, ENERGY</p>

<h1 id="continuity-and-smoothness">
<span class="header-section-number">10.2</span> Continuity and smoothness</h1>
<div class="objectives" latex-data="">
<ol>
<li>
<strong>[Deriv-3a]</strong> <em>Understand the physical analogs of continuity and smoothness.</em>
</li>
<li>
<strong>[Deriv-3b]</strong> <em>Determine if a function is continuous by thinking about the “pencil stays on paper” technique</em>
</li>
<li>
<strong>[Deriv-3c]</strong> <em>Understand smooth of degree 1 as “Function is continuous, derivative is continuous</em>
</li>
<li>
<strong>[Deriv-3d]</strong> <em>Understand smooth of degree as “Smooth of degree and the derivative is continuous”</em>
</li>
<li>
<strong>[Fun-4-b-4e]</strong> <em>Identify “division by zero” as a source of interruption in the domain of a function. [[??? Redefine the function to avoid the disruption.]]</em>
</li>
</ol>
</div>
<p>Now that you have a concept of the derivative of a function, we can discuss some of the terms that are used to describe functions in general.</p>
<h2 id="piecewise-functions">
<span class="header-section-number">10.2</span> Piecewise functions</h2>
<p>Our foil for showing smoothness and continuity.</p>
<p>See section in Fun-modeling.Rmd and connect to that.</p>
<h2 id="continuity">
<span class="header-section-number">10.2</span> Continuity</h2>
<p>Lift the pen.</p>
<h2 id="differentiability">
<span class="header-section-number">10.2</span> Differentiability</h2>
<p>We want the derivative to exist no matter the details of how we define the derivative.</p>
<ol style="list-style-type: decimal">
<li><span class="math inline">\(\partial_x f(x) \equiv \lim_{h\rightarrow 0} \frac{f(x+h) - f(x)}{h}\)</span></li>
<li><span class="math inline">\(\partial_x f(x) \equiv \lim_{h\rightarrow 0} \frac{f(x) - f(x-h)}{h}\)</span></li>
<li><span class="math inline">\(\partial_x f(x) \equiv \lim_{h\rightarrow 0} \frac{f(x+h) - f(x-h)}{2 h}\)</span></li>
</ol>
<h1 id="derivatives-of-the-basic-modeling-functions">
<span class="header-section-number">10.2</span> Derivatives of the basic modeling functions</h1>
<div class="objectives">
<ol>
<li>
<strong>[Deriv-7a-1]</strong> <em>Know the derivatives of the Naked Core Functions</em>
</li>
</ol>
</div>
<ul>
<li><span class="math inline">\(\partial_x e^x = e^x\)</span></li>
<li>
<span class="math inline">\(\partial_x x^p = p x^{p-1}\)</span> for <span class="math inline">\(p \neq 0\)</span>
</li>
<li>
<span class="math inline">\(\partial_x \sin(x) = \cos(x)\)</span> and <span class="math inline">\(\partial_x \cos(x) = \sin(x)\)</span>
</li>
<li><span class="math inline">\(\partial_x \ln(x) = 1/x\)</span></li>
<li><span class="math inline">\(\partial_x \text{sigmoid}(x) = \text{hump}(x)\)</span></li>
</ul>
<div class="objectives">
<ol>
<li>
<strong>[Deriv-7a-2]</strong> <em>Apply the basic derivative shortcuts to find the derivative of a function.</em>
</li>
</ol>
</div>
<p>We’re going to leave <span class="math inline">\(\partial_x \mbox{hump}(x)\)</span> alone for now until we have a more complete understanding of derivatives. But other than that, notice that the derivative of every one of these mathematical functions—exponential, power-law, sinusoid—is also in the set of the basic functions.</p>
<div class="workedexample" latex-data="">
<p>How can we know that these formulas are right? Let’s start by comparing them to the functions computed from the <span class="math inline">\({\cal D}_x\)</span> formula when <span class="math inline">\(h\)</span> is very small.</p>
<p>Consider <span class="math inline">\(\partial_x e^x\)</span>, which is claimed to be <span class="math inline">\(e^x\)</span>. Figure @ref{fig:exp-h} plots <span class="math inline">\(e^x\)</span> (in green) as well as a function ARC<span class="math inline">\((x, h)\)</span> (<strong>A</strong>verage <strong>R</strong>ate of <strong>C</strong>hange) that takes both <span class="math inline">\(x\)</span> and <span class="math inline">\(h\)</span> as inputs: <span class="math display">\[\mbox{ARC}(x, h) \equiv {\cal D}_x e^x = \frac{e^{x+h} - e^x}{h} = e^x \frac{e^h - 1}{h}\]</span></p>
<div class="inline-figure"><img src="CalcZ-notes_files/figure-html/exp-h-1.png" width="672"></div>
<p>You can see at a glance that <span class="math inline">\(\mbox{ARC}(x, h)\)</span> gets closer and closer to the claimed derivative, <span class="math inline">\(e^x\)</span>, as <span class="math inline">\(h\)</span> gets smaller.</p>
<p>A better view of things comes from recognizing that <span class="math display">\[\mbox{ARC}(x, h) = e^x \left[\frac{e^h - 1}{h}\right]\]</span>
Let’s look at the quantity in brackets as <span class="math inline">\(h\)</span> gets small. If that goes to 1 for small <span class="math inline">\(h\)</span>, then <span class="math inline">\(\mbox{ARC}(x, h)\)</span> goes to <span class="math inline">\(e^x\)</span>.</p>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th align="left"><span class="math inline">\(h\)</span></th>
<th><span class="math inline">\(\frac{e^h - 1}{h}\)</span></th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">1</td>
<td>1.71828182845905</td>
</tr>
<tr class="even">
<td align="left">0.1</td>
<td>1.05170918075648</td>
</tr>
<tr class="odd">
<td align="left">0.01</td>
<td>1.00501670841679</td>
</tr>
<tr class="even">
<td align="left">0.001</td>
<td>1.00050016670838</td>
</tr>
<tr class="odd">
<td align="left">0.0001</td>
<td>1.00005000166714</td>
</tr>
<tr class="even">
<td align="left">0.00001</td>
<td>1.00000500000696</td>
</tr>
<tr class="odd">
<td align="left">0.000001</td>
<td>1.00000049996218</td>
</tr>
<tr class="even">
<td align="left">0.0000001</td>
<td>1.00000004943368</td>
</tr>
<tr class="odd">
<td align="left">0.00000001</td>
<td>0.999999993922529</td>
</tr>
<tr class="even">
<td align="left">0.000000001</td>
<td>1.00000008274037</td>
</tr>
</tbody>
</table></div>
</div>
<h2 id="derivatives-of-linear-combinations">
<span class="header-section-number">10.2</span> Derivatives of linear combinations</h2>
<h2 id="derivatives-of-composed-functions">
<span class="header-section-number">10.2</span> Derivatives of composed functions</h2>
<p>Just state the rule</p>
<p><span class="math display">\[\partial_ f(g(x)) = \partial_x f(g(x)) \partial_x g(x)\]</span>
and some examples. Then return to the derivation in an example in the Approximations chapter.</p>
<h2 id="derivatives-of-the-basic-modeling-function">
<span class="header-section-number">10.2</span> Derivatives of the basic modeling function</h2>
<div class="objectives">
<ol>
<li>
<strong>[Deriv-8c]</strong> <em>Master derivatives of basic modeling functions</em>
</li>
</ol>
</div>
<p>Just an application of the principles behind composed functions.</p>
<ul>
<li><span class="math inline">\(\partial_x e^{k x} = k\,e^{k x}\)</span></li>
<li><span class="math inline">\(\partial_x x^0 = 0\)</span></li>
<li>
<span class="math inline">\(\partial_x x^p = p\, x^{p-1}\)</span>. unless <span class="math inline">\(p=0\)</span>.</li>
<li><span class="math inline">\(\partial_x \sin(\frac{2\pi}{P} x) = \frac{2\pi}{P}\cos(\frac{2\pi}{P}x)\)</span></li>
<li><span class="math inline">\(\partial_x \cos(\frac{2\pi}{P} x) = \frac{2\pi}{P}\sin(\frac{2\pi}{P}x)\)</span></li>
<li><span class="math inline">\(\partial_x \mbox{sigmoid}(x, \text{center}, \text{width}) = \frac{1}{\text{center}}\mbox{hump}(x, \text{center}, \text{width})\)</span></li>
</ul>
<p>NEXT STEP. The linear expansion …</p>
<p><span class="math inline">\(f(x + h) \approx f(x) + h \partial_x f(x)\)</span></p>
<p>YOU GOT HERE.</p>
<h2 id="the-delta-operator">
<span class="header-section-number">10.2</span> The <span class="math inline">\(\Delta\)</span> operator</h2>
<p>CHANGE THIS TO <span class="math inline">\({\cal D}\)</span> and introduce it once you have gotten rid of <span class="math inline">\(h\)</span>.</p>
<p>Up until now, we used only functions that take numerical quantities as inputs and produce a numerical quantity as an output. It’s time now to broaden our perspective a bit.</p>
<p>Imagine a function named <span class="math inline">\(\Delta()\)</span> defined like this:
<span class="math display">\[\Delta(f) \equiv \frac{f(x+h) - f(x)}{h}\]</span>
<span class="math inline">\(\Delta()\)</span> takes as input a <strong>function</strong>. You might have guessed this because the definition uses the name <span class="math inline">\(f\)</span> for the input to <span class="math inline">\(\Delta()\)</span>, but the name of an input does not matter so long as it is used consistently in the body of the function. Looking at the body, you can that the name <span class="math inline">\(f\)</span> is being used (twice!) in the position of a function’s name.</p>
<p>For instance:</p>
<ul>
<li><span class="math inline">\(\Delta(\sin) = \frac{\sin(x+h) - \sin(x)}{h}\)</span></li>
<li><span class="math inline">\(\Delta(x^2) = \frac{(x+h)^2 - x^2}{h}\)</span></li>
<li><span class="math inline">\(\Delta(a + b x) = \frac{a + b(x + h) - \left(a + b x\right)}{h}\)</span></li>
</ul>
<div class="why" latex-data="">
<p>Why did you use <span class="math inline">\(=\)</span> in the above statements rather than the <span class="math inline">\(\equiv\)</span> ?</p>
<p><span class="math inline">\(\equiv\)</span> means “is defined as” or “is the name of.” When we wrote <span class="math display">\[\Delta(f) \equiv \frac{f(x+h) - f(x)}{h}\]</span> we were giving a name to a function. But writing <span class="math inline">\(\Delta(a + b x)\)</span> means to apply the already defined function <span class="math inline">\(\Delta\)</span> to an input, that input being the straight-line function <span class="math inline">\(a + b x\)</span>. Rather than <em>defining</em> what is <span class="math inline">\(\Delta(a + b x)\)</span> we are <em>deducing</em> it from objects that have already been defined.</p>
</div>
<p>What is the output of <span class="math inline">\(\Delta()\)</span>? It takes a <em>function</em> as an input and returns … a function as an output.</p>
<p>We might choose to give a name to the output, for example fred() or betty() or, more helpfully, <span class="math inline">\(\mbox{rate}_{\sin}\)</span> or <span class="math inline">\(\Delta \sin\)</span>, but our naming conventions, particularly the use of <span class="math inline">\(x\)</span> indicate that <span class="math inline">\(\frac{\sin(x+h) - \sin(x)}{h}\)</span> is a function.</p>
<p>In calculus, there are a handful of celebrity functions that take a function as input and return a function as output. Notice that the word “function” appeared three times in the previous sentence. To avoid this sort of sleep-inducing repetition, we’ll call such functions <strong><em>operators</em></strong>.</p>

<h1 id="approximating-functions">
<span class="header-section-number">10.2</span> Approximating functions</h1>
<div class="objectives">
<ol>
<li>
<strong>[Deriv-5a]</strong> <em>Understand strategy of looking at the behavior of function <span class="math inline">\(f(x)\)</span> around a point <span class="math inline">\(x_0\)</span> by considering a new, possibly simpler function in terms of <span class="math inline">\(x\)</span>.</em>
</li>
<li>
<strong>[Deriv-5b]</strong> <em>Be able to construct a straight-line function (Linear Approximation) that approximates <span class="math inline">\(f(x)\)</span> around <span class="math inline">\(x_0\)</span></em>
</li>
<li>
<strong>[Deriv-5c]</strong> <em>Be able to construct a 2nd-order polynomial (Quadratic Approximation) whose value and derivatives at match those of a function</em>
</li>
</ol>
</div>
<div class="workedexample">
<p>Derivation of the chain rule. Break down the following, step by step.</p>
<p><span class="math display">\[\partial_ f(g(x)) = \frac{f(g(x+h)) - f(g(x))}{h} \\
= \frac{1}{h} \left[f(g(x)) + \partial_x f(g(x)) \partial_x g(x) h - f(g(x) \right] \\
=\partial_x f(g(x)) \partial_x g(x)
\]</span></p>
</div>

<h1 id="a-framework-for-modeling">
<span class="header-section-number">10.2</span> A framework for modeling</h1>
<p>This will be about low-order polynomials. (See Line 410 in Fun-modeling.Rmd for a premonition of this.)</p>
<div class="objectives">
<ol>
<li>
<strong>[Deriv-9a]</strong> <em>Eliminate terms in a possible model by considering simple inputs for which the result is known.</em>
</li>
<li>
<strong>[Deriv-9b]</strong> <em>Understand the concept of grade as it relates to elevation change.</em>
</li>
<li>
<strong>[Deriv-9c]</strong> <em>Use dimensional analysis to determine the units of terms within a model.</em>
</li>
</ol>
</div>

<h1 id="partial-change">
<span class="header-section-number">10.2</span> Partial change</h1>
<div class="objectives">
<ol>
<li>
<strong>[Deriv-4a]</strong> <em>Understand that there are many different slopes at any point of a non-constant function of 2 or more variables.</em>
</li>
<li>
<strong>[Deriv-4b]</strong> <em>Calculate partial derivatives on a contour plot</em>
</li>
<li>
<strong>[Deriv-4c]</strong> <em>Understand “partial derivative” as “changing one input while holding constant all the other inputs.”</em>
</li>
<li>
<strong>[Deriv-8b]</strong> <em>Calculate partial derivatives by “changing one input while holding constant all the other inputs.”</em>
</li>
<li>
<strong>[Deriv-4d]</strong> <em>Know the three properties of gradient vectors</em>
</li>
</ol>
</div>

<h1 id="limits-evanescent-h">
<span class="header-section-number">10.2</span> Limits: evanescent <span class="math inline">\(h\)</span>
</h1>
<div class="objectives">
<ol>
<li>
<strong>[Deriv-6a]</strong> <em>Recognize the various types of discontinuities.</em>
</li>
<li>
<strong>[Deriv-6b]</strong> <em>Understand limit notation and what <span class="math inline">\(\lim_{h\rightarrow 0}\)</span> means.</em>
</li>
<li>
<strong>[Deriv-6c]</strong> <em>Understand how a limit is used to find the derivative at a single point.</em>
</li>
<li>
<strong>[Deriv-6d]</strong> <em>Calculate limits for horizontal asymptote problems.</em>
</li>
</ol>
</div>
<p>The word “evanescent” means, “lasting for only a short time, then disappearing quickly and being forgotten.” (<a href="https://dictionary.cambridge.org/us/dictionary/english/evanescent">Source</a>) Another dictionary definition is “tending to vanish like vapor.” (<a href="https://www.merriam-webster.com/dictionary/evanescent">Source</a>) I’ve used metaphors for <span class="math inline">\(h\)</span>: tire irons, dramatic characters who never appear or speak. Here’s another one: the solvent in ink or paint. Ink and paint are liquid yet become solid when brushed on a surface. This can happen because the solid pigments are suspended in liquid. Exposed to the air, the liquid vaporizes and is forgotten. The solid pigment remains on the surface.</p>
<p>We can easily evaluate an <strong><em>average rate of change function</em></strong>, for instance <span class="math inline">\({\cal D}_t g(t)\)</span> by evaluating <span class="math inline">\(g(t)\)</span> at two different inputs and dividing by the distance between the inputs:
<span class="math display">\[{\cal D}_t g(t) = \frac{g(t+h) - g(t)}{h}\]</span>
So if you know <span class="math inline">\(g()\)</span>, you know <span class="math inline">\({\cal D}_t g(t)\)</span>. By making <span class="math inline">\(h\)</span> very small, the “average” starts to look like “instantaneous.” Over a small interval of length <span class="math inline">\(h\)</span>, every smooth function looks like a straight line. For a straight line, the average rate of change is exactly the same as the instantaneous rate of change.</p>
<p>We’d like to take <span class="math inline">\(h\)</span> out of the picture, imagining that it is zero but not dealing with “divide by zero” if we can avoid it. To signify this idea of neglecting <span class="math inline">\(h\)</span>, we’ll use a new notation. Rather than <span class="math inline">\({\cal D}_t g(t)\)</span> which has that pesky <span class="math inline">\(h\)</span> in it, we’ll write <span class="math inline">\(\partial_t g(t)\)</span>, using the lower-case <span class="math inline">\(\partial\)</span>. The function <span class="math inline">\(\partial_t g(t)\)</span> can properly be called the <strong><em>instantaneous rate of change</em></strong> of <span class="math inline">\(g(t)\)</span>. But everyone calls it the <strong><em>derivative of <span class="math inline">\(g(t)\)</span> with respect to <span class="math inline">\(t\)</span></em></strong> Many people leave out the “with respect to” part, which I suppose is fine for a function like <span class="math inline">\(g(t)\)</span> which has only one input. But functions constructed in modeling generally have multiple inputs, so it’s a bad habit to neglect to identify which one the derivative is “with respect to.” We’ll always sneak the “with respect to” by putting the little subscript on <span class="math inline">\(\partial_t\)</span>.</p>
<p>We lose something by letting <span class="math inline">\(h\)</span> vaporize. There is an easy formula for <span class="math inline">\({\cal D}_t g(t)\)</span>, but without <span class="math inline">\(h\)</span> we can’t write down such a formula for the derivative. Mathematicians like to bridge the gap between <span class="math inline">\({\cal D}\)</span> and <span class="math inline">\(\partial\)</span>, that is between average and instantaneous rates of change, by writing the formula for the derivative with a little “caution” sign out front.
<span class="math display">\[\partial_t g(t) = \lim_{h\rightarrow 0} \frac{g(t+h) - g(t)}{h}\]</span>
The caution sign is mysterious to newcomers because it is saying something absurd: “Remember to forget <span class="math inline">\(h\)</span>.”</p>
<p>There are people who do actual calculations with <span class="math inline">\(\lim_{h\rightarrow 0}\)</span> but nobody needs to any more unless they invent a brand-new function that can’t be written with existing functions. If you do happen to invent such a brand-new function, please remember that you should also invent the derivative of that function. Fortunately for us, the inventors of the past have done the work for us.</p>

<h1 id="practice-with-the-rules">
<span class="header-section-number">10.2</span> Practice with the “Rules”</h1>
<div class="objectives">
<ol>
<li>
<strong>[Deriv-8a]</strong> <em>Apply the advanced derivative shortcuts (Product and Chain Rule) to find the derivative of a function</em>
</li>
</ol>
</div>

<h1 id="optimization">
<span class="header-section-number">10.2</span> Optimization</h1>
<h2 id="peaks-and-hollows">
<span class="header-section-number">10.2</span> Peaks and hollows</h2>
<div class="objectives">
<ol>
<li>
<strong>[Deriv-10a]</strong> <em>Understand and distinguish between max (min) and argmax (argmin)</em>
</li>
<li>
<strong>[Deriv-10b]</strong> <em>Visually identify max (min) and argmax (argmin) in graphs of functions of one and two variables.</em>
</li>
</ol>
</div>
<h2 id="the-quadratic-mountain">
<span class="header-section-number">10.2</span> The quadratic mountain</h2>
<div class="objectives">
<ol>
<li>
<strong>[Deriv-10c]</strong> <em>Find max and min of a quadratic function using calculus and algebra</em>
</li>
</ol>
</div>
<h2 id="objective-and-constraint">
<span class="header-section-number">10.2</span> Objective and constraint</h2>
<div class="objectives">
<ol>
<li>
<strong>[Deriv-11a]</strong> <em>Convert a word problem into an Objective function and constraint.</em>
</li>
<li>
<strong>[Deriv-11b]</strong> <em>Convert a multivariate objective function to a univariate objective function using the constraint</em>
</li>
</ol>
</div>
<ol start="11" style="list-style-type: decimal">
<li>
<p><strong>Optimization Application</strong></p>
<p>Readings: N/A</p>
<p>Objectives:</p>
</li>
</ol>
<h1 id="part-interlude-iteration" class="nonumber">
<span class="header-section-number">10.2</span> (PART) Interlude: Iteration</h1>
<p>Back in the days when mathematical notation was developed, calculations were done by people (who were called “computers”). Since people were involved, it was reasonable to rely on common sense guiding them to do the right thing. For instance, suppose the computers task was to calculate <span class="math inline">\(3.7^5\)</span>. A reasonable instruction to a human is “multiply 3.7 by itself five times.”</p>
<p>As it happens, that isn’t a very clear instruction. Does it mean “solve the same multiplication problem, <span class="math inline">\(3.7 \times 3.7\)</span>, five times in succession?” That’s easy, because once you’ve done it, getting 13.69 as the answer, you just repeat that answer four more times: five times in total. As you know, that’s not the way to get the right answer (which is 693.4396).</p>
<p>Writing unambiguous instructions suitable for a machine to carry out is challenging, especially when first starting out. Fortunately there is a more-or-less straightforward framework for carrying out <strong><em>iteration</em></strong>. Once you know this framework, you’ll be able to present information to the computer in the right way.</p>
<h2 id="initialize-state-update-state-terminate">
<span class="header-section-number">10.2</span> Initialize state, update state, terminate</h2>
<p>A nice way to think about iteration is a process for establishing a <strong><em>state</em></strong> and updating that state over and over until you are done.</p>
<p>Consider the calculation of <span class="math inline">\(3.7^{\,5}\)</span>. Here’s a nice approach:</p>
<ol style="list-style-type: decimal">
<li>We’ll call the state <code>x</code> and initialize it to 1.</li>
<li>Define the update process to be "multiply <code>x</code> by 3.7 and make this the new state.</li>
<li>Carry out the update process 5 times.</li>
</ol>
<p>There are two, distinct styles for describing iteration to the computer: <strong><em>function composition</em></strong> versus <strong><em>looping</em></strong>. Almost everyone find looping easier to understand, but function composition makes it more obvious what the update process is.</p>
<p>Here’s the looping style in R for the <span class="math inline">\(3.7^{\,5}\)</span> problem.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">1</span> <span class="co"># Initialize state</span>
<span class="kw">for</span> <span class="op">(</span><span class="va">n</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">3.7</span> <span class="op">*</span> <span class="va">x</span>  <span class="co"># Update state</span>
<span class="op">}</span>
<span class="va">x</span> </code></pre></div>
<pre><code>## [1] 693.4396</code></pre>
<p>The composition style is different.</p>
<ol style="list-style-type: lower-roman">
<li>You write a function that takes the present state and returns the updated state.</li>
<li>Compose that function <span class="math inline">\(n\)</span> times</li>
<li>Apply the composed function to the initial state</li>
</ol>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">update</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fl">3.7</span><span class="op">*</span><span class="va">x</span>
<span class="va">cfun</span> <span class="op">&lt;-</span> <span class="fu">compose_n</span><span class="op">(</span><span class="va">update</span>, n<span class="op">=</span><span class="fl">5</span><span class="op">)</span>
<span class="fu">cfun</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 1 x 1
##       x
##   &lt;dbl&gt;
## 1  693.</code></pre>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">fib</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">x</span><span class="op">+</span><span class="va">y</span>, <span class="va">x</span><span class="op">)</span>
<span class="va">eight</span> <span class="op">&lt;-</span> <span class="fu">compose_n</span><span class="op">(</span><span class="va">fib</span>, n<span class="op">=</span><span class="fl">5</span><span class="op">)</span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span>
<span class="va">goo</span> <span class="op">&lt;-</span> <span class="fu">compose_n</span><span class="op">(</span><span class="va">fib</span>, n<span class="op">=</span><span class="fl">3</span>, accumulate<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>
<span class="fu">goo</span><span class="op">(</span><span class="va">eight</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 4 x 2
##       x     y
##   &lt;dbl&gt; &lt;dbl&gt;
## 1     8     5
## 2    13     8
## 3    21    13
## 4    34    21</code></pre>
<h1 id="guess-check-improve-repeat">
<span class="header-section-number">10.2</span> Guess &amp; (check, improve, repeat)</h1>
<h2 id="how-to-check-and-when-to-stop">
<span class="header-section-number">10.2</span> How to check (and when to stop)</h2>
<h2 id="how-to-improve">
<span class="header-section-number">10.2</span> How to improve</h2>
<h2 id="walking-uphill">
<span class="header-section-number">10.2</span> Walking uphill</h2>
<div class="objectives">
<ol>
<li>
<strong>[Deriv-10e]</strong> <em>Distinguish between two basic strategies “walk uphill” and “differentiate and solve for zero.”</em>
</li>
</ol>
</div>
<h2 id="finding-zeros">
<span class="header-section-number">10.2</span> Finding zeros</h2>
<div class="objectives">
<ol>
<li>
<strong>[Deriv-10d]</strong> <em>Understand how Newton’s method uses an iterative process to find where the function is zero</em>
</li>
</ol>
</div>

<h1 id="part-block-3-accumulation-and-anti-differentiation" class="unnumbered">(PART) Block 3: Accumulation and anti-differentiation</h1>
<h1 id="modeling-with-accumulation">
<span class="header-section-number">10.2</span> Modeling with Accumulation</h1>
<div class="objectives">
<ol>
<li>
<strong>[Int-5c]</strong> <em>Know common scientific application relationships between base functions and anti-derivatives: a. Acceleration, Velocity, Position; b. Force, Work; c. Area, Volume; d. Cash flow, assets</em>
</li>
</ol>
</div>
<p>Include the mortgage problem</p>

<h1 id="anti-differentiation">
<span class="header-section-number">10.2</span> Anti-differentiation</h1>
<h2 id="reading-the-table-backwards">
<span class="header-section-number">10.2</span> Reading the table backwards</h2>
<div class="objectives">
<ol>
<li>
<strong>[Int-2b]</strong> <em>Utilize your knowledge of derivatives rules to backwards solve for anti-derivatives.</em>
</li>
<li>
<strong>[Int-2f]</strong> <em>Understand that the output of anti-differentiation is a function known as a general solution and more information is necessary to find the particular solution [DTK: This is language I associate with differential equations. How about: Find the constant of integration.]</em>
</li>
<li>
<strong>[Int-2c]</strong> <em>Understand the notation of an indefinite integral to include a. the integral symbol; b. variable of integration (“with respect to” variable); c. the constant of integration</em>
</li>
<li>
<strong>[Int-2d]</strong> <em>Understand the relationship between a (child) function and its (parent) integral.</em>
</li>
</ol>
</div>
<h2 id="the-accumulated-quantity">
<span class="header-section-number">10.2</span> The accumulated quantity</h2>
<div class="objectives">
<ol>
<li>
<strong>[Int-2e]</strong> <em>Determine the units of an anti-derivative given the base function and the variable of integration.</em>
</li>
</ol>
</div>
<h2 id="graphical-construction">
<span class="header-section-number">10.2</span> Graphical construction</h2>
<div class="objectives">
<ol>
<li>
<strong>[Int-5a]</strong> <em>Determine dimensions and units utilizing a graph.</em>
</li>
<li>
<strong>[Int-5b]</strong> <em>Graph the anti-derivative of a function given the graph of the base function and a single point on the anti-derivative.</em>
</li>
</ol>
</div>
<h2 id="step-by-step-with-euler">
<span class="header-section-number">10.2</span> Step by step with Euler</h2>
<div class="objectives">
<ol>
<li>
<strong>[Int-2a]</strong> <em>Utilize Euler’s Method to approximate anti-derivatives when the value of is small.</em>
</li>
</ol>
</div>

<h1 id="the-derivative-of-accumulation">
<span class="header-section-number">10.2</span> The derivative of accumulation</h1>
<div class="chapterintro">
<p>Differentiation and accumulation are the back and forth of a tennis game</p>
</div>
<div class="objectives">
<ol>
<li>
<strong>[Int-1a]</strong> <em>Understand anti-differentiation as the reverse process of differentiation.</em>
</li>
<li>
<strong>[Int-1b]</strong> <em>Utilize the following basic rules of anti-differentiation to find the anti-derivatives of the basic modeling functions (MMAC pgs. 632-633): a. Constant; b. Power-law and the special case of 1/x; c. Exponential; d. Sinusoid</em>
</li>
</ol>
</div>
<h2 id="the-accumulation-of-the-derivative">
<span class="header-section-number">10.2</span> The accumulation of the derivative</h2>

<h1 id="the-definite-integral">
<span class="header-section-number">10.2</span> The definite integral</h1>
<div class="objectives">
<ol>
<li>
<strong>[Int-3a]</strong> <em>Understand the notation of limits of integration within a definite integral.</em>
</li>
<li>
<strong>[Int-3b]</strong> <em>Determine the units of a definite integral (MMAC pg. 614).</em>
</li>
<li>
<strong>[Int-3c]</strong> <em>Use the algebraic properties of definite integrals (MMAC pg. 615-616) to calculate definite integrals.</em>
</li>
<li>
<strong>[Int-3d]</strong> <em>Calculate definite integrals graphically</em>
</li>
</ol>
</div>

<h1 id="fundamental-theorem-of-calculus">
<span class="header-section-number">10.2</span> Fundamental theorem of calculus</h1>
<div class="objectives">
<ol>
<li>
<strong>[Int-4a]</strong> <em>Understand the Fundamental Theorem of Calculus Part 2 as how to evaluate definite integrals</em>
</li>
<li>
<strong>[Int-4b]</strong> <em>Comprehend how the Fundamental Theorem of Calculus Part 2 graphically can calculate the area between curves (MMAC pgs. 644-645)</em>
</li>
<li>
<strong>[Int-4c]</strong> <em>Understand the Fundamental Theorem of Calculus Part 1 as the net accumulation function</em>
</li>
<li>
<strong>[Int-4d]</strong> <em>Understand how a definite integral with a variable limit of integration outputs a function</em>
</li>
</ol>
</div>
<div class="forinstructor">
<p>By introducing the parent/child metaphor for the kind of relationship captured by differentiation, we’ve anticipated the “Fundamental Theorem.” It therefore won’t seem so fundamental.</p>
<p>So don’t overdo the “Fundamental” part.</p>
</div>

<h1 id="applications">
<span class="header-section-number">10.2</span> Applications</h1>
<p>Beyond those of translating between the kinds of physical quantities introduced at the start.</p>
<div class="objectives">
<ol>
<li>
<strong>[Int-6a]</strong> <em>Understand the relationship between the hump function and the sigmoidal function.</em>
</li>
<li>
<strong>[Int-6b]</strong> <em>Discuss the scientific application of probability density and cumulative probability.</em>
</li>
<li>
<strong>[Int-6c]</strong> <em>Understand the concept of expected value.</em>
</li>
</ol>
</div>

<h1 id="algebraic-methods">
<span class="header-section-number">10.2</span> Algebraic methods</h1>
<div class="objectives">
<ol>
<li>
<strong>[Int-7a]</strong> <em>Find the integral algebraically using the technique u-substitution.</em>
</li>
<li>
<strong>[Int-7b]</strong> <em>Find the integral algebraically of select functions using Integration by Parts.</em>
</li>
</ol>
</div>

<h1 id="multi-variable-integration">
<span class="header-section-number">10.2</span> Multi-variable integration</h1>
<div class="objectives">
<ol>
<li>
<strong>[Int-8a]</strong> <em>Conduct anti-differentiation when multiple variables are in the base function.</em>
</li>
<li>
<strong>[Int-8b]</strong> <em>Conduct multiple iterations of anti-differentiation when multiple variables are in the base function in the correct order.</em>
</li>
<li>
<strong>[Int-8c]</strong> <em>Understand the dimensions and units when integrating with respect to multiple variables.</em>
</li>
</ol>
</div>

<h1 id="part-block-4-linear-combinations" class="unnumbered">(PART) Block 4: Linear combinations</h1>
<h1 id="vectors-and-vector-operations">
<span class="header-section-number">10.2</span> Vectors and Vector Operations</h1>
<div class="objectives">
<ol>
<li>
<strong>[Vec-1a]</strong> <em>Know that vectors can be represented as columns of data or graphically arrows</em>
</li>
<li>
<strong>[Vec-1b]</strong> <em>Know how to perform scalar multiplication and vector addition</em>
</li>
<li>
<strong>[Vec-1c]</strong> <em>Understand the transpose operator and how to compute the dot product between two vectors</em>
</li>
<li>
<strong>[Vec-1d]</strong> <em>Calculate the length of a vector</em>
</li>
<li>
<strong>[Vec-1e]</strong> <em>Know that computing the dot product of a vector with itself is equivalent to length squared</em>
</li>
</ol>
</div>
<h1 id="linear-combinations-of-vectors">
<span class="header-section-number">10.2</span> Linear Combinations of Vectors</h1>
<div class="objectives">
<ol>
<li>
<strong>[Vec-2a]</strong> <em>Write a system of linear equations as an equivalent target problem involving a linear combination of vectors</em>
</li>
<li>
<strong>[Vec-2b]</strong> <em>Know the definition of a linear combination of vectors and be able to rewrite as a matrix times a vector</em>
</li>
<li>
<strong>[Vec-2c]</strong> <em>Solve for a target vector algebraically or graphically in two dimensions</em>
</li>
<li>
<strong>[Vec-2d]</strong> <em>Know how to calculate the distance between two vectors and how to subtract vectors algebraically and graphically</em>
</li>
</ol>
</div>
<h1 id="orthogonal-vectors-and-projection">
<span class="header-section-number">10.2</span> Orthogonal Vectors and Projection</h1>
<div class="objectives">
<ol>
<li>
<strong>[Vec-3a]</strong> <em>Calculate the angle between two vectors</em>
</li>
<li>
<strong>[Vec-3b]</strong> <em>Find a nonzero vector orthogonal to a given vector</em>
</li>
<li>
<strong>[Vec-3c]</strong> <em>Calculate the projection of a vector onto another vector</em>
</li>
<li>
<strong>[Vec-3d]</strong> <em>Sketch the projection of one vector onto another and then draw the residual vector</em>
</li>
</ol>
</div>
<h1 id="solutions-of-linear-combination-day-1">
<span class="header-section-number">10.2</span> Solutions of Linear Combination (Day 1)</h1>
<div class="objectives">
<ol>
<li>
<strong>[Vec-4a]</strong> <em>Write a target problem in the form</em>
</li>
<li>
<strong>[Vec-4b]</strong> <em>Understand the relationship between b and b hat and calculate the residual vector</em>
</li>
<li>
<strong>[Vec-4c]</strong> <em>Calculate solutions to vector equations using R</em>
</li>
</ol>
</div>
<h1 id="solutions-of-linear-combination-day-2">
<span class="header-section-number">10.2</span> Solutions of Linear Combination (Day 2)</h1>
<div class="objectives">
<ol>
<li>
<strong>[Vec-5a]</strong> <em>Understand applications of projections</em>
</li>
<li>
<strong>[Vec-5b]</strong> <em>Understand the relationship between projections and Method of Least Squares</em>
</li>
<li>
<strong>[Vec-5c]</strong> <em>Understand what the qr.solve() function gives you (this is testable).</em>
</li>
</ol>
</div>
<h1 id="method-of-least-squares-day-1">
<span class="header-section-number">10.2</span> Method of Least Squares (Day 1)</h1>
<pre><code>::: {.objectives}</code></pre>
<ol>
<li>
<strong>[Vec-6a]</strong> <em>Apply projections to decompose a vector into two directions</em>
</li>
<li>
<strong>[Vec-6b]</strong> <em>Understand the connection between projections into the model space and solutions to the target problem</em>
</li>
<li>
<strong>[Vec-6c]</strong> <em>Know that R2 is a measure of how well the model accounts for variability in the output variable</em>
</li>
<li>
<strong>[Vec-6d]</strong> <em>Know that R2 is the cosine of the angle between and</em>
</li>
</ol>
</div>
</details>
</div>
</div>

  <div class="chapter-nav">
<div class="prev"><a href="dimensions-and-units.html"><span class="header-section-number">9</span> Dimensions and units</a></div>
<div class="next"><a href="NA.html"><span class="header-section-number">10.2</span> Functions and patterns</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#unassigned-exercises"><span class="header-section-number">10</span> Unassigned exercises</a></li>
<li><a class="nav-link" href="#combining-functions"><span class="header-section-number">10.1</span> Combining functions</a></li>
<li><a class="nav-link" href="#hump-sigmoid-functions"><span class="header-section-number">10.2</span> Hump &amp; sigmoid functions</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/dtkaplan/CalcZ-notes/blob/master/Fun-exercises.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/dtkaplan/CalcZ-notes/edit/master/Fun-exercises.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>CalcZ Student Notes</strong>" was written by Daniel Kaplan. It was last built on 2021-05-19.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>
</html>
